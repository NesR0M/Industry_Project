/*! For license information please see main.2db85823.js.LICENSE.txt */
(()=>{var e={146:(e,t)=>{"use strict";function n(e,t,n){void 0===n&&(n="ticks");var i=0,r=e.length,s=r;if(r>0&&e[r-1][n]<=t)return r-1;for(;i<s;){var o=Math.floor(i+(s-i)/2),a=e[o],l=e[o+1];if(a[n]===t){for(var c=o;c<e.length;c++){e[c][n]===t&&(o=c)}return o}if(a[n]<t&&l[n]>t)return o;a[n]>t?s=o:a[n]<t&&(i=o+1)}return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.insert=t.search=void 0,t.search=n,t.insert=function(e,t,i){if(void 0===i&&(i="ticks"),e.length){var r=n(e,t[i],i);e.splice(r+1,0,t)}else e.push(t)}},182:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlChange=t.controlChangeIds=t.controlChangeNames=void 0,t.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},t.controlChangeIds=Object.keys(t.controlChangeNames).reduce((function(e,n){return e[t.controlChangeNames[n]]=n,e}),{});var n=new WeakMap,i=new WeakMap,r=function(){function e(e,t){n.set(this,t),i.set(this,e.controllerType),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(e.prototype,"number",{get:function(){return i.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return t.controlChangeNames[this.number]?t.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return n.get(this).ticksToSeconds(this.ticks)},set:function(e){var t=n.get(this);this.ticks=t.secondsToTicks(e)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},e}();t.ControlChange=r},966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createControlChanges=void 0;var i=n(182);t.createControlChanges=function(){return new Proxy({},{get:function(e,t){return e[t]?e[t]:i.controlChangeIds.hasOwnProperty(t)?e[i.controlChangeIds[t]]:void 0},set:function(e,t,n){return i.controlChangeIds.hasOwnProperty(t)?e[i.controlChangeIds[t]]=n:e[t]=n,!0}})}},573:function(e,t,n){"use strict";var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.encode=void 0;var r=n(191),s=n(809),o=n(346);function a(e){return(0,o.flatten)(e.notes.map((function(t){return function(e,t){return[{absoluteTime:e.ticks,channel:t,deltaTime:0,noteNumber:e.midi,type:"noteOn",velocity:Math.floor(127*e.velocity)},{absoluteTime:e.ticks+e.durationTicks,channel:t,deltaTime:0,noteNumber:e.midi,type:"noteOff",velocity:Math.floor(127*e.noteOffVelocity)}]}(t,e.channel)})))}function l(e,t){return{absoluteTime:e.ticks,channel:t,controllerType:e.number,deltaTime:0,type:"controller",value:Math.floor(127*e.value)}}function c(e){return{absoluteTime:0,channel:e.channel,deltaTime:0,programNumber:e.instrument.number,type:"programChange"}}t.encode=function(e){var t={header:{format:1,numTracks:e.tracks.length+1,ticksPerBeat:e.header.ppq},tracks:i([i(i(i(i([{absoluteTime:0,deltaTime:0,meta:!0,text:e.header.name,type:"trackName"}],e.header.keySignatures.map((function(e){return function(e){var t=s.keySignatureKeys.indexOf(e.key);return{absoluteTime:e.ticks,deltaTime:0,key:t+7,meta:!0,scale:"major"===e.scale?0:1,type:"keySignature"}}(e)})),!0),e.header.meta.map((function(e){return{absoluteTime:(t=e).ticks,deltaTime:0,meta:!0,text:t.text,type:t.type};var t})),!0),e.header.tempos.map((function(e){return function(e){return{absoluteTime:e.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/e.bpm),type:"setTempo"}}(e)})),!0),e.header.timeSignatures.map((function(e){return function(e){return{absoluteTime:e.ticks,deltaTime:0,denominator:e.timeSignature[1],meta:!0,metronome:24,numerator:e.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}(e)})),!0)],e.tracks.map((function(e){return i(i(i([(t=e.name,{absoluteTime:0,deltaTime:0,meta:!0,text:t,type:"trackName"}),c(e)],a(e),!0),function(e){for(var t=[],n=0;n<127;n++)e.controlChanges.hasOwnProperty(n)&&e.controlChanges[n].forEach((function(n){t.push(l(n,e.channel))}));return t}(e),!0),function(e){var t=[];return e.pitchBends.forEach((function(n){t.push(function(e,t){return{absoluteTime:e.ticks,channel:t,deltaTime:0,type:"pitchBend",value:e.value}}(n,e.channel))})),t}(e),!0);var t})),!0)};return t.tracks=t.tracks.map((function(e){e=e.sort((function(e,t){return e.absoluteTime-t.absoluteTime}));var t=0;return e.forEach((function(e){e.deltaTime=e.absoluteTime-t,t=e.absoluteTime,delete e.absoluteTime})),e.push({deltaTime:0,meta:!0,type:"endOfTrack"}),e})),new Uint8Array((0,r.writeMidi)(t))}},809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.keySignatureKeys=void 0;var i=n(146),r=new WeakMap;t.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var s=function(){function e(e){var n=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",r.set(this,480),e){r.set(this,e.header.ticksPerBeat),e.tracks.forEach((function(e){e.forEach((function(e){e.meta&&("timeSignature"===e.type?n.timeSignatures.push({ticks:e.absoluteTime,timeSignature:[e.numerator,e.denominator]}):"setTempo"===e.type?n.tempos.push({bpm:6e7/e.microsecondsPerBeat,ticks:e.absoluteTime}):"keySignature"===e.type&&n.keySignatures.push({key:t.keySignatureKeys[e.key+7],scale:0===e.scale?"major":"minor",ticks:e.absoluteTime}))}))}));var i=0;e.tracks[0].forEach((function(e){i+=e.deltaTime,e.meta&&("trackName"===e.type?n.name=e.text:"text"!==e.type&&"cuePoint"!==e.type&&"marker"!==e.type&&"lyrics"!==e.type||n.meta.push({text:e.text,ticks:i,type:e.type}))})),this.update()}}return e.prototype.update=function(){var e=this,t=0,n=0;this.tempos.sort((function(e,t){return e.ticks-t.ticks})),this.tempos.forEach((function(i,r){var s=r>0?e.tempos[r-1].bpm:e.tempos[0].bpm,o=i.ticks/e.ppq-n,a=60/s*o;i.time=a+t,t=i.time,n+=o})),this.timeSignatures.sort((function(e,t){return e.ticks-t.ticks})),this.timeSignatures.forEach((function(t,n){var i=n>0?e.timeSignatures[n-1]:e.timeSignatures[0],r=(t.ticks-i.ticks)/e.ppq/i.timeSignature[0]/(i.timeSignature[1]/4);i.measures=i.measures||0,t.measures=r+i.measures}))},e.prototype.ticksToSeconds=function(e){var t=(0,i.search)(this.tempos,e);if(-1!==t){var n=this.tempos[t],r=n.time,s=(e-n.ticks)/this.ppq;return r+60/n.bpm*s}return.5*(e/this.ppq)},e.prototype.ticksToMeasures=function(e){var t=(0,i.search)(this.timeSignatures,e);if(-1!==t){var n=this.timeSignatures[t],r=(e-n.ticks)/this.ppq;return n.measures+r/(n.timeSignature[0]/n.timeSignature[1])/4}return e/this.ppq/4},Object.defineProperty(e.prototype,"ppq",{get:function(){return r.get(this)},enumerable:!1,configurable:!0}),e.prototype.secondsToTicks=function(e){var t=(0,i.search)(this.tempos,e,"time");if(-1!==t){var n=this.tempos[t],r=(e-n.time)/(60/n.bpm);return Math.round(n.ticks+r*this.ppq)}var s=e/.5;return Math.round(s*this.ppq)},e.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map((function(e){return{bpm:e.bpm,ticks:e.ticks}})),timeSignatures:this.timeSignatures}},e.prototype.fromJSON=function(e){this.name=e.name,this.tempos=e.tempos.map((function(e){return Object.assign({},e)})),this.timeSignatures=e.timeSignatures.map((function(e){return Object.assign({},e)})),this.keySignatures=e.keySignatures.map((function(e){return Object.assign({},e)})),this.meta=e.meta.map((function(e){return Object.assign({},e)})),r.set(this,e.ppq),this.update()},e.prototype.setTempo=function(e){this.tempos=[{bpm:e,ticks:0}],this.update()},e}();t.Header=s},950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Instrument=void 0;var i=n(910),r=new WeakMap,s=function(){function e(e,t){if(this.number=0,r.set(this,t),this.number=0,e){var n=e.find((function(e){return"programChange"===e.type}));n&&(this.number=n.programNumber)}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.percussion?i.DrumKitByPatchID[this.number]:i.instrumentByPatchID[this.number]},set:function(e){var t=i.instrumentByPatchID.indexOf(e);-1!==t&&(this.number=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){return this.percussion?"drums":i.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"percussion",{get:function(){return 9===r.get(this).channel},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},e.prototype.fromJSON=function(e){this.number=e.number},e}();t.Instrument=s},910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrumKitByPatchID=t.InstrumentFamilyByID=t.instrumentByPatchID=void 0,t.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],t.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],t.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}},493:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.Track=t.Midi=void 0;var s=n(191),o=n(809),a=n(868),l=n(573),c=function(){function e(e){var t=this,n=null;if(e){var i=e instanceof ArrayBuffer?new Uint8Array(e):e;(n=(0,s.parseMidi)(i)).tracks.forEach((function(e){var t=0;e.forEach((function(e){t+=e.deltaTime,e.absoluteTime=t}))})),n.tracks=function(e){for(var t=[],n=0;n<e.length;n++)for(var i=t.length,r=new Map,s=Array(16).fill(0),o=0,a=e[n];o<a.length;o++){var l=a[o],c=i,u=l.channel;if(void 0!==u){"programChange"===l.type&&(s[u]=l.programNumber);var h=s[u],d="".concat(h," ").concat(u);r.has(d)?c=r.get(d):(c=i+r.size,r.set(d,c))}t[c]||t.push([]),t[c].push(l)}return t}(n.tracks)}this.header=new o.Header(n),this.tracks=[],e&&(this.tracks=n.tracks.map((function(e){return new a.Track(e,t.header)})),1===n.header.format&&0===this.tracks[0].duration&&this.tracks.shift())}return e.fromUrl=function(t){return i(this,void 0,void 0,(function(){var n;return r(this,(function(i){switch(i.label){case 0:return[4,fetch(t)];case 1:return(n=i.sent()).ok?[4,n.arrayBuffer()]:[3,3];case 2:return[2,new e(i.sent())];case 3:throw new Error("Could not load '".concat(t,"'"))}}))}))},Object.defineProperty(e.prototype,"name",{get:function(){return this.header.name},set:function(e){this.header.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){var e=this.tracks.map((function(e){return e.duration}));return Math.max.apply(Math,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationTicks",{get:function(){var e=this.tracks.map((function(e){return e.durationTicks}));return Math.max.apply(Math,e)},enumerable:!1,configurable:!0}),e.prototype.addTrack=function(){var e=new a.Track(void 0,this.header);return this.tracks.push(e),e},e.prototype.toArray=function(){return(0,l.encode)(this)},e.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map((function(e){return e.toJSON()}))}},e.prototype.fromJSON=function(e){var t=this;this.header=new o.Header,this.header.fromJSON(e.header),this.tracks=e.tracks.map((function(e){var n=new a.Track(void 0,t.header);return n.fromJSON(e),n}))},e.prototype.clone=function(){var t=new e;return t.fromJSON(this.toJSON()),t},e}();t.Midi=c;var u=n(868);Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return u.Track}});var h=n(809);Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return h.Header}})},477:(e,t)=>{"use strict";function n(e){return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][e%12]}Object.defineProperty(t,"__esModule",{value:!0}),t.Note=void 0;var i=function(){var e=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,t={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var i=e.exec(n),r=i[1],s=i[2];return t[r.toLowerCase()]+12*(parseInt(s,10)+1)}}(),r=new WeakMap,s=function(){function e(e,t,n){r.set(this,n),this.midi=e.midi,this.velocity=e.velocity,this.noteOffVelocity=t.velocity,this.ticks=e.ticks,this.durationTicks=t.ticks-e.ticks}return Object.defineProperty(e.prototype,"name",{get:function(){return function(e){var t=Math.floor(e/12)-1;return n(e)+t.toString()}(this.midi)},set:function(e){this.midi=i(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(e){var t=e-this.octave;this.midi+=12*t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pitch",{get:function(){return n(this.midi)},set:function(e){this.midi=12*(this.octave+1)+["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"].indexOf(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){var e=r.get(this);return e.ticksToSeconds(this.ticks+this.durationTicks)-e.ticksToSeconds(this.ticks)},set:function(e){var t=r.get(this).secondsToTicks(this.time+e);this.durationTicks=t-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return r.get(this).ticksToSeconds(this.ticks)},set:function(e){var t=r.get(this);this.ticks=t.secondsToTicks(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bars",{get:function(){return r.get(this).ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},e}();t.Note=s},106:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PitchBend=void 0;var n=new WeakMap,i=function(){function e(e,t){n.set(this,t),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(e.prototype,"time",{get:function(){return n.get(this).ticksToSeconds(this.ticks)},set:function(e){var t=n.get(this);this.ticks=t.secondsToTicks(e)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},e}();t.PitchBend=i},868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=n(146),r=n(182),s=n(966),o=n(106),a=n(950),l=n(477),c=new WeakMap,u=function(){function e(e,t){var n=this;if(this.name="",this.notes=[],this.controlChanges=(0,s.createControlChanges)(),this.pitchBends=[],c.set(this,t),e){var i=e.find((function(e){return"trackName"===e.type}));this.name=i?i.text:""}if(this.instrument=new a.Instrument(e,this),this.channel=0,e){for(var r=e.filter((function(e){return"noteOn"===e.type})),o=e.filter((function(e){return"noteOff"===e.type})),l=function(){var e=r.shift();u.channel=e.channel;var t=o.findIndex((function(t){return t.noteNumber===e.noteNumber&&t.absoluteTime>=e.absoluteTime}));if(-1!==t){var n=o.splice(t,1)[0];u.addNote({durationTicks:n.absoluteTime-e.absoluteTime,midi:e.noteNumber,noteOffVelocity:n.velocity/127,ticks:e.absoluteTime,velocity:e.velocity/127})}},u=this;r.length;)l();e.filter((function(e){return"controller"===e.type})).forEach((function(e){n.addCC({number:e.controllerType,ticks:e.absoluteTime,value:e.value/127})})),e.filter((function(e){return"pitchBend"===e.type})).forEach((function(e){n.addPitchBend({ticks:e.absoluteTime,value:e.value/Math.pow(2,13)})}));var h=e.find((function(e){return"endOfTrack"===e.type}));this.endOfTrackTicks=void 0!==h?h.absoluteTime:void 0}}return e.prototype.addNote=function(e){var t=c.get(this),n=new l.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},t);return Object.assign(n,e),(0,i.insert)(this.notes,n,"ticks"),this},e.prototype.addCC=function(e){var t=c.get(this),n=new r.ControlChange({controllerType:e.number},t);return delete e.number,Object.assign(n,e),Array.isArray(this.controlChanges[n.number])||(this.controlChanges[n.number]=[]),(0,i.insert)(this.controlChanges[n.number],n,"ticks"),this},e.prototype.addPitchBend=function(e){var t=c.get(this),n=new o.PitchBend({},t);return Object.assign(n,e),(0,i.insert)(this.pitchBends,n,"ticks"),this},Object.defineProperty(e.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,t=0;t<this.notes.length-1;t++){var n=this.notes[t].time+this.notes[t].duration;e<n&&(e=n)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,t=0;t<this.notes.length-1;t++){var n=this.notes[t].ticks+this.notes[t].durationTicks;e<n&&(e=n)}return e},enumerable:!1,configurable:!0}),e.prototype.fromJSON=function(e){var t=this;for(var n in this.name=e.name,this.channel=e.channel,this.instrument=new a.Instrument(void 0,this),this.instrument.fromJSON(e.instrument),void 0!==e.endOfTrackTicks&&(this.endOfTrackTicks=e.endOfTrackTicks),e.controlChanges)e.controlChanges[n]&&e.controlChanges[n].forEach((function(e){t.addCC({number:e.number,ticks:e.ticks,value:e.value})}));e.notes.forEach((function(e){t.addNote({durationTicks:e.durationTicks,midi:e.midi,ticks:e.ticks,velocity:e.velocity})}))},e.prototype.toJSON=function(){for(var e={},t=0;t<127;t++)this.controlChanges.hasOwnProperty(t)&&(e[t]=this.controlChanges[t].map((function(e){return e.toJSON()})));var n={channel:this.channel,controlChanges:e,pitchBends:this.pitchBends.map((function(e){return e.toJSON()})),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map((function(e){return e.toJSON()}))};return void 0!==this.endOfTrackTicks&&(n.endOfTrackTicks=this.endOfTrackTicks),n},e}();t.Track=u},346:(e,t,n)=>{"use strict";function i(e){var t=[];return r(e,t),t}function r(e,t){for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?r(i,t):t.push(i)}}n.r(t),n.d(t,{flatten:()=>i})},667:function(e,t,n){!function(e,t,n,i){"use strict";var r=function(e,t,n){return{endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}},s=function(e,t,n){return{endTime:t,insertTime:n,type:"linearRampToValue",value:e}},o=function(e,t){return{startTime:t,type:"setValue",value:e}},a=function(e,t,n){return{duration:n,startTime:t,type:"setValueCurve",values:e}},l=function(e,t,n){var i=n.startTime,r=n.target,s=n.timeConstant;return r+(t-r)*Math.exp((i-e)/s)},c=function(e){return"exponentialRampToValue"===e.type},u=function(e){return"linearRampToValue"===e.type},h=function(e){return c(e)||u(e)},d=function(e){return"setValue"===e.type},p=function(e){return"setValueCurve"===e.type},f=function e(t,n,i,r){var s=t[n];return void 0===s?r:h(s)||d(s)?s.value:p(s)?s.values[s.values.length-1]:l(i,e(t,n-1,s.startTime,r),s)},m=function(e,t,n,i,r){return void 0===n?[i.insertTime,r]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:p(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(e,t-1,n.startTime,r)]},g=function(e){return"cancelAndHold"===e.type},v=function(e){return"cancelScheduledValues"===e.type},y=function(e){return g(e)||v(e)?e.cancelTime:c(e)||u(e)?e.endTime:e.startTime},_=function(e,t,n,i){var r=i.endTime,s=i.value;return n===s?s:0<n&&0<s||n<0&&s<0?n*Math.pow(s/n,(e-t)/(r-t)):0},b=function(e,t,n,i){return n+(e-t)/(i.endTime-t)*(i.value-n)},w=function(e,t){var n=Math.floor(t),i=Math.ceil(t);return n===i?e[n]:(1-(t-n))*e[n]+(1-(i-t))*e[i]},x=function(e,t){var n=t.duration,i=t.startTime,r=t.values,s=(e-i)/n*(r.length-1);return w(r,s)},k=function(e){return"setTarget"===e.type},T=function(e){function w(e){n(this,w),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return i(w,[{key:e,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var t=y(e);if(g(e)||v(e)){var n=this._automationEvents.findIndex((function(n){return v(e)&&p(n)?n.startTime+n.duration>=t:y(n)>=t})),i=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(e)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==i&&h(i)){if(void 0!==l&&k(l))throw new Error("The internal list is malformed.");var d=void 0===l?i.insertTime:p(l)?l.startTime+l.duration:y(l),f=void 0===l?this._defaultValue:p(l)?l.values[l.values.length-1]:l.value,m=c(i)?_(t,d,f,i):b(t,d,f,i),w=c(i)?r(m,t,this._currenTime):s(m,t,this._currenTime);this._automationEvents.push(w)}if(void 0!==l&&k(l)&&this._automationEvents.push(o(this.getValue(t),t)),void 0!==l&&p(l)&&l.startTime+l.duration>t){var x=t-l.startTime,T=(l.values.length-1)/l.duration,S=Math.max(2,1+Math.ceil(x*T)),C=x/(S-1)*T,E=l.values.slice(0,S);if(C<1)for(var A=1;A<S;A+=1){var O=C*A%1;E[A]=l.values[A-1]*(1-O)+l.values[A]*O}this._automationEvents[this._automationEvents.length-1]=a(E,l.startTime,x)}}}else{var I=this._automationEvents.findIndex((function(e){return y(e)>t})),N=-1===I?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[I-1];if(void 0!==N&&p(N)&&y(N)+N.duration>t)return!1;var M=c(e)?r(e.value,e.endTime,this._currenTime):u(e)?s(e.value,t,this._currenTime):e;if(-1===I)this._automationEvents.push(M);else{if(p(e)&&t+e.duration>y(this._automationEvents[I]))return!1;this._automationEvents.splice(I,0,M)}}return!0}},{key:"flush",value:function(e){var t=this._automationEvents.findIndex((function(t){return y(t)>e}));if(t>1){var n=this._automationEvents.slice(t-1),i=n[0];k(i)&&n.unshift(o(f(this._automationEvents,t-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(t){return y(t)>e})),i=this._automationEvents[n],r=(-1===n?this._automationEvents.length:n)-1,s=this._automationEvents[r];if(void 0!==s&&k(s)&&(void 0===i||!h(i)||i.insertTime>e))return l(e,f(this._automationEvents,r-1,s.startTime,this._defaultValue),s);if(void 0!==s&&d(s)&&(void 0===i||!h(i)))return s.value;if(void 0!==s&&p(s)&&(void 0===i||!h(i)||s.startTime+s.duration>e))return e<s.startTime+s.duration?x(e,s):s.values[s.values.length-1];if(void 0!==s&&h(s)&&(void 0===i||!h(i)))return s.value;if(void 0!==i&&c(i)){var o=m(this._automationEvents,r,s,i,this._defaultValue),a=t(o,2),g=a[0],v=a[1];return _(e,g,v,i)}if(void 0!==i&&u(i)){var w=m(this._automationEvents,r,s,i,this._defaultValue),T=t(w,2),S=T[0],C=T[1];return b(e,S,C,i)}return this._defaultValue}}]),w}(Symbol.iterator),S=function(e){return{cancelTime:e,type:"cancelAndHold"}},C=function(e){return{cancelTime:e,type:"cancelScheduledValues"}},E=function(e,t){return{endTime:t,type:"exponentialRampToValue",value:e}},A=function(e,t){return{endTime:t,type:"linearRampToValue",value:e}},O=function(e,t,n){return{startTime:t,target:e,timeConstant:n,type:"setTarget"}};e.AutomationEventList=T,e.createCancelAndHoldAutomationEvent=S,e.createCancelScheduledValuesAutomationEvent=C,e.createExponentialRampToValueAutomationEvent=E,e.createLinearRampToValueAutomationEvent=A,e.createSetTargetAutomationEvent=O,e.createSetValueAutomationEvent=o,e.createSetValueCurveAutomationEvent=a}(t,n(424),n(690),n(728))},694:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var o=r.apply(null,n);o&&e.push(o)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},176:e=>{"use strict";e.exports=function(e,t,n,i,r,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,s,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},191:(e,t,n)=>{t.parseMidi=n(169),t.writeMidi=n(695)},169:e=>{function t(e){for(var t,i=new n(e),r=[];!i.eof();){var s=o();r.push(s)}return r;function o(){var e={};e.deltaTime=i.readVarInt();var n=i.readUInt8();if(240===(240&n)){if(255!==n){if(240==n){e.type="sysEx";s=i.readVarInt();return e.data=i.readBytes(s),e}if(247==n){e.type="endSysEx";s=i.readVarInt();return e.data=i.readBytes(s),e}throw"Unrecognised MIDI event type byte: "+n}e.meta=!0;var r=i.readUInt8(),s=i.readVarInt();switch(r){case 0:if(e.type="sequenceNumber",2!==s)throw"Expected length for sequenceNumber event is 2, got "+s;return e.number=i.readUInt16(),e;case 1:return e.type="text",e.text=i.readString(s),e;case 2:return e.type="copyrightNotice",e.text=i.readString(s),e;case 3:return e.type="trackName",e.text=i.readString(s),e;case 4:return e.type="instrumentName",e.text=i.readString(s),e;case 5:return e.type="lyrics",e.text=i.readString(s),e;case 6:return e.type="marker",e.text=i.readString(s),e;case 7:return e.type="cuePoint",e.text=i.readString(s),e;case 32:if(e.type="channelPrefix",1!=s)throw"Expected length for channelPrefix event is 1, got "+s;return e.channel=i.readUInt8(),e;case 33:if(e.type="portPrefix",1!=s)throw"Expected length for portPrefix event is 1, got "+s;return e.port=i.readUInt8(),e;case 47:if(e.type="endOfTrack",0!=s)throw"Expected length for endOfTrack event is 0, got "+s;return e;case 81:if(e.type="setTempo",3!=s)throw"Expected length for setTempo event is 3, got "+s;return e.microsecondsPerBeat=i.readUInt24(),e;case 84:if(e.type="smpteOffset",5!=s)throw"Expected length for smpteOffset event is 5, got "+s;var o=i.readUInt8();return e.frameRate={0:24,32:25,64:29,96:30}[96&o],e.hour=31&o,e.min=i.readUInt8(),e.sec=i.readUInt8(),e.frame=i.readUInt8(),e.subFrame=i.readUInt8(),e;case 88:if(e.type="timeSignature",2!=s&&4!=s)throw"Expected length for timeSignature event is 4 or 2, got "+s;return e.numerator=i.readUInt8(),e.denominator=1<<i.readUInt8(),4===s?(e.metronome=i.readUInt8(),e.thirtyseconds=i.readUInt8()):(e.metronome=36,e.thirtyseconds=8),e;case 89:if(e.type="keySignature",2!=s)throw"Expected length for keySignature event is 2, got "+s;return e.key=i.readInt8(),e.scale=i.readUInt8(),e;case 127:return e.type="sequencerSpecific",e.data=i.readBytes(s),e;default:return e.type="unknownMeta",e.data=i.readBytes(s),e.metatypeByte=r,e}}else{var a;if(0===(128&n)){if(null===t)throw"Running status byte encountered before status byte";a=n,n=t,e.running=!0}else a=i.readUInt8(),t=n;var l=n>>4;switch(e.channel=15&n,l){case 8:return e.type="noteOff",e.noteNumber=a,e.velocity=i.readUInt8(),e;case 9:var c=i.readUInt8();return e.type=0===c?"noteOff":"noteOn",e.noteNumber=a,e.velocity=c,0===c&&(e.byte9=!0),e;case 10:return e.type="noteAftertouch",e.noteNumber=a,e.amount=i.readUInt8(),e;case 11:return e.type="controller",e.controllerType=a,e.value=i.readUInt8(),e;case 12:return e.type="programChange",e.programNumber=a,e;case 13:return e.type="channelAftertouch",e.amount=a,e;case 14:return e.type="pitchBend",e.value=a+(i.readUInt8()<<7)-8192,e;default:throw"Unrecognised MIDI event type: "+l}}}}function n(e){this.buffer=e,this.bufferLen=this.buffer.length,this.pos=0}n.prototype.eof=function(){return this.pos>=this.bufferLen},n.prototype.readUInt8=function(){var e=this.buffer[this.pos];return this.pos+=1,e},n.prototype.readInt8=function(){var e=this.readUInt8();return 128&e?e-256:e},n.prototype.readUInt16=function(){return(this.readUInt8()<<8)+this.readUInt8()},n.prototype.readInt16=function(){var e=this.readUInt16();return 32768&e?e-65536:e},n.prototype.readUInt24=function(){return(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},n.prototype.readInt24=function(){var e=this.readUInt24();return 8388608&e?e-16777216:e},n.prototype.readUInt32=function(){return(this.readUInt8()<<24)+(this.readUInt8()<<16)+(this.readUInt8()<<8)+this.readUInt8()},n.prototype.readBytes=function(e){var t=this.buffer.slice(this.pos,this.pos+e);return this.pos+=e,t},n.prototype.readString=function(e){var t=this.readBytes(e);return String.fromCharCode.apply(null,t)},n.prototype.readVarInt=function(){for(var e=0;!this.eof();){var t=this.readUInt8();if(!(128&t))return e+t;e+=127&t,e<<=7}return e},n.prototype.readChunk=function(){var e=this.readString(4),t=this.readUInt32();return{id:e,length:t,data:this.readBytes(t)}},e.exports=function(e){var i=new n(e),r=i.readChunk();if("MThd"!=r.id)throw"Bad MIDI file.  Expected 'MHdr', got: '"+r.id+"'";for(var s=function(e){var t=new n(e),i=t.readUInt16(),r=t.readUInt16(),s={format:i,numTracks:r},o=t.readUInt16();32768&o?(s.framesPerSecond=256-(o>>8),s.ticksPerFrame=255&o):s.ticksPerBeat=o;return s}(r.data),o=[],a=0;!i.eof()&&a<s.numTracks;a++){var l=i.readChunk();if("MTrk"!=l.id)throw"Bad MIDI file.  Expected 'MTrk', got: '"+l.id+"'";var c=t(l.data);o.push(c)}return{header:s,tracks:o}}},695:e=>{function t(e,t,r){var s,o=new i,a=t.length,l=null;for(s=0;s<a;s++)!1!==r.running&&(r.running||t[s].running)||(l=null),l=n(o,t[s],l,r.useByte9ForNoteOff);e.writeChunk("MTrk",o.buffer)}function n(e,t,n,i){var r=t.type,s=t.deltaTime,o=t.text||"",a=t.data||[],l=null;switch(e.writeVarInt(s),r){case"sequenceNumber":e.writeUInt8(255),e.writeUInt8(0),e.writeVarInt(2),e.writeUInt16(t.number);break;case"text":e.writeUInt8(255),e.writeUInt8(1),e.writeVarInt(o.length),e.writeString(o);break;case"copyrightNotice":e.writeUInt8(255),e.writeUInt8(2),e.writeVarInt(o.length),e.writeString(o);break;case"trackName":e.writeUInt8(255),e.writeUInt8(3),e.writeVarInt(o.length),e.writeString(o);break;case"instrumentName":e.writeUInt8(255),e.writeUInt8(4),e.writeVarInt(o.length),e.writeString(o);break;case"lyrics":e.writeUInt8(255),e.writeUInt8(5),e.writeVarInt(o.length),e.writeString(o);break;case"marker":e.writeUInt8(255),e.writeUInt8(6),e.writeVarInt(o.length),e.writeString(o);break;case"cuePoint":e.writeUInt8(255),e.writeUInt8(7),e.writeVarInt(o.length),e.writeString(o);break;case"channelPrefix":e.writeUInt8(255),e.writeUInt8(32),e.writeVarInt(1),e.writeUInt8(t.channel);break;case"portPrefix":e.writeUInt8(255),e.writeUInt8(33),e.writeVarInt(1),e.writeUInt8(t.port);break;case"endOfTrack":e.writeUInt8(255),e.writeUInt8(47),e.writeVarInt(0);break;case"setTempo":e.writeUInt8(255),e.writeUInt8(81),e.writeVarInt(3),e.writeUInt24(t.microsecondsPerBeat);break;case"smpteOffset":e.writeUInt8(255),e.writeUInt8(84),e.writeVarInt(5);var c=31&t.hour|{24:0,25:32,29:64,30:96}[t.frameRate];e.writeUInt8(c),e.writeUInt8(t.min),e.writeUInt8(t.sec),e.writeUInt8(t.frame),e.writeUInt8(t.subFrame);break;case"timeSignature":e.writeUInt8(255),e.writeUInt8(88),e.writeVarInt(4),e.writeUInt8(t.numerator);var u=255&Math.floor(Math.log(t.denominator)/Math.LN2);e.writeUInt8(u),e.writeUInt8(t.metronome),e.writeUInt8(t.thirtyseconds||8);break;case"keySignature":e.writeUInt8(255),e.writeUInt8(89),e.writeVarInt(2),e.writeInt8(t.key),e.writeUInt8(t.scale);break;case"sequencerSpecific":e.writeUInt8(255),e.writeUInt8(127),e.writeVarInt(a.length),e.writeBytes(a);break;case"unknownMeta":null!=t.metatypeByte&&(e.writeUInt8(255),e.writeUInt8(t.metatypeByte),e.writeVarInt(a.length),e.writeBytes(a));break;case"sysEx":e.writeUInt8(240),e.writeVarInt(a.length),e.writeBytes(a);break;case"endSysEx":e.writeUInt8(247),e.writeVarInt(a.length),e.writeBytes(a);break;case"noteOff":(l=(!1!==i&&t.byte9||i&&0==t.velocity?144:128)|t.channel)!==n&&e.writeUInt8(l),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteOn":(l=144|t.channel)!==n&&e.writeUInt8(l),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteAftertouch":(l=160|t.channel)!==n&&e.writeUInt8(l),e.writeUInt8(t.noteNumber),e.writeUInt8(t.amount);break;case"controller":(l=176|t.channel)!==n&&e.writeUInt8(l),e.writeUInt8(t.controllerType),e.writeUInt8(t.value);break;case"programChange":(l=192|t.channel)!==n&&e.writeUInt8(l),e.writeUInt8(t.programNumber);break;case"channelAftertouch":(l=208|t.channel)!==n&&e.writeUInt8(l),e.writeUInt8(t.amount);break;case"pitchBend":(l=224|t.channel)!==n&&e.writeUInt8(l);var h=8192+t.value,d=127&h,p=h>>7&127;e.writeUInt8(d),e.writeUInt8(p);break;default:throw"Unrecognized event type: "+r}return l}function i(){this.buffer=[]}i.prototype.writeUInt8=function(e){this.buffer.push(255&e)},i.prototype.writeInt8=i.prototype.writeUInt8,i.prototype.writeUInt16=function(e){var t=e>>8&255,n=255&e;this.writeUInt8(t),this.writeUInt8(n)},i.prototype.writeInt16=i.prototype.writeUInt16,i.prototype.writeUInt24=function(e){var t=e>>16&255,n=e>>8&255,i=255&e;this.writeUInt8(t),this.writeUInt8(n),this.writeUInt8(i)},i.prototype.writeInt24=i.prototype.writeUInt24,i.prototype.writeUInt32=function(e){var t=e>>24&255,n=e>>16&255,i=e>>8&255,r=255&e;this.writeUInt8(t),this.writeUInt8(n),this.writeUInt8(i),this.writeUInt8(r)},i.prototype.writeInt32=i.prototype.writeUInt32,i.prototype.writeBytes=function(e){this.buffer=this.buffer.concat(Array.prototype.slice.call(e,0))},i.prototype.writeString=function(e){var t,n=e.length,i=[];for(t=0;t<n;t++)i.push(e.codePointAt(t));this.writeBytes(i)},i.prototype.writeVarInt=function(e){if(e<0)throw"Cannot write negative variable-length integer";if(e<=127)this.writeUInt8(e);else{var t=e,n=[];for(n.push(127&t),t>>=7;t;){var i=127&t|128;n.push(i),t>>=7}this.writeBytes(n.reverse())}},i.prototype.writeChunk=function(e,t){this.writeString(e),this.writeUInt32(t.length),this.writeBytes(t)},e.exports=function(e,n){if("object"!==typeof e)throw"Invalid MIDI data";n=n||{};var r,s=e.header||{},o=e.tracks||[],a=o.length,l=new i;for(function(e,t,n){var r=null==t.format?1:t.format,s=128;t.timeDivision?s=t.timeDivision:t.ticksPerFrame&&t.framesPerSecond?s=-(255&t.framesPerSecond)<<8|255&t.ticksPerFrame:t.ticksPerBeat&&(s=32767&t.ticksPerBeat);var o=new i;o.writeUInt16(r),o.writeUInt16(n),o.writeUInt16(s),e.writeChunk("MThd",o.buffer)}(l,s,a),r=0;r<a;r++)t(l,o[r],n);return l.buffer}},888:(e,t,n)=>{"use strict";var i=n(47);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,o){if(o!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},7:(e,t,n)=>{e.exports=n(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,n)=>{"use strict";var i=n(791),r=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,i,r,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var j,F=Object.assign;function V(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var L=!1;function q(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case S:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function K(e,t){J(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Te=null;function Se(e){if(e=_r(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=wr(t),xe(e.stateNode,e.type,t))}}function Ce(e){ke?Te?Te.push(e):Te=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Te;if(Te=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Oe(){}var Ie=!1;function Ne(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ae(e,t,n)}finally{Ie=!1,(null!==ke||null!==Te)&&(Oe(),Ee())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var i=wr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Pe=!1}function De(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Fe=null,Ve=!1,Le=null,qe={onError:function(e){je=!0,Fe=e}};function Be(e,t,n,i,r,s,o,a,l){je=!1,Fe=null,De.apply(qe,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return We(r),e;if(o===i)return We(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Qe=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,$e=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Je=r.unstable_now,Ke=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=ht(a):0!==(s&=o)&&(i=ht(s))}else 0!==(o=n&~r)?i=ht(o):0!==s&&(i=ht(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,kt,Tt,St,Ct=!1,Et=[],At=null,Ot=null,It=null,Nt=new Map,Mt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function jt(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ft(e){var t=yr(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function Lt(e,t,n){Vt(e)&&n.delete(t)}function qt(){Ct=!1,null!==At&&Vt(At)&&(At=null),null!==Ot&&Vt(Ot)&&(Ot=null),null!==It&&Vt(It)&&(It=null),Nt.forEach(Lt),Mt.forEach(Lt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var i=Et[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Ot&&Bt(Ot,e),null!==It&&Bt(It,e),Nt.forEach(t),Mt.forEach(t),n=0;n<Pt.length;n++)(i=Pt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var Ut=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,i){var r=_t,s=Ut.transition;Ut.transition=null;try{_t=1,Qt(e,t,n,i)}finally{_t=r,Ut.transition=s}}function Gt(e,t,n,i){var r=_t,s=Ut.transition;Ut.transition=null;try{_t=4,Qt(e,t,n,i)}finally{_t=r,Ut.transition=s}}function Qt(e,t,n,i){if(Wt){var r=$t(e,t,n,i);if(null===r)Wi(e,t,i,Xt,n),Dt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return At=jt(At,e,t,n,i,r),!0;case"dragenter":return Ot=jt(Ot,e,t,n,i,r),!0;case"mouseover":return It=jt(It,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Nt.set(s,jt(Nt.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Mt.set(s,jt(Mt.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Dt(e,i),4&t&&-1<Rt.indexOf(e)){for(;null!==r;){var s=_r(r);if(null!==s&&wt(s),null===(s=$t(e,t,n,i))&&Wi(e,t,i,Xt,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var Xt=null;function $t(e,t,n,i){if(Xt=null,null!==(e=yr(e=we(i))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,Kt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Kt,i=n.length,r="value"in Jt?Jt.value:Jt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,i,r,s){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),pn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(pn),mn=sn(F({},pn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(yn),bn=sn(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Tn}var Cn=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Cn),An=sn(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Nn),Pn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var jn=u&&"TextEvent"in window&&!Dn,Fn=u&&(!Rn||Dn&&8<Dn&&11>=Dn),Vn=String.fromCharCode(32),Ln=!1;function qn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Hn(e,t,n,i){Ce(i),0<(t=Gi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Xn(e){Vi(e,0)}function $n(e){if(Q(br(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Kn;if(u){var Zn="oninput"in document;if(!Zn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zn="function"===typeof ei.oninput}Kn=Zn}else Kn=!1;Jn=Kn&&(!document.documentMode||9<document.documentMode)}function ti(){Gn&&(Gn.detachEvent("onpropertychange",ni),Qn=Gn=null)}function ni(e){if("value"===e.propertyName&&$n(Qn)){var t=[];Hn(t,Qn,e,we(e)),Ne(Xn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Qn=n,(Gn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function si(e,t){if("click"===e)return $n(t)}function oi(e,t){if("input"===e||"change"===e)return $n(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!ai(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var o=ui(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,_i=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==gi||gi!==X(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Gi(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},ki={},Ti={};function Si(e){if(ki[e])return ki[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ti)return ki[e]=n[t];return e}u&&(Ti=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ci=Si("animationend"),Ei=Si("animationiteration"),Ai=Si("animationstart"),Oi=Si("transitionend"),Ii=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){Ii.set(e,t),l(t,[e])}for(var Pi=0;Pi<Ni.length;Pi++){var Ri=Ni[Pi];Mi(Ri.toLowerCase(),"on"+(Ri[0].toUpperCase()+Ri.slice(1)))}Mi(Ci,"onAnimationEnd"),Mi(Ei,"onAnimationIteration"),Mi(Ai,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Oi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ji=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Fi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,a,l,c){if(Be.apply(this,arguments),je){if(!je)throw Error(s(198));var u=Fe;je=!1,Fe=null,Ve||(Ve=!0,Le=u)}}(i,t,void 0,e),e.currentTarget=null}function Vi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Fi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Fi(r,a,c),s=l}}}if(Ve)throw e=Le,Ve=!1,Le=null,e}function Li(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(Ui(t,e,2,!1),n.add(i))}function qi(e,t,n){var i=0;t&&(i|=4),Ui(n,e,i,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Bi]){e[Bi]=!0,o.forEach((function(t){"selectionchange"!==t&&(ji.has(t)||qi(t,!1,e),qi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bi]||(t[Bi]=!0,qi("selectionchange",!1,t))}}function Ui(e,t,n,i){switch(Yt(t)){case 1:var r=Ht;break;case 4:r=Gt;break;default:r=Qt}n=r.bind(null,t,n,e),r=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=yr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue e}a=a.parentNode}}i=i.return}Ne((function(){var i=s,r=we(n),o=[];e:{var a=Ii.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Ci:case Ei:case Ai:l=vn;break;case Oi:l=In;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Me(f,d))&&u.push(Hi(f,m,p)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[fr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:br(l),p=null==c?a:br(c),(a=new u(m,f+"leave",l,n,r)).target=h,a.relatedTarget=p,m=null,yr(r)===i&&((u=new u(d,f+"enter",c,n,r)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Qi(p))f++;for(p=0,m=d;m;m=Qi(m))p++;for(;0<f-p;)u=Qi(u),f--;for(;0<p-f;)d=Qi(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Qi(u),d=Qi(d)}u=null}else u=null;null!==l&&Xi(o,a,l,u,!1),null!==c&&null!==h&&Xi(o,h,c,u,!0)}if("select"===(l=(a=i?br(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Wn(a))if(Jn)g=oi;else{g=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=si);switch(g&&(g=g(e,i))?Hn(o,g,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?br(i):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gi=v,vi=i,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,bi(o,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":bi(o,n,r)}var y;if(Rn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?qn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(y=en()):(Kt="value"in(Jt=r)?Jt.value:Jt.textContent,zn=!0)),0<(v=Gi(i,_)).length&&(_=new bn(_,e,null,n,r),o.push({event:_,listeners:v}),y?_.data=y:null!==(y=Bn(n))&&(_.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Vn);case"textInput":return(e=t.data)===Vn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&qn(e,t)?(e=en(),Zt=Kt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Vi(o,t)}))}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Me(e,n))&&i.unshift(Hi(e,s,r)),null!=(s=Me(e,t))&&i.push(Hi(e,s,r))),e=e.return}return i}function Qi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xi(e,t,n,i,r){for(var s=t._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Me(n,s))&&o.unshift(Hi(n,l,a)):r||null!=(l=Me(n,s))&&o.push(Hi(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $i=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function Ji(e){return("string"===typeof e?e:""+e).replace($i,"\n").replace(Yi,"")}function Ki(e,t,n){if(t=Ji(t),Ji(e)!==t&&n)throw Error(s(425))}function Zi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(ar)}:ir;function ar(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);zt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,pr="__reactProps$"+hr,fr="__reactContainer$"+hr,mr="__reactEvents$"+hr,gr="__reactListeners$"+hr,vr="__reactHandles$"+hr;function yr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[dr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[dr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wr(e){return e[pr]||null}var xr=[],kr=-1;function Tr(e){return{current:e}}function Sr(e){0>kr||(e.current=xr[kr],xr[kr]=null,kr--)}function Cr(e,t){kr++,xr[kr]=e.current,e.current=t}var Er={},Ar=Tr(Er),Or=Tr(!1),Ir=Er;function Nr(e,t){var n=e.type.contextTypes;if(!n)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pr(){Sr(Or),Sr(Ar)}function Rr(e,t,n){if(Ar.current!==Er)throw Error(s(168));Cr(Ar,t),Cr(Or,n)}function Dr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(s(108,U(e)||"Unknown",r));return F({},n,i)}function jr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Ir=Ar.current,Cr(Ar,e),Cr(Or,Or.current),!0}function Fr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Dr(e,t,Ir),i.__reactInternalMemoizedMergedChildContext=e,Sr(Or),Sr(Ar),Cr(Ar,e)):Sr(Or),Cr(Or,n)}var Vr=null,Lr=!1,qr=!1;function Br(e){null===Vr?Vr=[e]:Vr.push(e)}function zr(){if(!qr&&null!==Vr){qr=!0;var e=0,t=_t;try{var n=Vr;for(_t=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Vr=null,Lr=!1}catch(r){throw null!==Vr&&(Vr=Vr.slice(e+1)),Qe(Ze,zr),r}finally{_t=t,qr=!1}}return null}var Ur=[],Wr=0,Hr=null,Gr=0,Qr=[],Xr=0,$r=null,Yr=1,Jr="";function Kr(e,t){Ur[Wr++]=Gr,Ur[Wr++]=Hr,Hr=e,Gr=t}function Zr(e,t,n){Qr[Xr++]=Yr,Qr[Xr++]=Jr,Qr[Xr++]=$r,$r=e;var i=Yr;e=Jr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var s=32-ot(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Yr=1<<32-ot(t)+r|n<<r|i,Jr=s+e}else Yr=1<<s|n<<r|i,Jr=e}function es(e){null!==e.return&&(Kr(e,1),Zr(e,1,0))}function ts(e){for(;e===Hr;)Hr=Ur[--Wr],Ur[Wr]=null,Gr=Ur[--Wr],Ur[Wr]=null;for(;e===$r;)$r=Qr[--Xr],Qr[Xr]=null,Jr=Qr[--Xr],Qr[Xr]=null,Yr=Qr[--Xr],Qr[Xr]=null}var ns=null,is=null,rs=!1,ss=null;function os(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,is=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$r?{id:Yr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,is=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=is;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var i=ns;t&&as(e,t)?os(i,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!rs)return us(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=is)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=cr(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=ns?cr(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=is;e;)e=cr(e.nextSibling)}function ps(){is=ns=null,rs=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Tr(null),ys=null,_s=null,bs=null;function ws(){bs=_s=ys=null}function xs(e){var t=vs.current;Sr(vs),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){ys=e,bs=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===ys)throw Error(s(308));_s=e,ys.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Cs=null;function Es(e){null===Cs?Cs=[e]:Cs.push(e)}function As(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Es(t)):(n.next=r.next,r.next=n),t.interleaved=n,Os(e,i)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Is=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Ol)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Os(e,n)}return null===(r=i.interleaved)?(t.next=t,Es(i)):(t.next=r.next,r.next=t),i.interleaved=t,Os(e,n)}function Ds(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function js(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,i){var r=e.updateQueue;Is=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,p=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break e;h=F({},h,d);break e;case 2:Is=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Ls=(new i.Component).refs;function qs(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Ps(i,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,r))&&(ic(t,e,r,i),Ds(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Ps(i,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,r))&&(ic(t,e,r,i),Ds(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=Ps(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Rs(e,r,i))&&(ic(t,e,i,n),Ds(t,e,i))}};function zs(e,t,n,i,r,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function Us(e,t,n){var i=!1,r=Er,s=t.contextType;return"object"===typeof s&&null!==s?s=Ss(s):(r=Mr(t)?Ir:Ar.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Nr(e,r):Er),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Ls,Ns(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Ss(s):(s=Mr(t)?Ir:Ar.current,r.context=Nr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(qs(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Bs.enqueueReplaceState(r,r.state,null),Fs(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===Ls&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xs(e){return(0,e._init)(e._payload)}function $s(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Vc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===k?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&Xs(s)===t.type)?((i=r(t,n.props)).ref=Gs(e,t,n),i.return=e,i):((i=Dc(n.type,n.key,n.props,null,e.mode,i)).ref=Gs(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,s){return null===t||7!==t.tag?((t=jc(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case x:return(t=Lc(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=jc(t,e.mode,n,null)).return=e,t;Qs(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,i):null;case x:return n.key===r?u(e,t,n,i):null;case M:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||D(n))return null!==r?null:h(e,t,n,i,null);Qs(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||D(i))return h(t,e=e.get(n)||null,i,r,null);Qs(t,i)}return null}function m(r,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(r,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(r,h),rs&&Kr(r,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return rs&&Kr(r,m),c}for(h=i(r,h);m<a.length;m++)null!==(g=f(h,r,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),rs&&Kr(r,m),c}function g(r,a,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=p(r,m,y.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(r,m),a=o(_,a,g),null===h?u=_:h.sibling=_,h=_,m=v}if(y.done)return n(r,m),rs&&Kr(r,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return rs&&Kr(r,g),u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(r,e)})),rs&&Kr(r,g),u}return function e(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Xs(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=Gs(i,u,o),s.return=i,i=s;break e}n(i,u);break}t(i,u),u=u.sibling}o.type===k?((s=jc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Dc(o.type,o.key,o.props,null,i.mode,l)).ref=Gs(i,s,o),l.return=i,i=l)}return a(i);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=Lc(o,i.mode,l)).return=i,i=s}return a(i);case M:return e(i,s,(u=o._init)(o._payload),l)}if(te(o))return m(i,s,o,l);if(D(o))return g(i,s,o,l);Qs(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Vc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var Ys=$s(!0),Js=$s(!1),Ks={},Zs=Tr(Ks),eo=Tr(Ks),to=Tr(Ks);function no(e){if(e===Ks)throw Error(s(174));return e}function io(e,t){switch(Cr(to,t),Cr(eo,e),Cr(Zs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Zs),Cr(Zs,t)}function ro(){Sr(Zs),Sr(eo),Sr(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(Cr(eo,e),Cr(Zs,n))}function oo(e){eo.current===e&&(Sr(Zs),Sr(eo))}var ao=Tr(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,po=b.ReactCurrentBatchConfig,fo=0,mo=null,go=null,vo=null,yo=!1,_o=!1,bo=0,wo=0;function xo(){throw Error(s(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function To(e,t,n,i,r,o){if(fo=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(i,r),_o){o=0;do{if(_o=!1,bo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ca,e=n(i,r)}while(_o)}if(ho.current=oa,t=null!==go&&null!==go.next,fo=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function So(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Eo(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Ao(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=Eo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=go,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((fo&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,mo.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(ba=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,mo.lanes|=o,Fl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=Eo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);ai(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function No(){}function Mo(e,t){var n=mo,i=Eo(),r=t(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,ba=!0),i=i.queue,Wo(Do.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Lo(9,Ro.bind(null,n,i,r,t),void 0,null),null===Il)throw Error(s(349));0!==(30&fo)||Po(n,t,r)}return r}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,i){t.value=n,t.getSnapshot=i,jo(t)&&Fo(e)}function Do(e,t,n){return n((function(){jo(t)&&Fo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Fo(e){var t=Os(e,1);null!==t&&ic(t,e,1,-1)}function Vo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Lo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function qo(){return Eo().memoizedState}function Bo(e,t,n,i){var r=Co();mo.flags|=e,r.memoizedState=Lo(1|t,n,void 0,void 0===i?null:i)}function zo(e,t,n,i){var r=Eo();i=void 0===i?null:i;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==i&&ko(i,o.deps))return void(r.memoizedState=Lo(t,n,s,i))}mo.flags|=e,r.memoizedState=Lo(1|t,n,s,i)}function Uo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Qo.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=Eo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ko(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Eo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ko(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&fo)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ai(n,t)||(n=mt(),mo.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var i=po.transition;po.transition={};try{e(!1),t()}finally{_t=n,po.transition=i}}function ea(){return Eo().memoizedState}function ta(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ia(e))ra(t,n);else if(null!==(n=As(e,t,n,i))){ic(n,e,i,tc()),sa(n,t,i)}}function na(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(e))ra(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=t.interleaved;return null===l?(r.next=r,Es(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=As(e,t,r,i))&&(ic(n,e,i,r=tc()),sa(n,t,i))}}function ia(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ra(e,t){_o=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Ss,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},aa={readContext:Ss,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ss,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Co();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ta.bind(null,mo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Vo,useDebugValue:$o,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=mo,r=Co();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&fo)||Po(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Uo(Do.bind(null,i,o,e),[e]),i.flags|=2048,Lo(9,Ro.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Il.identifierPrefix;if(rs){var n=Jr;t=":"+t+"R"+(n=(Yr&~(1<<32-ot(Yr)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ss,useCallback:Yo,useContext:Ss,useEffect:Wo,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Jo,useReducer:Oo,useRef:qo,useState:function(){return Oo(Ao)},useDebugValue:$o,useDeferredValue:function(e){return Ko(Eo(),go.memoizedState,e)},useTransition:function(){return[Oo(Ao)[0],Eo().memoizedState]},useMutableSource:No,useSyncExternalStore:Mo,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ss,useCallback:Yo,useContext:Ss,useEffect:Wo,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Jo,useReducer:Io,useRef:qo,useState:function(){return Io(Ao)},useDebugValue:$o,useDeferredValue:function(e){var t=Eo();return null===go?t.memoizedState=e:Ko(t,go.memoizedState,e)},useTransition:function(){return[Io(Ao)[0],Eo().memoizedState]},useMutableSource:No,useSyncExternalStore:Mo,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",i=t;do{n+=B(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=i),da(0,t)},n}function ma(e,t,n){(n=Ps(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof i&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new pa;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ps(-1,1)).tag=2,Rs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var _a=b.ReactCurrentOwner,ba=!1;function wa(e,t,n,i){t.child=null===e?Js(t,null,n,i):Ys(t,e.child,n,i)}function xa(e,t,n,i,r){n=n.render;var s=t.ref;return Ts(t,r),i=To(e,t,n,i,s,r),n=So(),null===e||ba?(rs&&n&&es(t),t.flags|=1,wa(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ha(e,t,r))}function ka(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ta(e,t,s,i,r))}if(s=e.child,0===(e.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Ha(e,t,r)}return t.flags|=1,(e=Rc(s,i)).ref=t.ref,e.return=t,t.child=e}function Ta(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(li(s,i)&&e.ref===t.ref){if(ba=!1,t.pendingProps=i=s,0===(e.lanes&r))return t.lanes=e.lanes,Ha(e,t,r);0!==(131072&e.flags)&&(ba=!0)}}return Ea(e,t,n,i,r)}function Sa(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Cr(Rl,Pl),Pl|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,Cr(Rl,Pl),Pl|=i;return wa(e,t,r,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,i,r){var s=Mr(n)?Ir:Ar.current;return s=Nr(t,s),Ts(t,r),n=To(e,t,n,i,s,r),i=So(),null===e||ba?(rs&&i&&es(t),t.flags|=1,wa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ha(e,t,r))}function Aa(e,t,n,i,r){if(Mr(n)){var s=!0;jr(t)}else s=!1;if(Ts(t,r),null===t.stateNode)Wa(e,t),Us(t,n,i),Hs(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ss(c):c=Nr(t,c=Mr(n)?Ir:Ar.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&Ws(t,o,i,c),Is=!1;var d=t.memoizedState;o.state=d,Fs(t,i,o,r),l=t.memoizedState,a!==i||d!==l||Or.current||Is?("function"===typeof u&&(qs(t,n,u,i),l=t.memoizedState),(a=Is||zs(t,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Ms(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ss(l):l=Nr(t,l=Mr(n)?Ir:Ar.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ws(t,o,i,l),Is=!1,d=t.memoizedState,o.state=d,Fs(t,i,o,r);var f=t.memoizedState;a!==h||d!==f||Or.current||Is?("function"===typeof p&&(qs(t,n,p,i),f=t.memoizedState),(c=Is||zs(t,n,c,i,d,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Oa(e,t,n,i,s,r)}function Oa(e,t,n,i,r,s){Ca(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Fr(t,n,!1),Ha(e,t,s);i=t.stateNode,_a.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,a,s)):wa(e,t,a,s),t.memoizedState=i.state,r&&Fr(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Rr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rr(0,t.context,!1),io(e,t.containerInfo)}function Na(e,t,n,i,r){return ps(),fs(r),t.flags|=256,wa(e,t,n,i),t.child}var Ma,Pa,Ra,Da,ja={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Va(e,t,n){var i,r=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Cr(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,r,0,null),e=jc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=ja,e):La(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,a){if(n)return 256&t.flags?(t.flags&=-257,qa(e,t,a,i=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Fc({mode:"visible",children:i.children},r,0,null),(o=jc(o,r,a,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&Ys(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=ja,o);if(0===(1&t.mode))return qa(e,t,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,qa(e,t,a,i=ha(o=Error(s(419)),i,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(i=Il)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Os(e,r),ic(i,e,r,-1))}return gc(),qa(e,t,a,i=ha(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,is=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Qr[Xr++]=Yr,Qr[Xr++]=Jr,Qr[Xr++]=$r,Yr=e.id,Jr=e.overflow,$r=t),t=La(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(a){a=r.fallback,l=t.mode,i=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Rc(i,a):(a=jc(a,l,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=ja,r}return e=(a=e.child).sibling,r=Rc(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function La(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qa(e,t,n,i){return null!==i&&fs(i),Ys(t,e.child,null,n),(e=La(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),ks(e.return,t,n)}function za(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Ua(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(wa(e,t,i.children,n),0!==(2&(i=ao.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Cr(ao,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),za(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===lo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xa(e,t,n){var i=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(t),null;case 1:case 17:return Mr(t.type)&&Pr(),Qa(t),null;case 3:return i=t.stateNode,ro(),Sr(Or),Sr(Ar),uo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Pa(e,t),Qa(t),null;case 5:oo(t);var r=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Qa(t),null}if(e=no(Zs.current),hs(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[dr]=t,i[pr]=o,e=0!==(1&t.mode),n){case"dialog":Li("cancel",i),Li("close",i);break;case"iframe":case"object":case"embed":Li("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)Li(Di[r],i);break;case"source":Li("error",i);break;case"img":case"image":case"link":Li("error",i),Li("load",i);break;case"details":Li("toggle",i);break;case"input":Y(i,o),Li("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Li("invalid",i);break;case"textarea":re(i,o),Li("invalid",i)}for(var l in ye(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,c,e),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Li("scroll",i)}switch(n){case"input":G(i),Z(i,o,!0);break;case"textarea":G(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Zi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[pr]=i,Ma(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,i),n){case"dialog":Li("cancel",e),Li("close",e),r=i;break;case"iframe":case"object":case"embed":Li("load",e),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)Li(Di[r],e);r=i;break;case"source":Li("error",e),r=i;break;case"img":case"image":case"link":Li("error",e),Li("load",e),r=i;break;case"details":Li("toggle",e),r=i;break;case"input":Y(e,i),r=$(e,i),Li("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),Li("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Li("invalid",e)}for(o in ye(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Li("scroll",e):null!=u&&_(e,o,u,l))}switch(n){case"input":G(e),Z(e,i,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qa(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(o=i.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Ki(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ki(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Qa(t),null;case 13:if(Sr(ao),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))ds(),ps(),t.flags|=98560,o=!1;else if(o=hs(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qa(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Qa(t),null);case 4:return ro(),Pa(e,t),null===e&&zi(t.stateNode.containerInfo),Qa(t),null;case 10:return xs(t.type._context),Qa(t),null;case 19:if(Sr(ao),null===(o=t.memoizedState))return Qa(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)Ga(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ga(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Ul&&(t.flags|=128,i=!0,Ga(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=lo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Qa(t),null}else 2*Je()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,i=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ao.current,Cr(ao,i?1&n|2:1&n),t):(Qa(t),null);case 22:case 23:return dc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Qa(t),6&t.subtreeFlags&&(t.flags|=8192)):Qa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $a(e,t){switch(ts(t),t.tag){case 1:return Mr(t.type)&&Pr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ro(),Sr(Or),Sr(Ar),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Sr(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(ao),null;case 4:return ro(),null;case 10:return xs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ma=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Ra=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":r=$(e,r),i=$(e,i),o=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Li("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ya=!1,Ja=!1,Ka="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Sc(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&tl(t,n,s)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[pr],delete t[mr],delete t[gr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var i=hl,r=dl;hl=null,pl(e,t,n),dl=r,null!==(hl=i)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),zt(e)):lr(hl,n.stateNode));break;case 4:i=hl,r=dl,hl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),hl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),r=r.next}while(r!==i)}pl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Sc(n,t,a)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ja=(i=Ja)||null!==n.memoizedState,pl(e,t,n),Ja=i):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ka),t.forEach((function(t){var i=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));fl(o,a,r),hl=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Sc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{il(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(g){Sc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(r,o),_e(l,a);var u=_e(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):_(r,h,d,u)}switch(l){case"input":K(r,o);break;case"textarea":se(r,o);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(r,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[pr]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(zl=Je())),4&i&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,gl(t,e),Ja=u):gl(t,e),yl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(f=(p=Za).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:el(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(i,n,g)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){xl(d);continue}}null!==f?(f.return=p,Za=f):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&i&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==Za;){var r=Za,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Ya;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Ya;var c=Ja;if(Ya=o,(Ja=l)&&!c)for(Za=r;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?kl(r):null!==l?(l.return=o,Za=l):kl(r);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=r,Ya=a,Ja=c}wl(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Za=s):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ja)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vs(t,o,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&sl(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function xl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function kl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Sc(t,r,l)}}var s=t.return;try{sl(t)}catch(l){Sc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Tl,Sl=Math.ceil,Cl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Al=b.ReactCurrentBatchConfig,Ol=0,Il=null,Nl=null,Ml=0,Pl=0,Rl=Tr(0),Dl=0,jl=null,Fl=0,Vl=0,Ll=0,ql=null,Bl=null,zl=0,Ul=1/0,Wl=null,Hl=!1,Gl=null,Ql=null,Xl=!1,$l=null,Yl=0,Jl=0,Kl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Ol)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Ml?Ml&-Ml:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ic(e,t,n,i){if(50<Jl)throw Jl=0,Kl=null,Error(s(185));vt(e,n,i),0!==(2&Ol)&&e===Il||(e===Il&&(0===(2&Ol)&&(Vl|=n),4===Dl&&lc(e,Ml)),rc(e,i),1===n&&0===Ol&&0===(1&t.mode)&&(Ul=Je()+500,Lr&&zr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var i=dt(e,e===Il?Ml:0);if(0===i)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Lr=!0,Br(e)}(cc.bind(null,e)):Br(cc.bind(null,e)),or((function(){0===(6&Ol)&&zr()})),n=null;else{switch(bt(i)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ic(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Ol))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var i=dt(e,e===Il?Ml:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var r=Ol;Ol|=2;var o=mc();for(Il===e&&Ml===t||(Wl=null,Ul=Je()+500,pc(e,t));;)try{_c();break}catch(l){fc(e,l)}ws(),Cl.current=o,Ol=r,null!==Nl?t=0:(Il=null,Ml=0,t=Dl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=oc(e,r))),1===t)throw n=jl,pc(e,0),lc(e,i),rc(e,Je()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,i))&&(0!==(o=ft(e))&&(i=o,t=oc(e,o))),1===t))throw n=jl,pc(e,0),lc(e,i),rc(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Bl,Wl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=zl+500-Je())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(xc.bind(null,e,Bl,Wl),t);break}xc(e,Bl,Wl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-ot(i);o=1<<a,(a=t[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Je()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){e.timeoutHandle=ir(xc.bind(null,e,Bl,Wl),i);break}xc(e,Bl,Wl);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Ll,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Ol))throw Error(s(327));kc();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=oc(e,i))}if(1===n)throw n=jl,pc(e,0),lc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Wl),rc(e,Je()),null}function uc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Ul=Je()+500,Lr&&zr())}}function hc(e){null!==$l&&0===$l.tag&&0===(6&Ol)&&kc();var t=Ol;Ol|=1;var n=Al.transition,i=_t;try{if(Al.transition=null,_t=1,e)return e()}finally{_t=i,Al.transition=n,0===(6&(Ol=t))&&zr()}}function dc(){Pl=Rl.current,Sr(Rl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Nl)for(n=Nl.return;null!==n;){var i=n;switch(ts(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Pr();break;case 3:ro(),Sr(Or),Sr(Ar),uo();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Sr(ao);break;case 10:xs(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Nl=e=Rc(e.current,null),Ml=Pl=t,Dl=0,jl=null,Ll=Vl=Fl=0,Bl=ql=null,null!==Cs){for(t=0;t<Cs.length;t++)if(null!==(i=(n=Cs[t]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Cs=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(ws(),ho.current=oa,yo){for(var i=mo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}yo=!1}if(fo=0,vo=go=mo=null,_o=!1,bo=0,El.current=null,null===n||null===n.return){Dl=1,jl=t,Nl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=va(a);if(null!==f){f.flags&=-257,ya(f,a,l,0,t),1&f.mode&&ga(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),fs(ua(c,l));break e}}o=c=ua(c,l),4!==Dl&&(Dl=2),null===ql?ql=[o]:ql.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,js(o,fa(0,c,t));break e;case 1:l=c;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ql||!Ql.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,js(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=oa,null===e?oa:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Il||0===(268435455&Fl)&&0===(268435455&Vl)||lc(Il,Ml)}function vc(e,t){var n=Ol;Ol|=2;var i=mc();for(Il===e&&Ml===t||(Wl=null,pc(e,t));;)try{yc();break}catch(r){fc(e,r)}if(ws(),Ol=n,Cl.current=i,null!==Nl)throw Error(s(261));return Il=null,Ml=0,Dl}function yc(){for(;null!==Nl;)bc(Nl)}function _c(){for(;null!==Nl&&!$e();)bc(Nl)}function bc(e){var t=Tl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wc(e):Nl=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xa(n,t,Pl)))return void(Nl=n)}else{if(null!==(n=$a(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Dl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var i=_t,r=Al.transition;try{Al.transition=null,_t=1,function(e,t,n,i){do{kc()}while(null!==$l);if(0!==(6&Ol))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}(e,o),e===Il&&(Nl=Il=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Ic(tt,(function(){return kc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Al.transition,Al.transition=null;var a=_t;_t=1;var l=Ol;Ol|=4,El.current=null,function(e,t){if(er=Wt,pi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===r&&(l=a),p===o&&++h===i&&(c=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),fi(tr),Wt=!!er,tr=er=null,e.current=n,_l(n,e,r),Ye(),Ol=l,_t=a,Al.transition=o}else e.current=n;if(Xl&&(Xl=!1,$l=e,Yl=r),o=e.pendingLanes,0===o&&(Ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Kl?Jl++:(Jl=0,Kl=e):Jl=0,zr()}(e,t,n,i)}finally{Al.transition=r,_t=i}return null}function kc(){if(null!==$l){var e=bt(Yl),t=Al.transition,n=_t;try{if(Al.transition=null,_t=16>e?16:e,null===$l)var i=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Ol))throw Error(s(331));var r=Ol;for(Ol|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:il(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var p=(h=Za).sibling,f=h.return;if(ol(h),h===u){Za=null;break}if(null!==p){p.return=f,Za=p;break}Za=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var _=e.current;for(Za=_;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=_;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Sc(l,l.return,x)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(Ol=r,zr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(x){}i=!0}return i}finally{_t=n,Al.transition=t}}return!1}function Tc(e,t,n){e=Rs(e,t=fa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ql||!Ql.has(i))){t=Rs(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ml&n)===n&&(4===Dl||3===Dl&&(130023424&Ml)===Ml&&500>Je()-zl?pc(e,0):Ll|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Os(e,t))&&(vt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),Ec(e,n)}function Ic(e,t){return Qe(e,t)}function Nc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,i){return new Nc(e,t,n,i)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,i,r,o){var a=2;if(i=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return jc(n.children,r,o,t);case T:a=8,r|=8;break;case S:return(e=Mc(12,n,t,2|r)).elementType=S,e.lanes=o,e;case O:return(e=Mc(13,n,t,r)).elementType=O,e.lanes=o,e;case I:return(e=Mc(19,n,t,r)).elementType=I,e.lanes=o,e;case P:return Fc(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case E:a=9;break e;case A:a=11;break e;case N:a=14;break e;case M:a=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Mc(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function jc(e,t,n,i){return(e=Mc(7,e,i,t)).lanes=n,e}function Fc(e,t,n,i){return(e=Mc(22,e,i,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,i,r,s,o,a,l){return e=new qc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Mc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(s),e}function zc(e){if(!e)return Er;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Mr(n))return Dr(e,n,t)}return t}function Uc(e,t,n,i,r,s,o,a,l){return(e=Bc(n,i,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Ps(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Rs(n,s,r),e.current.lanes=r,vt(e,r,i),rc(e,i),e}function Wc(e,t,n,i){var r=t.current,s=tc(),o=nc(r);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ps(s,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Rs(r,t,o))&&(ic(e,r,o,s),Ds(e,r,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Or.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),ps();break;case 5:so(t);break;case 1:Mr(t.type)&&jr(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Cr(vs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Cr(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(Cr(ao,1&ao.current),null!==(e=Ha(e,t,n))?e.sibling:null);Cr(ao,1&ao.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ua(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(ao,ao.current),i)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,rs&&0!==(1048576&t.flags)&&Zr(t,Gr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Wa(e,t),e=t.pendingProps;var r=Nr(t,Ar.current);Ts(t,n),r=To(null,t,i,e,r,n);var o=So();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(i)?(o=!0,jr(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ns(t),r.updater=Bs,t.stateNode=r,r._reactInternals=t,Hs(t,i,e,n),t=Oa(null,t,i,!0,o,n)):(t.tag=0,rs&&o&&es(t),wa(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(i),e=gs(i,e),r){case 0:t=Ea(null,t,i,e,n);break e;case 1:t=Aa(null,t,i,e,n);break e;case 11:t=xa(null,t,i,e,n);break e;case 14:t=ka(null,t,i,gs(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ea(e,t,i,r=t.elementType===i?r:gs(i,r),n);case 1:return i=t.type,r=t.pendingProps,Aa(e,t,i,r=t.elementType===i?r:gs(i,r),n);case 3:e:{if(Ia(t),null===e)throw Error(s(387));i=t.pendingProps,r=(o=t.memoizedState).element,Ms(e,t),Fs(t,i,null,n);var a=t.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Na(e,t,i,n,r=ua(Error(s(423)),t));break e}if(i!==r){t=Na(e,t,i,n,r=ua(Error(s(424)),t));break e}for(is=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=Js(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===r){t=Ha(e,t,n);break e}wa(e,t,i,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(t.flags|=32),Ca(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Va(e,t,n);case 4:return io(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ys(t,null,i,n):wa(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,xa(e,t,i,r=t.elementType===i?r:gs(i,r),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,Cr(vs,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Or.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Ps(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ks(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ks(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ts(t,n),i=i(r=Ss(r)),t.flags|=1,wa(e,t,i,n),t.child;case 14:return r=gs(i=t.type,t.pendingProps),ka(e,t,i,r=gs(i.type,r),n);case 15:return Ta(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gs(i,r),Wa(e,t),t.tag=1,Mr(i)?(e=!0,jr(t)):e=!1,Ts(t,n),Us(t,i,r),Hs(t,i,r,n),Oa(null,t,i,!0,e,n);case 19:return Ua(e,t,n);case 22:return Sa(e,t,n)}throw Error(s(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}Wc(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}var o=Uc(t,i,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[fr]=o.current,zi(8===e.nodeType?e.parentNode:e),hc(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=Hc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fr]=l.current,zi(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,i)})),l}(n,t,e,r,i);return Hc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[fr]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Ol)&&(Ul=Je()+500,zr()))}break;case 13:hc((function(){var t=Os(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),Qc(e,1)}},xt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)ic(t,e,134217728,tc());Qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Os(e,t);if(null!==n)ic(n,e,t,tc());Qc(e,t)}},Tt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=wr(i);if(!r)throw Error(s(90));Q(i),K(i,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uc,Oe=hc;var tu={usingClientEntryPoint:!1,Events:[_r,br,wr,Ce,Ee,uc]},nu={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,i="",r=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,zi(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Kc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,r,0,o,a),e[fr]=t.current,zi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yc(t)},t.render=function(e,t,n){if(!Kc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Kc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Kc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var i=n(164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var i=n(791),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!T.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,r,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===s?"."+A(l,0):s,w(o)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),O(o,t,r,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+A(a=e[c],c);l+=O(a,t,r,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=O(a=a.value,t,r,u=s+A(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var i=[],r=0;return O(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},P={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!T.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function w(e){if(g=!1,b(e),!m)if(null!==i(c))m=!0,P(x);else{var t=i(u);null!==t&&R(w,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(C),C=-1),f=!0;var s=p;try{for(b(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!O());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),b(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&R(w,h.startTime-n),l=!1}return l}finally{d=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,T=!1,S=null,C=-1,E=5,A=-1;function O(){return!(t.unstable_now()-A<E)}function I(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?k():(T=!1,S=null)}}else T=!1}if("function"===typeof _)k=function(){_(I)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,M=N.port2;N.port1.onmessage=I,k=function(){M.postMessage(null)}}else k=function(){v(I,0)};function P(e){S=e,T||(T=!0,k())}function R(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(g?(y(C),C=-1):g=!0,R(w,s-o))):(e.sortIndex=a,n(c,e),m||f||(m=!0,P(x))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},391:e=>{"use strict";var t=function(){};e.exports=t},897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},372:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},690:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},728:(e,t,n)=>{var i=n(62);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},872:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},218:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},424:(e,t,n)=>{var i=n(372),r=n(872),s=n(116),o=n(218);e.exports=function(e,t){return i(e)||r(e,t)||s(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},36:(e,t,n)=>{var i=n(698).default;e.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},62:(e,t,n)=>{var i=n(698).default,r=n(36);e.exports=function(e){var t=r(e,"string");return"symbol"===i(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:(e,t,n)=>{var i=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".800e81c2.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="affective_audio_v1:";n.l=(i,r,s,o)=>{if(e[i])e[i].push(r);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[r];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise(((n,i)=>r=e[t]=[n,i]));i.push(r[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,s,o=i[0],a=i[1],l=i[2],c=0;if(o.some((t=>0!==e[t]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(t&&t(i);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkaffective_audio_v1=self.webpackChunkaffective_audio_v1||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{APIConnectionError:()=>gl,APIConnectionTimeoutError:()=>vl,APIError:()=>fl,APIUserAbortError:()=>ml,AuthenticationError:()=>_l,BadRequestError:()=>yl,ConflictError:()=>xl,InternalServerError:()=>Sl,NotFoundError:()=>wl,OpenAIError:()=>pl,PermissionDeniedError:()=>bl,RateLimitError:()=>Tl,UnprocessableEntityError:()=>kl});var t=n(791),i=n(250);const r=n.p+"static/media/logo.c25767e9bb63ed62e44d56365fb17501.svg",s="14.7.77";var o=n(667);const a=new WeakSet,l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v={construct:()=>v},y=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,_=(e,t)=>{const n=[];let i=e.replace(/^[\s]+/,""),r=i.match(y);for(;null!==r;){const e=r[1].slice(1,-1),s=r[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(s),i=i.slice(r[0].length).replace(/^[\s]+/,""),r=i.match(y)}return[n.join(";"),i]},b=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},w=e=>{if(!(e=>{try{new new Proxy(e,v)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!==typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},x=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},k=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[i]=n;return e.delete(i),i},T=(e,t,n,i)=>{const r=x(e,t),s=k(r,(e=>e[0]===n&&e[1]===i));return 0===r.size&&e.delete(t),s},S=e=>x(p,e),C=e=>{if(a.has(e))throw new Error("The AudioNode is already stored.");a.add(e),S(e).forEach((e=>e(!0)))},E=e=>"port"in e,A=e=>{if(!a.has(e))throw new Error("The AudioNode is not stored.");a.delete(e),S(e).forEach((e=>e(!1)))},O=(e,t)=>{!E(e)&&t.every((e=>0===e.size))&&A(e)},I={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},N=(e,t)=>e.context===t,M=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},P=()=>new DOMException("","IndexSizeError"),R=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(i){if(12===i.code)throw P();throw i}})},D={numberOfChannels:1},j=-34028234663852886e22,F=-j,V=e=>a.has(e),L={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},q=e=>x(l,e),B=e=>x(u,e),z=(e,t)=>{const{activeInputs:n}=q(e);n.forEach((n=>n.forEach((n=>{let[i]=n;t.includes(e)||z(i,[...t,e])}))));const i=(e=>"playbackRate"in e)(e)?[e.playbackRate]:E(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e)(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const r of i){const e=B(r);void 0!==e&&e.activeInputs.forEach((e=>{let[n]=e;return z(n,t)}))}V(e)&&A(e)},U=e=>{z(e.destination,[])},W=e=>void 0===e||"number"===typeof e||"string"===typeof e&&("balanced"===e||"interactive"===e||"playback"===e),H=e=>"context"in e,G=e=>H(e[0]),Q=(e,t,n,i)=>{for(const r of e)if(n(r)){if(i)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},X=(e,t,n,i)=>{let[r,s]=n;Q(e,[t,r,s],(e=>e[0]===t&&e[1]===r),i)},$=(e,t,n)=>{let[i,r,s]=t;const o=e.get(i);void 0===o?e.set(i,new Set([[r,s]])):Q(o,[r,s],(e=>e[0]===r),n)},Y=e=>"inputs"in e,J=(e,t,n,i)=>{if(Y(t)){const r=t.inputs[i];return e.connect(r,n,0),[r,n,0]}return e.connect(t,n,i),[t,n,i]},K=(e,t,n)=>{for(const i of e)if(i[0]===t&&i[1]===n)return e.delete(i),i;return null},Z=(e,t)=>{if(!S(e).delete(t))throw new Error("Missing the expected event listener.")},ee=(e,t,n)=>{const i=x(e,t),r=k(i,(e=>e[0]===n));return 0===i.size&&e.delete(t),r},te=(e,t,n,i)=>{Y(t)?e.disconnect(t.inputs[i],n,0):e.disconnect(t,n,i)},ne=e=>x(c,e),ie=e=>x(h,e),re=e=>f.has(e),se=e=>!a.has(e),oe=(e,t)=>new Promise((n=>{if(null!==t)n(!0);else{const t=e.createScriptProcessor(256,1,1),i=e.createGain(),r=e.createBuffer(1,2,44100),s=r.getChannelData(0);s[0]=1,s[1]=1;const o=e.createBufferSource();o.buffer=r,o.loop=!0,o.connect(t).connect(e.destination),o.connect(i),o.disconnect(i),t.onaudioprocess=i=>{const r=i.inputBuffer.getChannelData(0);Array.prototype.some.call(r,(e=>1===e))?n(!0):n(!1),o.stop(),t.onaudioprocess=null,o.disconnect(t),t.disconnect(e.destination)},o.start()}})),ae=(e,t)=>{const n=new Map;for(const i of e)for(const e of i){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach(((e,n)=>t(n,e)))},le=e=>"context"in e,ce=e=>{const t=new Map;e.connect=(e=>function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=le(n)?e(n,i,r):e(n,i),o=t.get(n);return void 0===o?t.set(n,[{input:r,output:i}]):o.every((e=>e.input!==r||e.output!==i))&&o.push({input:r,output:i}),s})(e.connect.bind(e)),e.disconnect=(n=>(i,r,s)=>{if(n.apply(e),void 0===i)t.clear();else if("number"===typeof i)for(const[e,n]of t){const r=n.filter((e=>e.output!==i));0===r.length?t.delete(e):t.set(e,r)}else if(t.has(i))if(void 0===r)t.delete(i);else{const e=t.get(i);if(void 0!==e){const n=e.filter((e=>e.output!==r&&(e.input!==s||void 0===s)));0===n.length?t.delete(i):t.set(i,n)}}for(const[n,o]of t)o.forEach((t=>{le(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)}))})(e.disconnect)},ue=(e,t,n,i)=>{const{activeInputs:r,passiveInputs:s}=B(t),{outputs:o}=q(e),a=S(e),l=o=>{const a=ne(e),l=ie(t);if(o){const t=ee(s,e,n);X(r,e,t,!1),i||re(e)||a.connect(l,n)}else{const t=((e,t,n)=>k(e,(e=>e[0]===t&&e[1]===n)))(r,e,n);$(s,t,!1),i||re(e)||a.disconnect(l,n)}};return!!Q(o,[t,n],(e=>e[0]===t&&e[1]===n),!0)&&(a.add(l),V(e)?X(r,e,[n,l],!0):$(s,[e,n,l],!0),!0)},he=(e,t,n,i,r)=>{const[s,o]=((e,t,n,i)=>{const{activeInputs:r,passiveInputs:s}=q(t),o=K(r[i],e,n);if(null===o)return[T(s,e,n,i)[2],!1];return[o[2],!0]})(e,n,i,r);if(null!==s&&(Z(e,s),!o||t||re(e)||te(ne(e),ne(n),i,r)),V(n)){const{activeInputs:e}=q(n);O(n,e)}},de=(e,t,n,i)=>{const[r,s]=((e,t,n)=>{const{activeInputs:i,passiveInputs:r}=B(t),s=K(i,e,n);if(null===s)return[ee(r,e,n)[1],!1];return[s[2],!0]})(e,n,i);null!==r&&(Z(e,r),!s||t||re(e)||ne(e).disconnect(ie(n),i))};class pe{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._map.forEach(((n,i)=>e.call(t,n,i,this)))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const fe={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function me(e,t,n,i,r){if("function"===typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],i,r);else{const s=e.getChannelData(i);if(0===t[n].byteLength)t[n]=s.slice(r,r+128);else{const e=new Float32Array(s.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const ge=(e,t,n,i,r)=>{"function"===typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],i,r):0!==t[n].byteLength&&e.getChannelData(i).set(t[n],r)},ve=(e,t)=>{const n=[];for(let i=0;i<e;i+=1){const e=[],r="number"===typeof t?t:t[i];for(let t=0;t<r;t+=1)e.push(new Float32Array(128));n.push(e)}return n},ye=async(e,t,n,i,r,s,o)=>{const a=null===t?128*Math.ceil(e.context.length/128):t.length,l=i.channelCount*i.numberOfInputs,c=r.reduce(((e,t)=>e+t),0),u=0===c?null:n.createBuffer(c,a,n.sampleRate);if(void 0===s)throw new Error("Missing the processor constructor.");const h=q(e),d=await((e,t)=>{const n=x(g,e),i=ne(t);return x(n,i)})(n,e),p=ve(i.numberOfInputs,i.channelCount),f=ve(i.numberOfOutputs,r),m=Array.from(e.parameters.keys()).reduce(((e,t)=>({...e,[t]:new Float32Array(128)})),{});for(let g=0;g<a;g+=128){if(i.numberOfInputs>0&&null!==t)for(let e=0;e<i.numberOfInputs;e+=1)for(let n=0;n<i.channelCount;n+=1)me(t,p[e],n,n,g);void 0!==s.parameterDescriptors&&null!==t&&s.parameterDescriptors.forEach(((e,n)=>{let{name:i}=e;me(t,m,i,l+n,g)}));for(let e=0;e<i.numberOfInputs;e+=1)for(let t=0;t<r[e];t+=1)0===f[e][t].byteLength&&(f[e][t]=new Float32Array(128));try{const e=p.map(((e,t)=>0===h.activeInputs[t].size?[]:e)),t=o(g/n.sampleRate,n.sampleRate,(()=>d.process(e,f,m)));if(null!==u)for(let n=0,s=0;n<i.numberOfOutputs;n+=1){for(let e=0;e<r[n];e+=1)ge(u,f[n],e,s+e,g);s+=r[n]}if(!t)break}catch(v){e.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return u},_e={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},be={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},we={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},xe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ke={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Te=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise((i=>{const r=()=>{n.onmessage=null,t.close(),n.close(),i()};n.onmessage=()=>r();try{t.postMessage(e,[e])}catch{}finally{r()}}))},Se={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ce=(e,t,n)=>{const i=t[n];if(void 0===i)throw e();return i},Ee={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Ae={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Oe=()=>new DOMException("","InvalidStateError"),Ie=()=>new DOMException("","InvalidAccessError"),Ne={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Me=(e,t,n,i,r,s,o,a,l,c,u)=>{const h=c.length;let d=a;for(let p=0;p<h;p+=1){let a=n[0]*c[p];for(let t=1;t<r;t+=1){const i=d-t&l-1;a+=n[t]*s[i],a-=e[t]*o[i]}for(let e=r;e<i;e+=1)a+=n[e]*s[d-e&l-1];for(let n=r;n<t;n+=1)a-=e[n]*o[d-n&l-1];s[d]=c[p],o[d]=a,d=d+1&l-1,u[p]=a}return d},Pe={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Re=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},De={numberOfChannels:1},je=(e,t,n)=>{const i=t[n];void 0!==i&&i!==e[n]&&(e[n]=i)},Fe=(e,t)=>{je(e,t,"channelCount"),je(e,t,"channelCountMode"),je(e,t,"channelInterpretation")},Ve=e=>"function"===typeof e.getFloatTimeDomainData,Le=(e,t,n)=>{const i=t[n];void 0!==i&&i!==e[n].value&&(e[n].value=i)},qe=e=>{e.start=(t=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;if("number"===typeof r&&r<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,i,r)})(e.start)},Be=e=>{var t;e.stop=(t=e.stop,function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},ze=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Ue=async(e,t)=>{const n=await(e=>new Promise(((t,n)=>{const{port1:i,port2:r}=new MessageChannel;i.onmessage=e=>{let{data:n}=e;i.close(),r.close(),t(n)},i.onmessageerror=e=>{let{data:t}=e;i.close(),r.close(),n(t)},r.postMessage(e)})))(t);return new e(n)},We=(e,t)=>{const n=e.createBiquadFilter();return Fe(n,t),Le(n,t,"Q"),Le(n,t,"detune"),Le(n,t,"frequency"),Le(n,t,"gain"),je(n,t,"type"),n},He=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return Fe(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Oe()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Oe()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Oe()}})})(n),n},Ge=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Qe=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return Fe(n,t),Le(n,t,"delayTime"),n},Xe=(e,t)=>{const n=e.createGain();return Fe(n,t),Le(n,t,"gain"),n};function $e(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function Ye(e,t){let n=[0,0];for(let s=e.length-1;s>=0;s-=1)r=t,n=[(i=n)[0]*r[0]-i[1]*r[1],i[0]*r[1]+i[1]*r[0]],n[0]+=e[s];var i,r;return n}const Je=(e,t,n,i)=>e.createScriptProcessor(t,n,i),Ke=()=>new DOMException("","NotSupportedError"),Ze={numberOfChannels:1},et={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},tt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},nt={disableNormalization:!1},it={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},rt=()=>new DOMException("","UnknownError"),st={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ot=(e,t,n)=>void 0===e.copyFromChannel?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),at=e=>{if(null===e)return!1;const t=e.length;return t%2!==0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},lt=(e,t,n,i)=>{let r=e;for(;!r.hasOwnProperty(t);)r=Object.getPrototypeOf(r);const{get:s,set:o}=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,{get:n(s),set:i(o)})},ct=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(i){if(9!==i.code)throw i;ct(e,t,n+1e-7)}},ut=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},ht=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},dt=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},pt=(e,t)=>{const n=t.createGain();e.connect(n);const i=(t=>()=>{t.call(e,n),e.removeEventListener("ended",i)})(e.disconnect);e.addEventListener("ended",i),Ge(e,n),e.stop=(t=>{let i=!1;return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(i)try{t.call(e,r)}catch{n.gain.setValueAtTime(0,r)}else t.call(e,r),i=!0}})(e.stop)},ft=(e,t)=>n=>{const i={value:e};return Object.defineProperties(n,{currentTarget:i,target:i}),"function"===typeof t?t.call(e,n):t.handleEvent.call(e,n)},mt=(e=>(t,n,i,r)=>{let[s,o,a]=i;e(t[o],[n,s,a],(e=>e[0]===n&&e[1]===s),r)})(Q),gt=(e=>(t,n,i,r)=>{let[s,o,a]=i;const l=t.get(s);void 0===l?t.set(s,new Set([[o,n,a]])):e(l,[o,n,a],(e=>e[0]===o&&e[1]===n),r)})(Q),vt=(e=>(t,n,i,r)=>e(t[r],(e=>e[0]===n&&e[1]===i)))(k),yt=new WeakMap,_t=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(yt),bt=(wt=new Map,xt=new WeakMap,(e,t)=>{const n=xt.get(e);if(void 0!==n)return n;const i=wt.get(e);if(void 0!==i)return i;try{const n=t();return n instanceof Promise?(wt.set(e,n),n.catch((()=>!1)).then((t=>(wt.delete(e),xt.set(e,t),t)))):(xt.set(e,n),n)}catch{return xt.set(e,!1),!1}});var wt,xt;const kt="undefined"===typeof window?null:window,Tt=((e,t)=>(n,i)=>{const r=n.createAnalyser();if(Fe(r,i),!(i.maxDecibels>i.minDecibels))throw t();return je(r,i,"fftSize"),je(r,i,"maxDecibels"),je(r,i,"minDecibels"),je(r,i,"smoothingTimeConstant"),e(Ve,(()=>Ve(r)))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const i=Math.max(n.length,e.fftSize);for(let e=0;e<i;e+=1)t[e]=.0078125*(n[e]-128);return t}})(r),r})(bt,P),St=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(q),Ct=((e,t,n)=>async(i,r,s)=>{const o=e(i);await Promise.all(o.activeInputs.map(((e,o)=>Array.from(e).map((async e=>{let[a,l]=e;const c=t(a),u=await c.render(a,r),h=i.context.destination;n(a)||i===h&&n(i)||u.connect(s,l,o)})))).reduce(((e,t)=>[...e,...t]),[]))})(q,St,re),Et=((e,t,n)=>()=>{const i=new WeakMap;return{render(r,s){const o=i.get(s);return void 0!==o?Promise.resolve(o):(async(r,s)=>{let o=t(r);if(!N(o,s)){const t={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=e(s,t)}return i.set(s,o),await n(r,s,o),o})(r,s)}}})(Tt,ne,Ct),At=(Ot=d,e=>{const t=Ot.get(e);if(void 0===t)throw Oe();return t});var Ot;const It=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(kt),Nt=(e=>t=>null!==e&&t instanceof e)(It),Mt=new WeakMap,Pt=(e=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(t,n,i){if(null!==n){let r=this._listeners.get(n);void 0===r&&(r=e(this,n),"function"===typeof n&&this._listeners.set(n,r)),this._nativeEventTarget.addEventListener(t,r,i)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const i=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===i?null:i,n)}})(ft),Rt=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(kt),Dt=(e=>t=>null!==e&&t instanceof e)(Rt),jt=(e=>t=>null!==e&&"function"===typeof e.AudioNode&&t instanceof e.AudioNode)(kt),Ft=(e=>t=>null!==e&&"function"===typeof e.AudioParam&&t instanceof e.AudioParam)(kt),Vt=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(kt),Lt=((e,t,n,i,r,s,o,a,l,u,h,d,f,m,g,v)=>class extends u{constructor(t,i,r,s){super(r),this._context=t,this._nativeAudioNode=r;const o=h(t);d(o)&&!0!==n(oe,(()=>oe(o,v)))&&ce(r),c.set(this,r),p.set(this,new Set),"closed"!==t.state&&i&&C(this),e(this,s,r)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw r();const c=h(this._context),u=g(c);if(f(e)||m(e))throw s();if(H(e)){const r=ne(e);try{const t=J(this._nativeAudioNode,r,n,a),i=se(this);(u||i)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!i&&se(e)&&C(e)}catch(p){if(12===p.code)throw s();throw p}if(t(this,e,n,a,u)){const t=l([this],e);ae(t,i(u))}return e}const d=ie(e);if("playbackRate"===d.name&&1024===d.maxValue)throw o();try{this._nativeAudioNode.connect(d,n),(u||se(this))&&this._nativeAudioNode.disconnect(d,n)}catch(p){if(12===p.code)throw s();throw p}if(ue(this,e,n,u)){const t=l([this],e);ae(t,i(u))}}disconnect(e,t,n){let i;const o=h(this._context),c=g(o);if(void 0===e)i=((e,t)=>{const n=q(e),i=[];for(const r of n.outputs)G(r)?he(e,t,...r):de(e,t,...r),i.push(r[0]);return n.outputs.clear(),i})(this,c);else if("number"===typeof e){if(e<0||e>=this.numberOfOutputs)throw r();i=((e,t,n)=>{const i=q(e),r=[];for(const s of i.outputs)s[1]===n&&(G(s)?he(e,t,...s):de(e,t,...s),r.push(s[0]),i.outputs.delete(s));return r})(this,c,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw r();if(H(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw r();if(i=((e,t,n,i,r)=>{const s=q(e);return Array.from(s.outputs).filter((e=>e[0]===n&&(void 0===i||e[1]===i)&&(void 0===r||e[2]===r))).map((n=>(G(n)?he(e,t,...n):de(e,t,...n),s.outputs.delete(n),n[0])))})(this,c,e,t,n),0===i.length)throw s()}for(const r of i){const e=l([this],r);ae(e,a)}}})((qt=l,(e,t,n)=>{const i=[];for(let r=0;r<n.numberOfInputs;r+=1)i.push(new Set);qt.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,i,r,s,o,a,l,c,u,h,d)=>{const p=new WeakMap;return(f,m,g,v,y)=>{const{activeInputs:_,passiveInputs:b}=s(m),{outputs:w}=s(f),x=a(f),k=s=>{const a=l(m),c=l(f);if(s){const t=T(b,f,g,v);e(_,f,t,!1),y||h(f)||n(c,a,g,v),d(m)&&C(m)}else{const e=i(_,f,g,v);t(b,v,e,!1),y||h(f)||r(c,a,g,v);const n=o(m);if(0===n)u(m)&&O(m,_);else{const e=p.get(m);void 0!==e&&clearTimeout(e),p.set(m,setTimeout((()=>{u(m)&&O(m,_)}),1e3*n))}}};return!!c(w,[m,g,v],(e=>e[0]===m&&e[1]===g&&e[2]===v),!0)&&(x.add(k),u(f)?e(_,f,[g,v,k],!0):t(b,v,[f,g,k],!0),!0)}})(mt,gt,J,vt,te,q,_t,S,ne,Q,V,re,se),bt,((e,t,n,i,r,s)=>o=>(a,l)=>{const c=e.get(a);if(void 0===c){if(!o&&s(a)){const e=i(a),{outputs:s}=n(a);for(const n of s)if(G(n)){const r=i(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.disconnect(t,n[1])}}e.set(a,l)}else e.set(a,c+l)})(f,te,q,ne,ie,V),P,Ie,Ke,((e,t,n,i,r,s,o,a)=>(l,c)=>{const u=t.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=s(l.context),d=a(h);if(u===c){if(t.delete(l),!d&&o(l)){const t=i(l),{outputs:s}=n(l);for(const n of s)if(G(n)){const r=i(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.connect(e,n[1])}}}else t.set(l,u-c)})(J,f,q,ne,ie,At,V,Nt),((e,t,n)=>function i(r,s){const o=H(s)?s:n(e,s);if((e=>"delayTime"in e)(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=t(o);return Array.from(a).map((e=>i([...r,o],e[0]))).reduce(((e,t)=>e.concat(t)),[])})(Mt,q,x),Pt,At,Dt,jt,Ft,Nt,Vt);var qt;const Bt=((e,t,n,i,r,s)=>class extends e{constructor(e,n){const o=r(e),a={...I,...n},l=i(o,a);super(e,!1,l,s(o)?t():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(Lt,Et,P,Tt,At,Nt),zt=new WeakSet,Ut=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(kt),Wt=(Ht=new Uint32Array(1),e=>(Ht[0]=e,Ht[0]));var Ht;const Gt=((e,t)=>n=>{n.copyFromChannel=function(i,r){const s=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=e(r);if(o>=n.numberOfChannels)throw t();const a=n.length,l=n.getChannelData(o),c=i.length;for(let e=s<0?-s:0;e+s<a&&e<c;e+=1)i[e]=l[e+s]},n.copyToChannel=function(i,r){const s=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=e(r);if(o>=n.numberOfChannels)throw t();const a=n.length,l=n.getChannelData(o),c=i.length;for(let e=s<0?-s:0;e+s<a&&e<c;e+=1)l[e+s]=i[e]}})(Wt,P),Qt=(e=>t=>{t.copyFromChannel=(n=>function(i,r){const s=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=e(r);if(s<t.length)return n.call(t,i,o,s)})(t.copyFromChannel),t.copyToChannel=(n=>function(i,r){const s=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=e(r);if(s<t.length)return n.call(t,i,o,s)})(t.copyToChannel)})(Wt),Xt=((e,t,n,i,r,s,o,a)=>{let l=null;return class c{constructor(c){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:d}={...D,...c};null===l&&(l=new r(1,1,44100));const p=null!==i&&t(s,s)?new i({length:u,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,u,d);if(0===p.numberOfChannels)throw n();return"function"!==typeof p.copyFromChannel?(o(p),R(p)):t(M,(()=>M(p)))||a(p),e.add(p),p}static[Symbol.hasInstance](t){return null!==t&&"object"===typeof t&&Object.getPrototypeOf(t)===c.prototype||e.has(t)}}})(zt,bt,Ke,Ut,It,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0})(Ut),Gt,Qt),$t=(e=>(t,n)=>{const i=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(i).connect(t.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(i),i.disconnect()};n.addEventListener("ended",r)})(Xe),Yt=((e,t,n)=>async(i,r,s)=>{const o=t(i);await Promise.all(Array.from(o.activeInputs).map((async t=>{let[i,o]=t;const a=e(i),l=await a.render(i,r);n(i)||l.connect(s,o)})))})(St,B,re),Jt=(e=>(t,n,i)=>e(n,t,i))(Yt),Kt=((e,t,n,i,r,s,o,a,l,c,u)=>(h,d)=>{const p=h.createBufferSource();return Fe(p,d),Le(p,d,"playbackRate"),je(p,d,"buffer"),je(p,d,"loop"),je(p,d,"loopEnd"),je(p,d,"loopStart"),t(n,(()=>n(h)))||(e=>{e.start=(t=>{let n=!1;return function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;if(n)throw Oe();t.call(e,i,r,s),n=!0}})(e.start)})(p),t(i,(()=>i(h)))||l(p),t(r,(()=>r(h)))||c(p,h),t(s,(()=>s(h)))||qe(p),t(o,(()=>o(h)))||u(p,h),t(a,(()=>a(h)))||Be(p),e(h,p),p})($t,bt,(e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1}),(e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0}),(e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0}),ut,ht,dt,(e=>{e.start=(t=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;const s=e.buffer,o=null===s?i:Math.min(s.duration,i);null!==s&&o>s.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,o,r)})(e.start)}),(e=>(t,n)=>{const i=n.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=i),e(t,"buffer",(e=>()=>{const n=e.call(t);return n===i?null:n}),(e=>n=>e.call(t,null===n?i:n)))})(lt),pt),Zt=((e,t)=>(n,i,r)=>(e(i).replay(r),t(i,n,r)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(B),Yt),en=((e,t,n,i,r)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(e){o=e},set stop(e){a=e},render(l,c){const u=s.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=N(u,c);if(!h){const e={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=t(c,e),null!==o&&u.start(...o),null!==a&&u.stop(a)}return s.set(c,u),h?await e(c,l.playbackRate,u.playbackRate):await i(c,l.playbackRate,u.playbackRate),await r(l,c,u),u})(l,c)}}})(Jt,Kt,ne,Zt,Ct),tn=((e,t,n,i,r,s,a,l,c,u,h,d,p)=>function(f,m,g){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const _=g.value,b=new o.AutomationEventList(_),w=m?i(b):null,x={get defaultValue(){return _},get maxValue(){return null===v?g.maxValue:v},get minValue(){return null===y?g.minValue:y},get value(){return g.value},set value(e){g.value=e,x.setValueAtTime(e,f.context.currentTime)},cancelAndHoldAtTime(e){if("function"===typeof g.cancelAndHoldAtTime)null===w&&b.flush(f.context.currentTime),b.add(r(e)),g.cancelAndHoldAtTime(e);else{const t=Array.from(b).pop();null===w&&b.flush(f.context.currentTime),b.add(r(e));const n=Array.from(b).pop();g.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?g.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?g.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?g.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&g.setValueCurveAtTime(n.values,n.startTime,n.duration))}return x},cancelScheduledValues:e=>(null===w&&b.flush(f.context.currentTime),b.add(s(e)),g.cancelScheduledValues(e),x),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;const n=f.context.currentTime;return null===w&&b.flush(n),0===Array.from(b).length&&(b.add(u(_,n)),g.setValueAtTime(_,n)),b.add(a(e,t)),g.exponentialRampToValueAtTime(e,t),x},linearRampToValueAtTime(e,t){const n=f.context.currentTime;return null===w&&b.flush(n),0===Array.from(b).length&&(b.add(u(_,n)),g.setValueAtTime(_,n)),b.add(l(e,t)),g.linearRampToValueAtTime(e,t),x},setTargetAtTime:(e,t,n)=>(null===w&&b.flush(f.context.currentTime),b.add(c(e,t,n)),g.setTargetAtTime(e,t,n),x),setValueAtTime:(e,t)=>(null===w&&b.flush(f.context.currentTime),b.add(u(e,t)),g.setValueAtTime(e,t),x),setValueCurveAtTime(e,t,n){const i=e instanceof Float32Array?e:new Float32Array(e);if(null!==d&&"webkitAudioContext"===d.name){const e=t+n,r=f.context.sampleRate,s=Math.ceil(t*r),o=Math.floor(e*r),a=o-s,l=new Float32Array(a);for(let u=0;u<a;u+=1){const e=(i.length-1)/n*((s+u)/r-t),o=Math.floor(e),a=Math.ceil(e);l[u]=o===a?i[o]:(1-(e-o))*i[o]+(1-(a-e))*i[a]}null===w&&b.flush(f.context.currentTime),b.add(h(l,t,n)),g.setValueCurveAtTime(l,t,n);const c=o/r;c<e&&p(x,l[l.length-1],c),p(x,i[i.length-1],e)}else null===w&&b.flush(f.context.currentTime),b.add(h(i,t,n)),g.setValueCurveAtTime(i,t,n);return x}};return n.set(x,g),t.set(x,f),e(x,w),x})((nn=u,(e,t)=>{nn.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),Mt,h,(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:i}=n;t.exponentialRampToValueAtTime(i,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:i}=n;t.linearRampToValueAtTime(i,e)}else if("setTarget"===n.type){const{startTime:e,target:i,timeConstant:r}=n;t.setTargetAtTime(i,e,r)}else if("setValue"===n.type){const{startTime:e,value:i}=n;t.setValueAtTime(i,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:i,values:r}=n;t.setValueCurveAtTime(r,i,e)}}}})),o.createCancelAndHoldAutomationEvent,o.createCancelScheduledValuesAutomationEvent,o.createExponentialRampToValueAutomationEvent,o.createLinearRampToValueAutomationEvent,o.createSetTargetAutomationEvent,o.createSetValueAutomationEvent,o.createSetValueCurveAutomationEvent,Rt,ct);var nn;const rn=((e,t,n,i,r,s,o,a)=>class extends e{constructor(e,i){const a=s(e),l={...L,...i},c=r(a,l),u=o(a),h=u?t():null;super(e,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,u,c.playbackRate,F,j)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"===typeof e?a(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){C(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),V(this)&&A(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(Lt,en,tn,Oe,Kt,At,Nt,ft),sn=((e,t,n,i,r,s,o,a)=>class extends e{constructor(e,n){const i=s(e),l=o(i),c=r(i,n,l);super(e,!1,c,l?t(a):null),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Lt,(e=>{const t=new WeakMap;return{render(n,i){const r=t.get(i);return void 0!==r?Promise.resolve(r):(async(n,i)=>{const r=i.destination;return t.set(i,r),await e(n,i,r),r})(n,i)}}}),P,Oe,((e,t)=>(n,i,r)=>{const s=n.destination;if(s.channelCount!==i)try{s.channelCount=i}catch{}r&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:i});const o=e(n,{channelCount:i,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return t(o,"channelCount",(e=>()=>e.call(o)),(e=>t=>{e.call(o,t);try{s.channelCount=t}catch(n){if(t>s.maxChannelCount)throw n}})),t(o,"channelCountMode",(e=>()=>e.call(o)),(e=>t=>{e.call(o,t),s.channelCountMode=t})),t(o,"channelInterpretation",(e=>()=>e.call(o)),(e=>t=>{e.call(o,t),s.channelInterpretation=t})),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o})(Xe,lt),At,Nt,Ct),on=((e,t,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const c=N(l,a);if(!c){const e={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=t(a,e)}return s.set(a,l),c?(await e(a,o.Q,l.Q),await e(a,o.detune,l.detune),await e(a,o.frequency,l.frequency),await e(a,o.gain,l.gain)):(await i(a,o.Q,l.Q),await i(a,o.detune,l.detune),await i(a,o.frequency,l.frequency),await i(a,o.gain,l.gain)),await r(o,a,l),l})(o,a)}}})(Jt,We,ne,Zt,Ct),an=(e=>(t,n)=>e.set(t,n))(yt),ln=((e,t,n,i,r,s,o,a)=>class extends e{constructor(e,i){const l=s(e),c={..._e,...i},u=r(l,c),h=o(l);super(e,!1,u,h?n():null),this._Q=t(this,h,u.Q,F,j),this._detune=t(this,h,u.detune,1200*Math.log2(F),-1200*Math.log2(F)),this._frequency=t(this,h,u.frequency,e.sampleRate/2,0),this._gain=t(this,h,u.gain,40*Math.log10(F),j),this._nativeBiquadFilterNode=u,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(r){if(11===r.code)throw i();throw r}if(e.length!==t.length||t.length!==n.length)throw i()}})(Lt,tn,on,Ie,We,At,Nt,an),cn=((e,t)=>(n,i,r)=>{const s=new Set;return n.connect=(r=>function(o){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const c=0===s.size;if(t(o))return r.call(n,o,a,l),e(s,[o,a,l],(e=>e[0]===o&&e[1]===a&&e[2]===l),!0),c&&i(),o;r.call(n,o,a),e(s,[o,a],(e=>e[0]===o&&e[1]===a),!0),c&&i()})(n.connect),n.disconnect=(e=>(i,o,a)=>{const l=s.size>0;if(void 0===i)e.apply(n),s.clear();else if("number"===typeof i){e.call(n,i);for(const e of s)e[1]===i&&s.delete(e)}else{t(i)?e.call(n,i,o,a):e.call(n,i,o);for(const e of s)e[0]!==i||void 0!==o&&e[1]!==o||void 0!==a&&e[2]!==a||s.delete(e)}const c=0===s.size;l&&c&&r()})(n.disconnect),n})(Q,jt),un=((e,t)=>(n,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const r=n.createBufferSource();t(i,(()=>{const e=i.numberOfInputs;for(let t=0;t<e;t+=1)r.connect(i,0,t)}),(()=>r.disconnect(i)))})(Oe,cn),hn=((e,t)=>(n,i)=>{const r=n.createChannelMerger(i.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,r),Fe(r,i),r})(Rt,un),dn=((e,t,n)=>()=>{const i=new WeakMap;return{render(r,s){const o=i.get(s);return void 0!==o?Promise.resolve(o):(async(r,s)=>{let o=t(r);if(!N(o,s)){const t={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=e(s,t)}return i.set(s,o),await n(r,s,o),o})(r,s)}}})(hn,ne,Ct),pn=((e,t,n,i,r)=>class extends e{constructor(e,s){const o=i(e),a={...be,...s};super(e,!1,n(o,a),r(o)?t():null)}})(Lt,dn,hn,At,Nt),fn=((e,t,n)=>()=>{const i=new WeakMap;return{render(r,s){const o=i.get(s);return void 0!==o?Promise.resolve(o):(async(r,s)=>{let o=t(r);if(!N(o,s)){const t={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=e(s,t)}return i.set(s,o),await n(r,s,o),o})(r,s)}}})(He,ne,Ct),mn=((e,t,n,i,r,s)=>class extends e{constructor(e,o){const a=i(e),l=s({...we,...o});super(e,!1,n(a,l),r(a)?t():null)}})(Lt,fn,He,At,Nt,(e=>({...e,channelCount:e.numberOfOutputs}))),gn=((e,t,n,i)=>(r,s)=>{let{offset:o,...a}=s;const l=r.createBuffer(1,2,44100),c=t(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...a,gain:o}),h=l.getChannelData(0);h[0]=1,h[1]=1,c.buffer=l,c.loop=!0;const d={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){u.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){u.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){u.channelInterpretation=e},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return c.onended},set onended(e){c.onended=e},addEventListener(){return c.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return c.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return c.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;c.start.call(c,e)},stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;c.stop.call(c,e)}};return e(r,c),i(Ge(d,u),(()=>c.connect(u)),(()=>c.disconnect(u)))})($t,Kt,Xe,cn),vn=((e,t,n,i,r)=>(s,o)=>{if(void 0===s.createConstantSource)return n(s,o);const a=s.createConstantSource();return Fe(a,o),Le(a,o,"offset"),t(i,(()=>i(s)))||qe(a),t(r,(()=>r(s)))||Be(a),e(s,a),a})($t,bt,gn,ut,dt),yn=((e,t,n,i,r)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(e){o=e},set stop(e){a=e},render(l,c){const u=s.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=N(u,c);if(!h){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=t(c,e),null!==o&&u.start(o),null!==a&&u.stop(a)}return s.set(c,u),h?await e(c,l.offset,u.offset):await i(c,l.offset,u.offset),await r(l,c,u),u})(l,c)}}})(Jt,vn,ne,Zt,Ct),_n=((e,t,n,i,r,s,o)=>class extends e{constructor(e,o){const a=r(e),l={...xe,...o},c=i(a,l),u=s(a),h=u?n():null;super(e,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=t(this,u,c.offset,F,j),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"===typeof e?o(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){C(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),V(this)&&A(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(Lt,tn,yn,vn,At,Nt,ft),bn=((e,t)=>(n,i)=>{const r=n.createConvolver();if(Fe(r,i),i.disableNormalization===r.normalize&&(r.normalize=!i.disableNormalization),je(r,i,"buffer"),i.channelCount>2)throw e();if(t(r,"channelCount",(e=>()=>e.call(r)),(t=>n=>{if(n>2)throw e();return t.call(r,n)})),"max"===i.channelCountMode)throw e();return t(r,"channelCountMode",(e=>()=>e.call(r)),(t=>n=>{if("max"===n)throw e();return t.call(r,n)})),r})(Ke,lt),wn=((e,t,n)=>()=>{const i=new WeakMap;return{render(r,s){const o=i.get(s);return void 0!==o?Promise.resolve(o):(async(r,s)=>{let o=t(r);if(!N(o,s)){const t={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=e(s,t)}return i.set(s,o),Y(o)?await n(r,s,o.inputs[0]):await n(r,s,o),o})(r,s)}}})(bn,ne,Ct),xn=((e,t,n,i,r,s)=>class extends e{constructor(e,o){const a=i(e),l={...ke,...o},c=n(a,l);super(e,!1,c,r(a)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==l.buffer&&s(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,e.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(Lt,wn,bn,At,Nt,an),kn=((e,t,n,i,r)=>s=>{const o=new WeakMap;return{render(a,l){const c=o.get(l);return void 0!==c?Promise.resolve(c):(async(a,l)=>{let c=n(a);const u=N(c,l);if(!u){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:s};c=t(l,e)}return o.set(l,c),u?await e(l,a.delayTime,c.delayTime):await i(l,a.delayTime,c.delayTime),await r(a,l,c),c})(a,l)}}})(Jt,Qe,ne,Zt,Ct),Tn=((e,t,n,i,r,s,o)=>class extends e{constructor(e,a){const l=r(e),c={...Se,...a},u=i(l,c),h=s(l);super(e,!1,u,h?n(c.maxDelayTime):null),this._delayTime=t(this,h,u.delayTime),o(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})(Lt,tn,kn,Qe,At,Nt,an),Sn=(e=>(t,n)=>{const i=t.createDynamicsCompressor();if(Fe(i,n),n.channelCount>2)throw e();if("max"===n.channelCountMode)throw e();return Le(i,n,"attack"),Le(i,n,"knee"),Le(i,n,"ratio"),Le(i,n,"release"),Le(i,n,"threshold"),i})(Ke),Cn=((e,t,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const c=N(l,a);if(!c){const e={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=t(a,e)}return s.set(a,l),c?(await e(a,o.attack,l.attack),await e(a,o.knee,l.knee),await e(a,o.ratio,l.ratio),await e(a,o.release,l.release),await e(a,o.threshold,l.threshold)):(await i(a,o.attack,l.attack),await i(a,o.knee,l.knee),await i(a,o.ratio,l.ratio),await i(a,o.release,l.release),await i(a,o.threshold,l.threshold)),await r(o,a,l),l})(o,a)}}})(Jt,Sn,ne,Zt,Ct),En=((e,t,n,i,r,s,o,a)=>class extends e{constructor(e,r){const l=s(e),c={...Ee,...r},u=i(l,c),h=o(l);super(e,!1,u,h?n():null),this._attack=t(this,h,u.attack),this._knee=t(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=t(this,h,u.ratio),this._release=t(this,h,u.release),this._threshold=t(this,h,u.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"===typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Lt,tn,Cn,Sn,Ke,At,Nt,an),An=((e,t,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const c=N(l,a);if(!c){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=t(a,e)}return s.set(a,l),c?await e(a,o.gain,l.gain):await i(a,o.gain,l.gain),await r(o,a,l),l})(o,a)}}})(Jt,Xe,ne,Zt,Ct),On=((e,t,n,i,r,s)=>class extends e{constructor(e,o){const a=r(e),l={...Ae,...o},c=i(a,l),u=s(a);super(e,!1,c,u?n():null),this._gain=t(this,u,c.gain,F,j)}get gain(){return this._gain}})(Lt,tn,An,Xe,At,Nt),In=((e,t,n,i)=>(r,s,o)=>{let{channelCount:a,channelCountMode:l,channelInterpretation:c,feedback:u,feedforward:h}=o;const d=ze(s,r.sampleRate),p=u instanceof Float64Array?u:new Float64Array(u),f=h instanceof Float64Array?h:new Float64Array(h),m=p.length,g=f.length,v=Math.min(m,g);if(0===m||m>20)throw i();if(0===p[0])throw t();if(0===g||g>20)throw i();if(0===f[0])throw t();if(1!==p[0]){for(let e=0;e<g;e+=1)f[e]/=p[0];for(let e=1;e<m;e+=1)p[e]/=p[0]}const y=n(r,d,a,a);y.channelCount=a,y.channelCountMode=l,y.channelInterpretation=c;const _=[],b=[],w=[];for(let e=0;e<a;e+=1){_.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),b.push(e),w.push(t)}y.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,i=t.numberOfChannels;for(let r=0;r<i;r+=1){const e=t.getChannelData(r),i=n.getChannelData(r);_[r]=Me(p,m,f,g,v,b[r],w[r],_[r],32,e,i)}};const x=r.sampleRate/2;return Ge({get bufferSize(){return d},get channelCount(){return y.channelCount},set channelCount(e){y.channelCount=e},get channelCountMode(){return y.channelCountMode},set channelCountMode(e){y.channelCountMode=e},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(e){y.channelInterpretation=e},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener(){return y.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return y.dispatchEvent(arguments.length<=0?void 0:arguments[0])},getFrequencyResponse(t,n,i){if(t.length!==n.length||n.length!==i.length)throw e();const r=t.length;for(let e=0;e<r;e+=1){const r=-Math.PI*(t[e]/x),s=[Math.cos(r),Math.sin(r)],o=$e(Ye(f,s),Ye(p,s));n[e]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),i[e]=Math.atan2(o[1],o[0])}},removeEventListener(){return y.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}},y)})(Ie,Oe,Je,Ke),Nn=((e,t,n,i)=>r=>e(Re,(()=>Re(r)))?Promise.resolve(e(i,i)).then((e=>{if(!e){const e=n(r,512,0,1);r.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>r.currentTime,e.connect(r.destination)}return r.startRendering()})):new Promise((e=>{const n=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(r.destination),r.startRendering()})))(bt,Xe,Je,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),i=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((e=>{n.oncomplete=()=>{i.disconnect(),e(0!==n.currentTime)},n.startRendering()}))})(Xe,It)),Mn=((e,t,n,i,r)=>(s,o)=>{const a=new WeakMap;let l=null;const c=async(c,u)=>{let h=null,d=t(c);const p=N(d,u);if(void 0===u.createIIRFilter?h=e(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=u.createIIRFilter(o,s)),a.set(u,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(c.context.destination.channelCount,c.context.length,u.sampleRate);l=(async()=>{await i(c,e,e.destination);return((e,t,n,i)=>{const r=n instanceof Float64Array?n:new Float64Array(n),s=i instanceof Float64Array?i:new Float64Array(i),o=r.length,a=s.length,l=Math.min(o,a);if(1!==r[0]){for(let e=0;e<o;e+=1)s[e]/=r[0];for(let e=1;e<a;e+=1)r[e]/=r[0]}const c=new Float32Array(32),u=new Float32Array(32),h=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),d=e.numberOfChannels;for(let p=0;p<d;p+=1){const t=e.getChannelData(p),n=h.getChannelData(p);c.fill(0),u.fill(0),Me(r,o,s,a,l,c,u,0,32,t,n)}return h})(await r(e),u,s,o)})()}const e=await l;return h.buffer=e,h.start(0),h}return await i(c,u,d),d};return{render(e,t){const n=a.get(t);return void 0!==n?Promise.resolve(n):c(e,t)}}})(Kt,ne,It,Ct,Nn),Pn=(e=>(t,n,i)=>{if(void 0===t.createIIRFilter)return e(t,n,i);const r=t.createIIRFilter(i.feedforward,i.feedback);return Fe(r,i),r})(In),Rn=((e,t,n,i,r,s)=>class extends e{constructor(e,o){const a=i(e),l=r(a),c={...Ne,...o},u=t(a,l?null:e.baseLatency,c);super(e,!1,u,l?n(c.feedback,c.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,i,r)=>{if(n.length!==i.length||i.length!==r.length)throw Ie();return t.call(e,n,i,r)})})(u),this._nativeIIRFilterNode=u,s(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(Lt,Pn,Mn,At,Nt,an),Dn=((e,t,n,i,r,s,o,a)=>(l,c)=>{const u=c.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:f,positionY:m,positionZ:g,upX:v,upY:y,upZ:_}=void 0===u.forwardX?(()=>{const h=new Float32Array(1),d=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=o(c);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const v=()=>{if(f)return;f=!0;const e=i(c,256,9,0);e.onaudioprocess=e=>{let{inputBuffer:t}=e;const n=[s(t,h,0),s(t,h,1),s(t,h,2),s(t,h,3),s(t,h,4),s(t,h,5)];n.some(((e,t)=>e!==m[t]))&&(u.setOrientation(...n),m=n);const i=[s(t,h,6),s(t,h,7),s(t,h,8)];i.some(((e,t)=>e!==g[t]))&&(u.setPosition(...i),g=i)},d.connect(e)},y=e=>t=>{t!==m[e]&&(m[e]=t,u.setOrientation(...m))},_=e=>t=>{t!==g[e]&&(g[e]=t,u.setPosition(...g))},b=(t,i,s)=>{const o=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:i});o.connect(d,0,t),o.start(),Object.defineProperty(o.offset,"defaultValue",{get:()=>i});const u=e({context:l},p,o.offset,F,j);var h,f,m,g,y,_,b;return a(u,"value",(e=>()=>e.call(u)),(e=>t=>{try{e.call(u,t)}catch(n){if(9!==n.code)throw n}v(),p&&s(t)})),u.cancelAndHoldAtTime=(h=u.cancelAndHoldAtTime,p?()=>{throw r()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=h.apply(u,t);return v(),i}),u.cancelScheduledValues=(f=u.cancelScheduledValues,p?()=>{throw r()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=f.apply(u,t);return v(),i}),u.exponentialRampToValueAtTime=(m=u.exponentialRampToValueAtTime,p?()=>{throw r()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=m.apply(u,t);return v(),i}),u.linearRampToValueAtTime=(g=u.linearRampToValueAtTime,p?()=>{throw r()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=g.apply(u,t);return v(),i}),u.setTargetAtTime=(y=u.setTargetAtTime,p?()=>{throw r()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=y.apply(u,t);return v(),i}),u.setValueAtTime=(_=u.setValueAtTime,p?()=>{throw r()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=_.apply(u,t);return v(),i}),u.setValueCurveAtTime=(b=u.setValueCurveAtTime,p?()=>{throw r()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=b.apply(u,t);return v(),i}),u};return{forwardX:b(0,0,y(0)),forwardY:b(1,0,y(1)),forwardZ:b(2,-1,y(2)),positionX:b(6,0,_(0)),positionY:b(7,0,_(1)),positionZ:b(8,0,_(2)),upX:b(3,0,y(3)),upY:b(4,1,y(4)),upZ:b(5,0,y(5))}})():u;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return v},get upY(){return y},get upZ(){return _}}})(tn,hn,vn,Je,Ke,ot,Nt,lt),jn=new WeakMap,Fn=((e,t,n,i,r,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,d.set(this,n),i(n)&&r.set(n,new Set),this._destination=new e(this,s),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"===typeof e?s(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(sn,Dn,Pt,Nt,jn,ft),Vn=((e,t,n,i,r,s)=>(o,a)=>{const l=o.createOscillator();return Fe(l,a),Le(l,a,"detune"),Le(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):je(l,a,"type"),t(n,(()=>n(o)))||qe(l),t(i,(()=>i(o)))||s(l,o),t(r,(()=>r(o)))||Be(l),e(o,l),l})($t,bt,ut,ht,dt,pt),Ln=((e,t,n,i,r)=>()=>{const s=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(e){o=e},set start(e){a=e},set stop(e){l=e},render(c,u){const h=s.get(u);return void 0!==h?Promise.resolve(h):(async(c,u)=>{let h=n(c);const d=N(h,u);if(!d){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===o?void 0:o,type:h.type};h=t(u,e),null!==a&&h.start(a),null!==l&&h.stop(l)}return s.set(u,h),d?(await e(u,c.detune,h.detune),await e(u,c.frequency,h.frequency)):(await i(u,c.detune,h.detune),await i(u,c.frequency,h.frequency)),await r(c,u,h),h})(c,u)}}})(Jt,Vn,ne,Zt,Ct),qn=((e,t,n,i,r,s,o)=>class extends e{constructor(e,o){const a=r(e),l={...et,...o},c=n(a,l),u=s(a),h=u?i():null,d=e.sampleRate/2;super(e,!1,c,h),this._detune=t(this,u,c.detune,153600,-153600),this._frequency=t(this,u,c.frequency,d,-d),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"===typeof e?o(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){C(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),V(this)&&A(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(Lt,tn,Vn,Ln,At,Nt,ft),Bn=(e=>(t,n)=>{const i=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=t.createBuffer(1,2,44100);return i.buffer=r,i.loop=!0,i.connect(n),i.start(),()=>{i.stop(),i.disconnect(n)}})(Kt),zn=((e,t,n,i,r)=>(s,o)=>{let{curve:a,oversample:l,...c}=o;const u=s.createWaveShaper(),h=s.createWaveShaper();Fe(u,c),Fe(h,c);const d=n(s,{...c,gain:1}),p=n(s,{...c,gain:-1}),f=n(s,{...c,gain:1}),m=n(s,{...c,gain:-1});let g=null,v=!1,y=null;const _={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){d.channelCount=e,p.channelCount=e,u.channelCount=e,f.channelCount=e,h.channelCount=e,m.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){d.channelCountMode=e,p.channelCountMode=e,u.channelCountMode=e,f.channelCountMode=e,h.channelCountMode=e,m.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e,p.channelInterpretation=e,u.channelInterpretation=e,f.channelInterpretation=e,h.channelInterpretation=e,m.channelInterpretation=e},get context(){return u.context},get curve(){return y},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)u.curve=n,h.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),i=new Float32Array(e+2-e%2);t[0]=n[0],i[0]=-n[e-1];const r=Math.ceil((e+1)/2),s=(e+1)/2-1;for(let o=1;o<r;o+=1){const a=o/r*s,l=Math.floor(a),c=Math.ceil(a);t[o]=l===c?n[l]:(1-(a-l))*n[l]+(1-(c-a))*n[c],i[o]=l===c?-n[e-1-l]:-(1-(a-l))*n[e-1-l]-(1-(c-a))*n[e-1-c]}t[r]=e%2===1?n[r-1]:(n[r-2]+n[r-1])/2,u.curve=t,h.curve=i}y=n,v&&(i(y)&&null===g?g=e(s,d):null!==g&&(g(),g=null))},get inputs(){return[d]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(e){u.oversample=e,h.oversample=e},addEventListener(){return d.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return d.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return d.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};null!==a&&(_.curve=a instanceof Float32Array?a:new Float32Array(a)),l!==_.oversample&&(_.oversample=l);return r(Ge(_,f),(()=>{d.connect(u).connect(f),d.connect(p).connect(h).connect(m).connect(f),v=!0,i(y)&&(g=e(s,d))}),(()=>{d.disconnect(u),u.disconnect(f),d.disconnect(p),p.disconnect(h),h.disconnect(m),m.disconnect(f),v=!1,null!==g&&(g(),g=null)}))})(Bn,Oe,Xe,at,cn),Un=((e,t,n,i,r,s,o)=>(a,l)=>{const c=a.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===a.createGain().gain.automationRate)return n(a,l);Fe(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw t();je(c,{curve:u},"curve"),je(c,l,"oversample");let h=null,d=!1;o(c,"curve",(e=>()=>e.call(c)),(t=>n=>(t.call(c,n),d&&(i(n)&&null===h?h=e(a,c):i(n)||null===h||(h(),h=null)),n)));return r(c,(()=>{d=!0,i(c.curve)&&(h=e(a,c))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(Bn,Oe,zn,at,cn,Rt,lt),Wn=((e,t,n,i,r,s,o,a,l,c)=>(u,h)=>{let{coneInnerAngle:d,coneOuterAngle:p,coneOuterGain:f,distanceModel:m,maxDistance:g,orientationX:v,orientationY:y,orientationZ:_,panningModel:b,positionX:w,positionY:x,positionZ:k,refDistance:T,rolloffFactor:S,...C}=h;const E=u.createPanner();if(C.channelCount>2)throw o();if("max"===C.channelCountMode)throw o();Fe(E,C);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},O=n(u,{...A,channelInterpretation:"speakers",numberOfInputs:6}),I=i(u,{...C,gain:1}),N=i(u,{...A,gain:1}),M=i(u,{...A,gain:0}),P=i(u,{...A,gain:0}),R=i(u,{...A,gain:0}),D=i(u,{...A,gain:0}),j=i(u,{...A,gain:0}),F=r(u,256,6,1),V=s(u,{...A,curve:new Float32Array([1,1]),oversample:"none"});let L=[v,y,_],q=[w,x,k];const B=new Float32Array(1);F.onaudioprocess=e=>{let{inputBuffer:t}=e;const n=[l(t,B,0),l(t,B,1),l(t,B,2)];n.some(((e,t)=>e!==L[t]))&&(E.setOrientation(...n),L=n);const i=[l(t,B,3),l(t,B,4),l(t,B,5)];i.some(((e,t)=>e!==q[t]))&&(E.setPosition(...i),q=i)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0});const z={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(e){if(e>2)throw o();I.channelCount=e,E.channelCount=e},get channelCountMode(){return E.channelCountMode},set channelCountMode(e){if("max"===e)throw o();I.channelCountMode=e,E.channelCountMode=e},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(e){I.channelInterpretation=e,E.channelInterpretation=e},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(e){E.coneInnerAngle=e},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(e){E.coneOuterAngle=e},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();E.coneOuterGain=e},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(e){E.distanceModel=e},get inputs(){return[I]},get maxDistance(){return E.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;E.maxDistance=e},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return N.gain},get orientationY(){return M.gain},get orientationZ(){return P.gain},get panningModel(){return E.panningModel},set panningModel(e){E.panningModel=e},get positionX(){return R.gain},get positionY(){return D.gain},get positionZ(){return j.gain},get refDistance(){return E.refDistance},set refDistance(e){if(e<0)throw new RangeError;E.refDistance=e},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;E.rolloffFactor=e},addEventListener(){return I.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return I.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return I.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};d!==z.coneInnerAngle&&(z.coneInnerAngle=d),p!==z.coneOuterAngle&&(z.coneOuterAngle=p),f!==z.coneOuterGain&&(z.coneOuterGain=f),m!==z.distanceModel&&(z.distanceModel=m),g!==z.maxDistance&&(z.maxDistance=g),v!==z.orientationX.value&&(z.orientationX.value=v),y!==z.orientationY.value&&(z.orientationY.value=y),_!==z.orientationZ.value&&(z.orientationZ.value=_),b!==z.panningModel&&(z.panningModel=b),w!==z.positionX.value&&(z.positionX.value=w),x!==z.positionY.value&&(z.positionY.value=x),k!==z.positionZ.value&&(z.positionZ.value=k),T!==z.refDistance&&(z.refDistance=T),S!==z.rolloffFactor&&(z.rolloffFactor=S),1===L[0]&&0===L[1]&&0===L[2]||E.setOrientation(...L),0===q[0]&&0===q[1]&&0===q[2]||E.setPosition(...q);return c(Ge(z,E),(()=>{I.connect(E),e(I,V,0,0),V.connect(N).connect(O,0,0),V.connect(M).connect(O,0,1),V.connect(P).connect(O,0,2),V.connect(R).connect(O,0,3),V.connect(D).connect(O,0,4),V.connect(j).connect(O,0,5),O.connect(F).connect(u.destination)}),(()=>{I.disconnect(E),a(I,V,0,0),V.disconnect(N),N.disconnect(O),V.disconnect(M),M.disconnect(O),V.disconnect(P),P.disconnect(O),V.disconnect(R),R.disconnect(O),V.disconnect(D),D.disconnect(O),V.disconnect(j),j.disconnect(O),O.disconnect(F),F.disconnect(u.destination)}))})(J,Oe,hn,Xe,Je,Un,Ke,te,ot,cn),Hn=(e=>(t,n)=>{const i=t.createPanner();return void 0===i.orientationX?e(t,n):(Fe(i,n),Le(i,n,"orientationX"),Le(i,n,"orientationY"),Le(i,n,"orientationZ"),Le(i,n,"positionX"),Le(i,n,"positionY"),Le(i,n,"positionZ"),je(i,n,"coneInnerAngle"),je(i,n,"coneOuterAngle"),je(i,n,"coneOuterGain"),je(i,n,"distanceModel"),je(i,n,"maxDistance"),je(i,n,"panningModel"),je(i,n,"refDistance"),je(i,n,"rolloffFactor"),i)})(Wn),Gn=((e,t,n,i,r,s,o,a,l,c)=>()=>{const u=new WeakMap;let h=null;return{render(d,p){const f=u.get(p);return void 0!==f?Promise.resolve(f):(async(d,p)=>{let f=null,m=s(d);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},v={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},y=N(m,p);if("bufferSize"in m)f=i(p,{...g,gain:1});else if(!y){const e={...v,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=r(p,e)}if(u.set(p,null===f?m:f),null!==f){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new o(6,d.context.length,p.sampleRate),i=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});i.connect(e.destination),h=(async()=>{const t=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(t,i)=>{const r=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===i?1:0});return await a(e,t,r.offset),r})));for(let e=0;e<6;e+=1)t[e].connect(i,0,e),t[e].start(0);return c(e)})()}const e=await h,s=i(p,{...g,gain:1});await l(d,p,s);const u=[];for(let t=0;t<e.numberOfChannels;t+=1)u.push(e.getChannelData(t));let m=[u[0][0],u[1][0],u[2][0]],y=[u[3][0],u[4][0],u[5][0]],_=i(p,{...g,gain:1}),b=r(p,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]});s.connect(_).connect(b.inputs[0]),b.connect(f);for(let t=128;t<e.length;t+=128){const e=[u[0][t],u[1][t],u[2][t]],n=[u[3][t],u[4][t],u[5][t]];if(e.some(((e,t)=>e!==m[t]))||n.some(((e,t)=>e!==y[t]))){m=e,y=n;const o=t/p.sampleRate;_.gain.setValueAtTime(0,o),_=i(p,{...g,gain:0}),b=r(p,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),_.gain.setValueAtTime(1,o),s.connect(_).connect(b.inputs[0]),b.connect(f)}}return f}return y?(await e(p,d.orientationX,m.orientationX),await e(p,d.orientationY,m.orientationY),await e(p,d.orientationZ,m.orientationZ),await e(p,d.positionX,m.positionX),await e(p,d.positionY,m.positionY),await e(p,d.positionZ,m.positionZ)):(await a(p,d.orientationX,m.orientationX),await a(p,d.orientationY,m.orientationY),await a(p,d.orientationZ,m.orientationZ),await a(p,d.positionX,m.positionX),await a(p,d.positionY,m.positionY),await a(p,d.positionZ,m.positionZ)),Y(m)?await l(d,p,m.inputs[0]):await l(d,p,m),m})(d,p)}}})(Jt,hn,vn,Xe,Hn,ne,It,Zt,Ct,Nn),Qn=((e,t,n,i,r,s,o)=>class extends e{constructor(e,a){const l=r(e),c={...tt,...a},u=n(l,c),h=s(l);super(e,!1,u,h?i():null),this._nativePannerNode=u,this._orientationX=t(this,h,u.orientationX,F,j),this._orientationY=t(this,h,u.orientationY,F,j),this._orientationZ=t(this,h,u.orientationZ,F,j),this._positionX=t(this,h,u.positionX,F,j),this._positionY=t(this,h,u.positionY,F,j),this._positionZ=t(this,h,u.positionZ,F,j),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(Lt,tn,Hn,Gn,At,Nt,an),Xn=(e=>(t,n)=>{let{disableNormalization:i,imag:r,real:s}=n;const o=r instanceof Float32Array?r:new Float32Array(r),a=s instanceof Float32Array?s:new Float32Array(s),l=t.createPeriodicWave(a,o,{disableNormalization:i});if(Array.from(r).length<2)throw e();return l})(P),$n=((e,t,n,i)=>class r{constructor(r,s){const o=t(r),a=i({...nt,...s}),l=e(o,a);return n.add(l),l}static[Symbol.hasInstance](e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===r.prototype||n.has(e)}})(Xn,At,new WeakSet,(e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,(()=>0))}:{...e,imag:t,real:n}})),Yn=((e,t,n,i,r,s)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(e,s,h,d,p)=>{if(1===s)return((e,t,r,s)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let n=0;n<o;n+=1){const e=n/16384*l;h[n]=Math.cos(e),d[n]=Math.sin(e)}const p=n(e,{...c,gain:0}),f=i(e,{...u,curve:h}),m=i(e,{...u,curve:a}),g=n(e,{...c,gain:0}),v=i(e,{...u,curve:d});return{connectGraph(){t.connect(p),t.connect(void 0===m.inputs?m:m.inputs[0]),t.connect(g),m.connect(r),r.connect(void 0===f.inputs?f:f.inputs[0]),r.connect(void 0===v.inputs?v:v.inputs[0]),f.connect(p.gain),v.connect(g.gain),p.connect(s,0,0),g.connect(s,0,1)},disconnectGraph(){t.disconnect(p),t.disconnect(void 0===m.inputs?m:m.inputs[0]),t.disconnect(g),m.disconnect(r),r.disconnect(void 0===f.inputs?f:f.inputs[0]),r.disconnect(void 0===v.inputs?v:v.inputs[0]),f.disconnect(p.gain),v.disconnect(g.gain),p.disconnect(s,0,0),g.disconnect(s,0,1)}}})(e,h,d,p);if(2===s)return((e,r,s,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let t=0;t<o;t+=1)if(t>g){const e=(t-g)/(16384-g)*l;d[t]=Math.cos(e),p[t]=Math.sin(e),f[t]=0,m[t]=1}else{const e=t/(16384-g)*l;d[t]=1,p[t]=0,f[t]=Math.cos(e),m[t]=Math.sin(e)}const v=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),y=n(e,{...c,gain:0}),_=i(e,{...u,curve:d}),b=n(e,{...c,gain:0}),w=i(e,{...u,curve:p}),x=i(e,{...u,curve:a}),k=n(e,{...c,gain:0}),T=i(e,{...u,curve:f}),S=n(e,{...c,gain:0}),C=i(e,{...u,curve:m});return{connectGraph(){r.connect(v),r.connect(void 0===x.inputs?x:x.inputs[0]),v.connect(y,0),v.connect(b,0),v.connect(k,1),v.connect(S,1),x.connect(s),s.connect(void 0===_.inputs?_:_.inputs[0]),s.connect(void 0===w.inputs?w:w.inputs[0]),s.connect(void 0===T.inputs?T:T.inputs[0]),s.connect(void 0===C.inputs?C:C.inputs[0]),_.connect(y.gain),w.connect(b.gain),T.connect(k.gain),C.connect(S.gain),y.connect(h,0,0),k.connect(h,0,0),b.connect(h,0,1),S.connect(h,0,1)},disconnectGraph(){r.disconnect(v),r.disconnect(void 0===x.inputs?x:x.inputs[0]),v.disconnect(y,0),v.disconnect(b,0),v.disconnect(k,1),v.disconnect(S,1),x.disconnect(s),s.disconnect(void 0===_.inputs?_:_.inputs[0]),s.disconnect(void 0===w.inputs?w:w.inputs[0]),s.disconnect(void 0===T.inputs?T:T.inputs[0]),s.disconnect(void 0===C.inputs?C:C.inputs[0]),_.disconnect(y.gain),w.disconnect(b.gain),T.disconnect(k.gain),C.disconnect(S.gain),y.disconnect(h,0,0),k.disconnect(h,0,0),b.disconnect(h,0,1),S.disconnect(h,0,1)}}})(e,h,d,p);throw r()};return(t,i)=>{let{channelCount:o,channelCountMode:a,pan:l,...c}=i;if("max"===a)throw r();const u=e(t,{...c,channelCount:1,channelCountMode:a,numberOfInputs:2}),d=n(t,{...c,channelCount:o,channelCountMode:a,gain:1}),p=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:l});let{connectGraph:f,disconnectGraph:m}=h(t,o,d,p,u);Object.defineProperty(p.gain,"defaultValue",{get:()=>0}),Object.defineProperty(p.gain,"maxValue",{get:()=>1}),Object.defineProperty(p.gain,"minValue",{get:()=>-1});const g={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(e){d.channelCount!==e&&(v&&m(),({connectGraph:f,disconnectGraph:m}=h(t,e,d,p,u)),v&&f()),d.channelCount=e},get channelCountMode(){return d.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw r();d.channelCountMode=e},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e},get context(){return d.context},get inputs(){return[d]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get pan(){return p.gain},addEventListener(){return d.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return d.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return d.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};let v=!1;return s(Ge(g,u),(()=>{f(),v=!0}),(()=>{m(),v=!1}))}})(hn,He,Xe,Un,Ke,cn),Jn=((e,t)=>(n,i)=>{const r=i.channelCountMode;if("clamped-max"===r)throw t();if(void 0===n.createStereoPanner)return e(n,i);const s=n.createStereoPanner();return Fe(s,i),Le(s,i,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>r,set:e=>{if(e!==r)throw t()}}),s})(Yn,Ke),Kn=((e,t,n,i,r)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const c=N(l,a);if(!c){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=t(a,e)}return s.set(a,l),c?await e(a,o.pan,l.pan):await i(a,o.pan,l.pan),Y(l)?await r(o,a,l.inputs[0]):await r(o,a,l),l})(o,a)}}})(Jt,Jn,ne,Zt,Ct),Zn=((e,t,n,i,r,s)=>class extends e{constructor(e,o){const a=r(e),l={...it,...o},c=n(a,l),u=s(a);super(e,!1,c,u?i():null),this._pan=t(this,u,c.pan)}get pan(){return this._pan}})(Lt,tn,Jn,Kn,At,Nt),ei=((e,t,n)=>()=>{const i=new WeakMap;return{render(r,s){const o=i.get(s);return void 0!==o?Promise.resolve(o):(async(r,s)=>{let o=t(r);if(!N(o,s)){const t={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=e(s,t)}return i.set(s,o),Y(o)?await n(r,s,o.inputs[0]):await n(r,s,o),o})(r,s)}}})(Un,ne,Ct),ti=((e,t,n,i,r,s,o)=>class extends e{constructor(e,t){const a=r(e),l={...st,...t},c=n(a,l);super(e,!0,c,s(a)?i():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(Lt,Oe,Un,ei,At,Nt,an),ni=(e=>null!==e&&e.isSecureContext)(kt),ii=(e=>(t,n,i)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return i()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(kt),ri=new WeakMap,si=((e,t)=>n=>{let i=e.get(n);if(void 0!==i)return i;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new t(1,1,44100),e.set(n,i),i})(ri,It),oi=ni?((e,t,n,i,r,s,o,a,l,c,u,h,d)=>{let p=0;return function(f,g){let v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{credentials:"omit"};const y=u.get(f);if(void 0!==y&&y.has(g))return Promise.resolve();const x=c.get(f);if(void 0!==x){const e=x.get(g);if(void 0!==e)return e}const k=s(f),T=void 0===k.audioWorklet?r(g).then((e=>{let[t,i]=e;const[r,s]=_(t,i),o="".concat(r,";((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{").concat(s,"\n})})(window,'_AWGS')");return n(o)})).then((()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;i(k.currentTime,k.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const i=m.get(k);if(void 0!==i){if(i.has(e))throw t();w(n),b(n.parameterDescriptors),i.set(e,n)}else w(n),b(n.parameterDescriptors),m.set(k,new Map([[e,n]]))}),k.sampleRate,void 0,void 0)))})):Promise.all([r(g),Promise.resolve(e(h,h))]).then((e=>{let[[t,n],i]=e;const r=p+1;p=r;const[s,c]=_(t,n),u=i?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",h=i?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));",d=i?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));",f="".concat(s,";((AudioWorkletProcessor,registerProcessor)=>{").concat(c,"\n})(").concat(u,",(n,p)=>registerProcessor(n,class extends p{").concat(h,"process(i,o,p){").concat(d,"return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac").concat(r,"',class extends AudioWorkletProcessor{process(){return !1}})"),m=new Blob([f],{type:"application/javascript; charset=utf-8"}),g=URL.createObjectURL(m);return k.audioWorklet.addModule(g,v).then((()=>{if(a(k))return k;const e=o(k);return e.audioWorklet.addModule(g,v).then((()=>e))})).then((e=>{if(null===l)throw new SyntaxError;try{new l(e,"__sac".concat(r))}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(g)))}));return void 0===x?c.set(f,new Map([[g,T]])):x.set(g,T),T.then((()=>{const e=u.get(f);void 0===e?u.set(f,new Set([g])):e.add(g)})).finally((()=>{const e=c.get(f);void 0!==e&&e.delete(g)})),T}})(bt,Ke,(e=>t=>new Promise(((n,i)=>{if(null===e)return void i(new SyntaxError);const r=e.document.head;if(null===r)i(new SyntaxError);else{const s=e.document.createElement("script"),o=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(o),l=e.onerror,c=()=>{e.onerror=l,URL.revokeObjectURL(a)};e.onerror=(t,n,r,s,o)=>n===a||n===e.location.href&&1===r&&1===s?(c(),i(o),!1):null!==l?l(t,n,r,s,o):void 0,s.onerror=()=>{c(),i(new SyntaxError)},s.onload=()=>{c(),n()},s.src=a,s.type="module",r.appendChild(s)}})))(kt),ii,(e=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw e()})((()=>new DOMException("","AbortError"))),At,si,Nt,Vt,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new t(1,128,44100),r=URL.createObjectURL(n);let s=!1,o=!1;try{await i.audioWorklet.addModule(r);const t=new e(i,"a",{numberOfOutputs:0}),n=i.createOscillator();t.port.onmessage=()=>s=!0,t.onprocessorerror=()=>o=!0,n.connect(t),n.start(0),await i.startRendering(),await new Promise((e=>setTimeout(e)))}catch{}finally{URL.revokeObjectURL(r)}return s&&!o})(Vt,It),kt):void 0,ai=((e,t)=>n=>e(n)||t(n))(Dt,Nt),li=((e,t,n,i,r,s,o,a,l,c,u)=>(h,d)=>{const p=o(h)?h:s(h);if(r.has(d)){const e=n();return Promise.reject(e)}try{r.add(d)}catch{}return t(l,(()=>l(p)))?p.decodeAudioData(d).then((n=>(Te(d).catch((()=>{})),t(a,(()=>a(n)))||u(n),e.add(n),n))):new Promise(((t,n)=>{const r=async()=>{try{await Te(d)}catch{}},s=e=>{n(e),r()};try{p.decodeAudioData(d,(n=>{"function"!==typeof n.copyFromChannel&&(c(n),R(n)),e.add(n),r().then((()=>t(n)))}),(e=>{s(null===e?i():e)}))}catch(o){s(o)}}))})(zt,bt,(()=>new DOMException("","DataCloneError")),(()=>new DOMException("","EncodingError")),new WeakSet,At,ai,M,Re,Gt,Qt),ci=((e,t,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,v,y,_)=>class extends f{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new r(this)}createBuffer(e,t,i){return new n({length:t,numberOfChannels:e,sampleRate:i})}createBufferSource(){return new i(this)}createChannelMerger(){return new s(this,{numberOfInputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createChannelSplitter(){return new o(this,{numberOfOutputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(){return new u(this,{maxDelayTime:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(e,t){return new p(this,{feedback:t,feedforward:e})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(e,t){return new v(this,{...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disableNormalization:!1},imag:t,real:e})}createStereoPanner(){return new y(this)}createWaveShaper(){return new _(this)}decodeAudioData(e,t,n){return c(this._nativeContext,e).then((e=>("function"===typeof t&&t(e),e)),(e=>{throw"function"===typeof n&&n(e),e}))}})(oi,Bt,Xt,rn,ln,pn,mn,_n,xn,li,Tn,En,On,Rn,Fn,qn,Qn,$n,Zn,ti),ui=((e,t,n,i)=>class extends e{constructor(e,r){const s=n(e),o=t(s,r);if(i(s))throw TypeError();super(e,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Lt,((e,t)=>e.createMediaElementSource(t.mediaElement)),At,Nt),hi=((e,t,n,i)=>class extends e{constructor(e,r){const s=n(e);if(i(s))throw new TypeError;const o={...Pe,...r},a=t(s,o);super(e,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Lt,((e,t)=>{const n=e.createMediaStreamDestination();return Fe(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n}),At,Nt),di=((e,t,n,i)=>class extends e{constructor(e,r){const s=n(e),o=t(s,r);if(i(s))throw new TypeError;super(e,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Lt,((e,t)=>{let{mediaStream:n}=t;const i=n.getAudioTracks();i.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0));const r=i.slice(0,1),s=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:n}),s}),At,Nt),pi=((e,t)=>(n,i)=>{let{mediaStreamTrack:r}=i;if("function"===typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),o=n.createMediaStreamSource(s);if("audio"!==r.kind)throw e();if(t(n))throw new TypeError;return o})(Oe,Nt),fi=((e,t,n)=>class extends e{constructor(e,i){const r=n(e);super(e,!0,t(r,i),null)}})(Lt,pi,At),mi=((e,t,n,i,r,s,o,a,l)=>class extends e{constructor(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===l)throw new Error("Missing the native AudioContext constructor.");try{e=new l(t)}catch(o){if(12===o.code&&"sampleRate is not in range"===o.message)throw n();throw o}if(null===e)throw i();if(!W(t.latencyHint))throw new TypeError("The provided value '".concat(t.latencyHint,"' is not a valid enum value of type AudioContextLatencyCategory."));if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:r}=t,{sampleRate:s}=e;if(this._baseLatency="number"===typeof e.baseLatency?e.baseLatency:"balanced"===r?512/s:"interactive"===r||void 0===r?256/s:"playback"===r?1024/s:128*Math.max(2,Math.min(128,Math.round(r*s/128)))/s,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw t()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),U(this)})))}createMediaElementSource(e){return new r(this,{mediaElement:e})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(e){return new o(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new a(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise(((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((e=>{if(void 0===e||15===e.code)throw t();throw e}))}suspend(){return this._nativeAudioContext.suspend().catch((e=>{if(void 0===e)throw t();throw e}))}})(ci,Oe,Ke,rt,ui,hi,di,fi,Rt),gi=(e=>t=>{const n=e.get(t);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(jn),vi=(e=>(t,n)=>{e(t).add(n)})(gi),yi=(e=>function(t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=t[arguments.length>2&&void 0!==arguments[2]?arguments[2]:0];if(void 0===r)throw e();return le(n)?r.connect(n,0,i):r.connect(n,0)})(P),_i=(e=>(t,n)=>{e(t).delete(n)})(gi),bi=(e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return void 0===n?t.forEach((e=>e.disconnect())):"number"===typeof n?Ce(e,t,n).disconnect():le(n)?void 0===i?t.forEach((e=>e.disconnect(n))):void 0===r?Ce(e,t,i).disconnect(n,0):Ce(e,t,i).disconnect(n,0,r):void 0===i?t.forEach((e=>e.disconnect(n))):Ce(e,t,i).disconnect(n,0)})(P),wi=new WeakMap,xi=((e,t)=>n=>t(e,n))(wi,x),ki=((e,t,n,i,r,s,o,a,l,c,u,h,d)=>(p,f,m,v)=>{if(0===v.numberOfInputs&&0===v.numberOfOutputs)throw l();const y=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(y.some((e=>e<1)))throw l();if(y.length!==v.numberOfOutputs)throw t();if("explicit"!==v.channelCountMode)throw l();const _=v.channelCount*v.numberOfInputs,b=y.reduce(((e,t)=>e+t),0),w=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(_+w>6||b>6)throw l();const x=new MessageChannel,k=[],T=[];for(let e=0;e<v.numberOfInputs;e+=1)k.push(o(p,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),T.push(r(p,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const S=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:i}of m.parameterDescriptors){const r=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==v.parameterData[i]?v.parameterData[i]:void 0===e?0:e});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?F:t},minValue:{get:()=>void 0===n?j:n}}),S.push(r)}const C=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+w)}),E=ze(f,p.sampleRate),A=a(p,E,_+w,Math.max(1,b)),O=r(p,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),I=[];for(let e=0;e<v.numberOfOutputs;e+=1)I.push(i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[e]}));for(let e=0;e<v.numberOfInputs;e+=1){k[e].connect(T[e]);for(let t=0;t<v.channelCount;t+=1)T[e].connect(C,t,e*v.channelCount+t)}const N=new pe(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(((e,t)=>{let{name:n}=e;const i=S[t];return i.connect(C,0,_+t),i.start(0),[n,i.offset]})));C.connect(A);let M=v.channelInterpretation,P=null;const R=0===v.numberOfOutputs?[A]:I,D={get bufferSize(){return E},get channelCount(){return v.channelCount},set channelCount(e){throw n()},get channelCountMode(){return v.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return M},set channelInterpretation(e){for(const t of k)t.channelInterpretation=e;M=e},get context(){return A.context},get inputs(){return k},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return P},set onprocessorerror(e){"function"===typeof P&&D.removeEventListener("processorerror",P),P="function"===typeof e?e:null,"function"===typeof P&&D.addEventListener("processorerror",P)},get parameters(){return N},get port(){return x.port2},addEventListener(){return A.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},connect:e.bind(null,R),disconnect:c.bind(null,R),dispatchEvent(){return A.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return A.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}},V=new Map;x.port1.addEventListener=(e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if("message"===n[0]){const e="function"===typeof n[1]?n[1]:"object"===typeof n[1]&&null!==n[1]&&"function"===typeof n[1].handleEvent?n[1].handleEvent:null;if(null!==e){const t=V.get(n[1]);void 0!==t?n[1]=t:(n[1]=t=>{u(p.currentTime,p.sampleRate,(()=>e(t)))},V.set(e,n[1]))}}return e.call(x.port1,n[0],n[1],n[2])})(x.port1.addEventListener),x.port1.removeEventListener=(e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if("message"===n[0]){const e=V.get(n[1]);void 0!==e&&(V.delete(n[1]),n[1]=e)}return e.call(x.port1,n[0],n[1],n[2])})(x.port1.removeEventListener);let L=null;Object.defineProperty(x.port1,"onmessage",{get:()=>L,set:e=>{"function"===typeof L&&x.port1.removeEventListener("message",L),L="function"===typeof e?e:null,"function"===typeof L&&(x.port1.addEventListener("message",L),x.port1.start())}}),m.prototype.port=x.port1;let q=null;const B=((e,t,n,i)=>{let r=g.get(e);void 0===r&&(r=new WeakMap,g.set(e,r));const s=Ue(n,i);return r.set(t,s),s})(p,D,m,v);B.then((e=>q=e));const z=ve(v.numberOfInputs,v.channelCount),U=ve(v.numberOfOutputs,y),W=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((e,t)=>{let{name:n}=t;return{...e,[n]:new Float32Array(128)}}),{});let H=!0;const G=()=>{v.numberOfOutputs>0&&A.disconnect(O);for(let e=0,t=0;e<v.numberOfOutputs;e+=1){const n=I[e];for(let i=0;i<y[e];i+=1)O.disconnect(n,t+i,i);t+=y[e]}},Q=new Map;A.onaudioprocess=e=>{let{inputBuffer:t,outputBuffer:n}=e;if(null!==q){const e=h(D);for(let r=0;r<E;r+=128){for(let e=0;e<v.numberOfInputs;e+=1)for(let n=0;n<v.channelCount;n+=1)me(t,z[e],n,n,r);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(((e,n)=>{let{name:i}=e;me(t,W,i,_+n,r)}));for(let e=0;e<v.numberOfInputs;e+=1)for(let t=0;t<y[e];t+=1)0===U[e][t].byteLength&&(U[e][t]=new Float32Array(128));try{const t=z.map(((t,n)=>{if(e[n].size>0)return Q.set(n,E/128),t;const i=Q.get(n);return void 0===i?[]:(t.every((e=>e.every((e=>0===e))))&&(1===i?Q.delete(n):Q.set(n,i-1)),t)})),i=u(p.currentTime+r/p.sampleRate,p.sampleRate,(()=>q.process(t,U,W)));H=i;for(let e=0,s=0;e<v.numberOfOutputs;e+=1){for(let t=0;t<y[e];t+=1)ge(n,U[e],t,s+t,r);s+=y[e]}}catch(i){H=!1,D.dispatchEvent(new ErrorEvent("processorerror",{colno:i.colno,filename:i.filename,lineno:i.lineno,message:i.message}))}if(!H){for(let e=0;e<v.numberOfInputs;e+=1){k[e].disconnect(T[e]);for(let t=0;t<v.channelCount;t+=1)T[r].disconnect(C,t,e*v.channelCount+t)}if(void 0!==m.parameterDescriptors){const e=m.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=S[t];e.disconnect(C,0,_+t),e.stop()}}C.disconnect(A),A.onaudioprocess=null,X?G():J();break}}}};let X=!1;const $=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Y=()=>A.connect($).connect(p.destination),J=()=>{A.disconnect($),$.disconnect()};return Y(),d(D,(()=>{if(H){J(),v.numberOfOutputs>0&&A.connect(O);for(let e=0,t=0;e<v.numberOfOutputs;e+=1){const n=I[e];for(let i=0;i<y[e];i+=1)O.connect(n,t+i,i);t+=y[e]}}X=!0}),(()=>{H&&(Y(),G()),X=!1}))})(yi,P,Oe,hn,He,vn,Xe,Je,Ke,bi,ii,xi,cn),Ti=((e,t,n,i,r)=>(s,o,a,l,c,u)=>{if(null!==a)try{const t=new a(s,l,u),i=new Map;let o=null;if(Object.defineProperties(t,{channelCount:{get:()=>u.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>o,set:e=>{"function"===typeof o&&t.removeEventListener("processorerror",o),o="function"===typeof e?e:null,"function"===typeof o&&t.addEventListener("processorerror",o)}}}),t.addEventListener=(e=>function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];if("processorerror"===r[0]){const e="function"===typeof r[1]?r[1]:"object"===typeof r[1]&&null!==r[1]&&"function"===typeof r[1].handleEvent?r[1].handleEvent:null;if(null!==e){const t=i.get(r[1]);void 0!==t?r[1]=t:(r[1]=t=>{"error"===t.type?(Object.defineProperties(t,{type:{value:"processorerror"}}),e(t)):e(new ErrorEvent(r[0],{...t}))},i.set(e,r[1]))}}return e.call(t,"error",r[1],r[2]),e.call(t,...r)})(t.addEventListener),t.removeEventListener=(e=>function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];if("processorerror"===r[0]){const e=i.get(r[1]);void 0!==e&&(i.delete(r[1]),r[1]=e)}return e.call(t,"error",r[1],r[2]),e.call(t,r[0],r[1],r[2])})(t.removeEventListener),0!==u.numberOfOutputs){const e=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(e).connect(s.destination);return r(t,(()=>e.disconnect()),(()=>e.connect(s.destination)))}return t}catch(h){if(11===h.code)throw i();throw h}if(void 0===c)throw i();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(u),t(s,o,c,u)})(Oe,ki,Xe,Ke,cn),Si=((e,t,n,i,r,s,o,a,l,c,u,h,d,p,f,m)=>(g,v,y)=>{const _=new WeakMap;let b=null;return{render(w,x){a(x,w);const k=_.get(x);return void 0!==k?Promise.resolve(k):(async(a,w)=>{let x=u(a),k=null;const T=N(x,w),S=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const e=S.reduce(((e,t)=>e+t),0),n=r(w,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),s=[];for(let t=0;t<a.numberOfOutputs;t+=1)s.push(i(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[t]}));const c=o(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});c.connect=t.bind(null,s),c.disconnect=l.bind(null,s),k=[n,s,c]}else T||(x=new h(w,g));if(_.set(w,null===k?x:k[2]),null!==k){if(null===b){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const e=a.channelCount*a.numberOfInputs,t=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=e+t,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),c=[],u=[];for(let e=0;e<v.numberOfInputs;e+=1)c.push(o(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),u.push(r(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async e=>{const t=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await p(l,e,t.offset),t}))),g=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<v.numberOfInputs;e+=1){c[e].connect(u[e]);for(let t=0;t<v.channelCount;t+=1)u[e].connect(g,t,e*v.channelCount+t)}for(const[t,n]of h.entries())n.connect(g,0,e+t),n.start(0);return g.connect(l.destination),await Promise.all(c.map((e=>f(a,l,e)))),m(l)};b=ye(a,0===n?null:await l(),w,v,S,y,c)}const e=await b,t=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,u,h]=k;null!==e&&(t.buffer=e,t.start(0)),t.connect(l);for(let n=0,i=0;n<a.numberOfOutputs;n+=1){const e=u[n];for(let t=0;t<S[n];t+=1)l.connect(e,i+t,t);i+=S[n]}return h}if(T)for(const[t,n]of a.parameters.entries())await e(w,n,x.parameters.get(t));else for(const[e,t]of a.parameters.entries())await p(w,t,x.parameters.get(e));return await f(a,w,x),x})(w,x)}}})(Jt,yi,Kt,hn,He,vn,Xe,_i,bi,ii,ne,Vt,It,Zt,Ct,Nn),Ci=(e=>t=>e.get(t))(ri),Ei=(e=>(t,n)=>{e.set(t,n)})(wi),Ai=ni?((e,t,n,i,r,s,o,a,l,c,u,h,d,p)=>class extends t{constructor(t,p,f){var g;const v=a(t),y=l(v),_=u({...fe,...f});d(_);const b=m.get(v),w=null===b||void 0===b?void 0:b.get(p),x=y||"closed"!==v.state?v:null!==(g=o(v))&&void 0!==g?g:v,k=r(x,y?null:t.baseLatency,c,p,w,_);super(t,!0,k,y?i(p,_,w):null);const T=[];k.parameters.forEach(((e,t)=>{const i=n(this,y,e);T.push([t,i])})),this._nativeAudioWorkletNode=k,this._onprocessorerror=null,this._parameters=new pe(T),y&&e(v,this);const{activeInputs:S}=s(this);h(k,S)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t="function"===typeof e?p(this,e):null;this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(vi,Lt,tn,Si,Ti,q,Ci,At,Nt,Vt,(e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},(()=>1))})),Ei,(e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}}),ft):void 0,Oi=(((e,t,n,i,r)=>{})(Oe,Ke,rt,Fn,Rt),((e,t)=>(n,i,r)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,i,r)}catch(s){if("SyntaxError"===s.name)throw e();throw s}})(Ke,It)),Ii=((e,t,n,i,r,s,o,a)=>(l,c)=>n(l).render(l,c).then((()=>Promise.all(Array.from(i(c)).map((e=>n(e).render(e,c)))))).then((()=>r(c))).then((n=>("function"!==typeof n.copyFromChannel?(o(n),R(n)):t(s,(()=>s(n)))||a(n),e.add(n),n))))(zt,bt,St,gi,Nn,M,Gt,Qt),Ni=(((e,t,n,i,r)=>{})(bt,Oe,Oi,Fn,Ii),((e,t,n,i,r)=>class extends e{constructor(e,n,r){let s;if("number"===typeof e&&void 0!==n&&void 0!==r)s={length:n,numberOfChannels:e,sampleRate:r};else{if("object"!==typeof e)throw new Error("The given parameters are not valid.");s=e}const{length:o,numberOfChannels:a,sampleRate:l}={...Ze,...s},c=i(a,o,l);t(Re,(()=>Re(c)))||c.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(c.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(c,a),this._length=o,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,U(this)})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(ci,bt,Oe,Oi,Ii)),Mi=((e,t)=>n=>{const i=e.get(n);return t(i)||t(n)})(d,Dt),Pi=((e,t)=>n=>e.has(n)||t(n))(c,jt),Ri=((e,t)=>n=>e.has(n)||t(n))(h,Ft),Di=((e,t)=>n=>{const i=e.get(n);return t(i)||t(n)})(d,Nt);function ji(e,t){if(!e)throw new Error(t)}function Fi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if(!(t<=e&&e<=n))throw new RangeError("Value must be within [".concat(t,", ").concat(n,"], got: ").concat(e))}function Vi(e){e.isOffline||"running"===e.state||qi('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Li=console;function qi(){Li.warn(...arguments)}function Bi(e){return"undefined"===typeof e}function zi(e){return!Bi(e)}function Ui(e){return"number"===typeof e}function Wi(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object}function Hi(e){return"boolean"===typeof e}function Gi(e){return Array.isArray(e)}function Qi(e){return"string"===typeof e}function Xi(e){return Qi(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)}const $i="object"===typeof self?self:null,Yi=$i&&($i.hasOwnProperty("AudioContext")||$i.hasOwnProperty("webkitAudioContext"));function Ji(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function Ki(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class Zi{constructor(e,t,n){this._callback=e,this._type=t,this._updateInterval=n,this._createClock()}_createWorker(){const e=new Blob(["\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ".concat((1e3*this._updateInterval).toFixed(1),";\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t")],{type:"text/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(e){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*e,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function er(e){return Ri(e)}function tr(e){return Pi(e)}function nr(e){return Di(e)}function ir(e){return Mi(e)}function rr(e){return e instanceof AudioBuffer}function sr(e,t){return"value"===e||er(t)||tr(t)||rr(t)}function or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;const r=n.shift();if(Wi(e)&&Wi(r))for(const s in r)sr(s,r[s])?e[s]=r[s]:Wi(r[s])?(e[s]||Object.assign(e,{[s]:{}}),or(e[s],r[s])):Object.assign(e,{[s]:r[s]});return or(e,...n)}function ar(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;const r={},s=Array.from(t);if(Wi(s[0])&&i&&!Reflect.has(s[0],i)){Object.keys(s[0]).some((t=>Reflect.has(e,t)))||(or(r,{[i]:s[0]}),n.splice(n.indexOf(i),1),s.shift())}if(1===s.length&&Wi(s[0]))or(r,s[0]);else for(let o=0;o<n.length;o++)zi(s[o])&&(r[n[o]]=s[o]);return or(e,r)}function lr(e,t){return Bi(e)?t:e}function cr(e,t){return t.forEach((t=>{Reflect.has(e,t)&&delete e[t]})),e}class ur{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(){if(this.debug||$i&&this.toString()===$i.TONE_DEBUG_CLASS){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];!function(){Li.log(...arguments)}(this,...t)}}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ur.version=s;const hr=1e-6;function dr(e,t){return e>t+hr}function pr(e,t){return dr(e,t)||mr(e,t)}function fr(e,t){return e+hr<t}function mr(e,t){return Math.abs(e-t)<hr}class gr extends ur{constructor(){super(),this.name="Timeline",this._timeline=[];const e=ar(gr.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ji(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];ji(pr(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(e){const t=this._timeline.indexOf(e);return-1!==t&&this._timeline.splice(t,1),this}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(e,t);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(e,t);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(mr(this._timeline[t].time,e)){for(let n=t;n>=0&&mr(this._timeline[n].time,e);n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&pr(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";if(0===this._timeline.length)return-1;let n=0;const i=this._timeline.length;let r=i;if(i>0&&this._timeline[i-1][t]<=e)return i-1;for(;n<r;){let i=Math.floor(n+(r-n)/2);const s=this._timeline[i],o=this._timeline[i+1];if(mr(s[t],e)){for(let n=i;n<this._timeline.length;n++){if(!mr(this._timeline[n][t],e))break;i=n}return i}if(fr(s[t],e)&&dr(o[t],e))return i;dr(s[t],e)?r=i:n=i+1}return-1}_iterate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._timeline.length-1;this._timeline.slice(t,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const n=this._search(e);return-1!==n&&this._iterate(t,0,n),this}forEachAfter(e,t){const n=this._search(e);return this._iterate(t,n+1),this}forEachBetween(e,t,n){let i=this._search(e),r=this._search(t);return-1!==i&&-1!==r?(this._timeline[i].time!==e&&(i+=1),this._timeline[r].time===t&&(r-=1),this._iterate(n,i,r)):-1===i&&this._iterate(n,0,r),this}forEachFrom(e,t){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this}forEachAtTime(e,t){const n=this._search(e);if(-1!==n&&mr(this._timeline[n].time,e)){let i=n;for(let t=n;t>=0&&mr(this._timeline[t].time,e);t--)i=t;this._iterate((e=>{t(e)}),i,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const vr=[];function yr(e){vr.push(e)}const _r=[];function br(e){_r.push(e)}class wr extends ur{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach((e=>{Bi(this._events)&&(this._events={}),this._events.hasOwnProperty(e)||(this._events[e]=[]),this._events[e].push(t)})),this}once(e,t){var n=this;const i=function(){t(...arguments),n.off(e,i)};return this.on(e,i),this}off(e,t){return e.split(/\W+/).forEach((n=>{if(Bi(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(Bi(t))this._events[e]=[];else{const n=this._events[e];for(let e=n.length-1;e>=0;e--)n[e]===t&&n.splice(e,1)}})),this}emit(e){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(let e=0,t=r.length;e<t;e++)r[e].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach((t=>{const n=Object.getOwnPropertyDescriptor(wr.prototype,t);Object.defineProperty(e.prototype,t,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class xr extends wr{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class kr extends xr{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new gr,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=ar(kr.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=function(e){return new mi(e)}({latencyHint:e.latencyHint}),this._ticker=new Zi(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var e;return this._initialized||(e=this,vr.forEach((t=>t(e))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,n){return this._context.createBuffer(e,t,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,n){return this._context.createPeriodicWave(e,t,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){ji(ir(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(e)}createMediaElementSource(e){ji(ir(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(e)}createMediaStreamDestination(){ji(ir(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ji(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ji(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ji(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ji(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return function(e,t,n){return ji(zi(Ai),"This node only works in a secure context (https or localhost)"),new Ai(e,t,n)}(this.rawContext,e,t)}addAudioWorkletModule(e,t){return Ki(this,void 0,void 0,(function*(){ji(zi(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(t)||this._workletModules.set(t,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(t)}))}workletsAreReady(){return Ki(this,void 0,void 0,(function*(){const e=[];this._workletModules.forEach((t=>e.push(t))),yield Promise.all(e)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let t=0;if(this._latencyHint=e,Qi(e))switch(e){case"interactive":t=.1;break;case"playback":t=.5;break;case"balanced":t=.25}this.lookAhead=t,this.updateInterval=t/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return ir(this._context)?this._context.resume():Promise.resolve()}close(){return Ki(this,void 0,void 0,(function*(){var e;ir(this._context)&&(yield this._context.close()),this._initialized&&(e=this,_r.forEach((t=>t(e))))}))}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0);for(let r=0;r<n.length;r++)n[r]=e;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=t,i.loop=!0,i.start(0),this._constants.set(e,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((e=>this._constants[e].disconnect())),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach((t=>{t.id===e&&this._timeouts.remove(t)})),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const n=++this._timeoutIds,i=()=>{const r=this.now();this._timeouts.add({callback:()=>{e(),i()},id:n,time:r+t})};return i(),n}}function Tr(e,t){Gi(t)?t.forEach((t=>Tr(e,t))):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function Sr(e,t){Gi(t)?t.forEach((t=>Sr(e,t))):Object.defineProperty(e,t,{writable:!0})}const Cr=()=>{};class Er extends ur{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Cr;const e=ar(Er.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&rr(e.url)||e.url instanceof Er?this.set(e.url):Qi(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:Cr,onload:Cr,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Nr().sampleRate}set(e){return e instanceof Er?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ki(this,void 0,void 0,(function*(){const t=Er.load(e).then((e=>{this.set(e),this.onload(this)}));Er.downloads.push(t);try{yield t}finally{const e=Er.downloads.indexOf(t);Er.downloads.splice(e,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Gi(e)&&e[0].length>0,n=t?e.length:1,i=t?e[0].length:e.length,r=Nr(),s=r.createBuffer(n,i,r.sampleRate),o=t||1!==n?e:[e];for(let a=0;a<n;a++)s.copyToChannel(o[a],a);return this._buffer=s,this}toMono(e){if(Ui(e))this.fromArray(this.toArray(e));else{let e=new Float32Array(this.length);const t=this.numberOfChannels;for(let n=0;n<t;n++){const t=this.toArray(n);for(let n=0;n<t.length;n++)e[n]+=t[n]}e=e.map((e=>e/t)),this.fromArray(e)}return this}toArray(e){if(Ui(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);{const e=[];for(let t=0;t<this.numberOfChannels;t++)e[t]=this.getChannelData(t);return e}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.duration;const n=Math.floor(e*this.sampleRate),i=Math.floor(t*this.sampleRate);ji(n<i,"The start time must be less than the end time");const r=i-n,s=Nr().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)s.copyToChannel(this.getChannelData(o).subarray(n,i),o);return new Er(s)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return(new Er).fromArray(e)}static fromUrl(e){return Ki(this,void 0,void 0,(function*(){const t=new Er;return yield t.load(e)}))}static load(e){return Ki(this,void 0,void 0,(function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const n=t[1].split("|");let i=n[0];for(const e of n)if(Er.supportsType(e)){i=e;break}e=e.replace(t[0],i)}const n=""===Er.baseUrl||Er.baseUrl.endsWith("/")?Er.baseUrl:Er.baseUrl+"/",i=yield fetch(n+e);if(!i.ok)throw new Error("could not load url: ".concat(e));const r=yield i.arrayBuffer();return yield Nr().decodeAudioData(r)}))}static supportsType(e){const t=e.split("."),n=t[t.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Ki(this,void 0,void 0,(function*(){for(yield Promise.resolve();Er.downloads.length;)yield Er.downloads[0]}))}}Er.baseUrl="",Er.downloads=[];class Ar extends kr{constructor(){var e,t,n;super({clockSource:"offline",context:nr(arguments[0])?arguments[0]:(e=arguments[0],t=arguments[1]*arguments[2],n=arguments[2],new Ni(e,t,n)),lookAhead:0,updateInterval:nr(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=nr(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ki(this,void 0,void 0,(function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const n=Math.floor(this.sampleRate/128);e&&t%n===0&&(yield new Promise((e=>setTimeout(e,1))))}}))}render(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ki(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Er(t)}))}close(){return Promise.resolve()}}const Or=new class extends xr{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e,t){return Ki(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let Ir=Or;function Nr(){return Ir===Or&&Yi&&function(e){Ir=ir(e)?new kr(e):nr(e)?new Ar(e):e}(new kr),Ir}if($i&&!$i.TONE_SILENCE_LOGGING){let e="v";0;const t=" * Tone.js ".concat(e).concat(s," * ");console.log("%c".concat(t),"background: #000; color: #fff")}function Mr(e){return Math.pow(2,e/12)}let Pr=440;function Rr(e){return Math.round(Dr(e))}function Dr(e){return 69+12*Math.log2(e/Pr)}function jr(e){return Pr*Math.pow(2,(e-69)/12)}class Fr extends ur{constructor(e,t,n){super(),this.defaultUnits="s",this._val=t,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const n=parseInt(e,10),i="."===t?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/n)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(e,t,n)=>{let i=0;return e&&"0"!==e&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(i+=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Fr&&this.fromType(this._val),Bi(this._val))return this._noArg();if(Qi(this._val)&&Bi(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Wi(this._val)){let e=0;for(const t in this._val)if(zi(this._val[t])){const n=this._val[t];e+=new this.constructor(this.context,t).valueOf()*n}return e}if(zi(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}return Qi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Vr extends Fr{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Vr(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new this.constructor(this.context,e).valueOf(),i=this.valueOf();return i+(Math.round(i/n)*n-i)*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let r=1;r<9;r++){const e=Math.pow(2,r);t.push(e+"n."),t.push(e+"n"),t.push(e+"t")}t.push("0");let n=t[0],i=new Vr(this.context,t[0]).toSeconds();return t.forEach((t=>{const r=new Vr(this.context,t).toSeconds();Math.abs(r-e)<Math.abs(i-e)&&(n=t,i=r)})),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const n=Math.floor(t/this._getTimeSignature());let i=t%1*4;t=Math.floor(t)%this._getTimeSignature();const r=i.toString();r.length>3&&(i=parseFloat(parseFloat(r).toFixed(3)));return[n,t,i].join(":")}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.round(t*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Rr(this.toFrequency())}_now(){return this.context.now()}}class Lr extends Vr{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Pr}static set A4(e){!function(e){Pr=e}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:Lr.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,t){const n=qr[e.toLowerCase()]+12*(parseInt(t,10)+1);return"midi"===this.defaultUnits?n:Lr.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,n){let i=1;return e&&"0"!==e&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(i*=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}}})}transpose(e){return new Lr(this.context,this.valueOf()*Mr(e))}harmonize(e){return e.map((e=>this.transpose(e)))}toMidi(){return Rr(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Lr.A4);let n=Math.round(12*t)+57;const i=Math.floor(n/12);i<0&&(n+=-12*i);return Br[n%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return jr(e)}static ftom(e){return Rr(e)}}const qr={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Br=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class zr extends Vr{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ur extends ur{constructor(){super();const e=ar(Ur.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Nr()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Vr(this.context,e).toSeconds()}toFrequency(e){return new Lr(this.context,e).toFrequency()}toTicks(e){return new zr(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach((n=>{Bi(e[n])&&delete t[n]})),t}get(){const e=this.constructor.getDefaults();return Object.keys(e).forEach((t=>{if(Reflect.has(this,t)){const n=this[t];zi(n)&&zi(n.value)&&zi(n.setValueAtTime)?e[t]=n.value:n instanceof Ur?e[t]=n._getPartialProperties(e[t]):Gi(n)||Ui(n)||Qi(n)||Hi(n)?e[t]=n:delete e[t]}})),e}set(e){return Object.keys(e).forEach((t=>{Reflect.has(this,t)&&zi(this[t])&&(this[t]&&zi(this[t].value)&&zi(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Ur?this[t].set(e[t]):this[t]=e[t])})),this}}class Wr extends gr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stopped";super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return null!==t?t.state:this._initial}setStateAtTime(e,t,n){return Fi(t,0),this.add(Object.assign({},n,{state:e,time:t})),this}getLastState(e,t){for(let n=this._search(t);n>=0;n--){const t=this._timeline[n];if(t.state===e)return t}}getNextState(e,t){const n=this._search(t);if(-1!==n)for(let i=n;i<this._timeline.length;i++){const t=this._timeline[i];if(t.state===e)return t}}}class Hr extends Ur{constructor(){super(ar(Hr.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=ar(Hr.getDefaults(),arguments,["param","units","convert"]);for(ji(zi(e.param)&&(er(e.param)||e.param instanceof Hr),"param must be an AudioParam");!er(e.param);)e.param=e.param._param;this._swappable=!!zi(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new gr(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,zi(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ur.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return zi(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return zi(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return zi(this.maxValue)&&zi(this.minValue)&&Fi(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?(t=e,Math.pow(10,t/20)):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e;var t}_toType(e){return this.convert&&"decibels"===this.units?(t=e,Math.log(t)/Math.LN10*20):e;var t}setValueAtTime(e,t){const n=this.toSeconds(t),i=this._fromType(e);return ji(isFinite(i)&&isFinite(n),"Invalid argument(s) to setValueAtTime: ".concat(JSON.stringify(e),", ").concat(JSON.stringify(t))),this._assertRange(i),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),n=this._events.getAfter(t),i=this._events.get(t);let r=this._initialValue;if(null===i)r=this._initialValue;else if("setTargetAtTime"!==i.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)r=i.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let e=i.value;if("setTargetAtTime"===i.type){const t=this._events.getBefore(i.time);e=null===t?this._initialValue:t.value}r="linearRampToValueAtTime"===n.type?this._linearInterpolate(i.time,e,n.time,n.value,t):this._exponentialInterpolate(i.time,e,n.time,n.value,t)}else r=i.value;else{const e=this._events.getBefore(i.time);let n;n=null===e?this._initialValue:e.value,"setTargetAtTime"===i.type&&(r=this._exponentialApproach(i.time,n,i.value,i.constant,t))}return this._toType(r)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(t)&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const n=this._fromType(e),i=this.toSeconds(t);return ji(isFinite(n)&&isFinite(i),"Invalid argument(s) to linearRampToValueAtTime: ".concat(JSON.stringify(e),", ").concat(JSON.stringify(t))),this._assertRange(n),this._events.add({time:i,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,i),this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(e,t){let n=this._fromType(e);n=mr(n,0)?this._minOutput:n,this._assertRange(n);const i=this.toSeconds(t);return ji(isFinite(n)&&isFinite(i),"Invalid argument(s) to exponentialRampToValueAtTime: ".concat(JSON.stringify(e),", ").concat(JSON.stringify(t))),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,i),this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this}linearRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this}targetRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,t),this}exponentialApproachValueAtTime(e,t,n){t=this.toSeconds(t),n=this.toSeconds(n);const i=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,t,i),this.cancelAndHoldAtTime(t+.9*n),this.linearRampToValueAtTime(e,t+n),this}setTargetAtTime(e,t,n){const i=this._fromType(e);ji(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(t);return this._assertRange(i),ji(isFinite(i)&&isFinite(r),"Invalid argument(s) to setTargetAtTime: ".concat(JSON.stringify(e),", ").concat(JSON.stringify(t))),this._events.add({constant:n,time:r,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",e,r,n),this._param.setTargetAtTime(i,r,n),this}setValueCurveAtTime(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;n=this.toSeconds(n),t=this.toSeconds(t);const r=this._fromType(e[0])*i;this.setValueAtTime(this._toType(r),t);const s=n/(e.length-1);for(let o=1;o<e.length;o++){const n=this._fromType(e[o])*i;this.linearRampToValueAtTime(this._toType(n),t+o*s)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return ji(isFinite(t),"Invalid argument to cancelScheduledValues: ".concat(JSON.stringify(e))),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),n=this._fromType(this.getValueAtTime(t));ji(isFinite(t),"Invalid argument to cancelAndHoldAtTime: ".concat(JSON.stringify(e))),this.log(this.units,"cancelAndHoldAtTime",t,"value="+n);const i=this._events.get(t),r=this._events.getAfter(t);return i&&mr(i.time,t)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),"linearRampToValueAtTime"===r.type?this.linearRampToValueAtTime(this._toType(n),t):"exponentialRampToValueAtTime"===r.type&&this.exponentialRampToValueAtTime(this._toType(n),t)),this._events.add({time:t,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,t),this}rampTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2?arguments[2]:void 0;return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,t,n):this.linearRampTo(e,t,n),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const n=this._events.get(t);if(n&&"setTargetAtTime"===n.type){const i=this._events.getAfter(n.time),r=i?i.time:t+2,s=(r-t)/10;for(let n=t;n<r;n+=s)e.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(t=>{"cancelScheduledValues"===t.type?e.cancelScheduledValues(t.time):"setTargetAtTime"===t.type?e.setTargetAtTime(t.value,t.time,t.constant):e[t.type](t.value,t.time)})),this}setParam(e){ji(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,n,i,r){return n+(t-n)*Math.exp(-(r-e)/i)}_linearInterpolate(e,t,n,i,r){return t+(r-e)/(n-e)*(i-t)}_exponentialInterpolate(e,t,n,i,r){return t*Math.pow(i/t,(r-e)/(n-e))}}class Gr extends Ur{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return zi(this.input)?er(this.input)||this.input instanceof Hr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return zi(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return zi(e)&&(e instanceof Gr||tr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach((t=>{t.channelCount=e.channelCount,t.channelCountMode=e.channelCountMode,t.channelInterpretation=e.channelInterpretation}))}_getChannelProperties(){const e=this._getInternalNodes();ji(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e){return Xr(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return qi("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e){return $r(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}chain(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qr(this,...t),this}fan(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>this.connect(e))),this}dispose(){return super.dispose(),zi(this.input)&&(this.input instanceof Gr?this.input.dispose():tr(this.input)&&this.input.disconnect()),zi(this.output)&&(this.output instanceof Gr?this.output.dispose():tr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Qr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.shift();t.reduce(((e,t)=>(e instanceof Gr?e.connect(t):tr(e)&&Xr(e,t),t)),i)}function Xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(ji(zi(e),"Cannot connect from undefined node"),ji(zi(t),"Cannot connect to undefined node"),(t instanceof Gr||tr(t))&&ji(t.numberOfInputs>0,"Cannot connect to node with no inputs"),ji(e.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof Gr||t instanceof Hr;)zi(t.input)&&(t=t.input);for(;e instanceof Gr;)zi(e.output)&&(e=e.output);er(t)?e.connect(t,n):e.connect(t,n,i)}function $r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(zi(t))for(;t instanceof Gr;)t=t.input;for(;!tr(e);)zi(e.output)&&(e=e.output);er(t)?e.disconnect(t,n):tr(t)?e.disconnect(t,n,i):e.disconnect()}class Yr extends Gr{constructor(){super(ar(Yr.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=ar(Yr.getDefaults(),arguments,["gain","units"]);this.gain=new Hr({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Tr(this,"gain")}static getDefaults(){return Object.assign(Gr.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Jr extends Gr{constructor(e){super(e),this.onended=Cr,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Yr({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const t=this.toSeconds(e);return-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Gr.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Cr})}_startGain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ji(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,e+n):this._gainNode.gain.exponentialApproachValueAtTime(t,e,n)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ji(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.context.currentTime),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const e="exponential"===this._curve?2*t:0;this._stopSource(this.now()+e),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Cr&&(this.onended(this),this.onended=Cr,!this.context.isOffline)){const e=()=>this.dispose();"undefined"!==typeof window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ji(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Kr extends Jr{constructor(){super(ar(Kr.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=ar(Kr.getDefaults(),arguments,["offset"]);Xr(this._source,this._gainNode),this.offset=new Hr({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Jr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Zr extends Gr{constructor(){super(ar(Zr.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=ar(Zr.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Kr({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Gr.getDefaults(),{convert:!0,units:"number",value:0})}connect(e){return es(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,n){return this._param.exponentialRampTo(e,t,n),this}linearRampTo(e,t,n){return this._param.linearRampTo(e,t,n),this}targetRampTo(e,t,n){return this._param.targetRampTo(e,t,n),this}exponentialApproachValueAtTime(e,t,n){return this._param.exponentialApproachValueAtTime(e,t,n),this}setTargetAtTime(e,t,n){return this._param.setTargetAtTime(e,t,n),this}setValueCurveAtTime(e,t,n,i){return this._param.setValueCurveAtTime(e,t,n,i),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,n){return this._param.rampTo(e,t,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function es(e,t,n,i){(t instanceof Hr||er(t)||t instanceof Zr&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Zr&&(t.overridden=!0)),Xr(e,t,n,i)}class ts extends Hr{constructor(){super(ar(ts.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new gr(1/0),this._multiplier=1;const e=ar(ts.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Hr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,n){t=this.toSeconds(t),this.setRampPoint(t);const i=this._fromType(e),r=this._events.get(t),s=Math.round(Math.max(1/n,1));for(let o=0;o<=s;o++){const e=n*o+t,s=this._exponentialApproach(r.time,r.value,i,n,e);this.linearRampToValueAtTime(this._toType(s),e)}return this}setValueAtTime(e,t){const n=this.toSeconds(t);super.setValueAtTime(e,t);const i=this._events.get(n),r=this._events.previousEvent(i),s=this._getTicksUntilEvent(r,n);return i.ticks=Math.max(s,0),this}linearRampToValueAtTime(e,t){const n=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const i=this._events.get(n),r=this._events.previousEvent(i),s=this._getTicksUntilEvent(r,n);return i.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const n=this._fromType(e),i=this._events.get(t),r=Math.round(Math.max(10*(t-i.time),1)),s=(t-i.time)/r;for(let o=0;o<=r;o++){const e=s*o+i.time,r=this._exponentialInterpolate(i.time,i.value,t,n,e);this.linearRampToValueAtTime(this._toType(r),e)}return this}_getTicksUntilEvent(e,t){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Bi(e.ticks)){const t=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(t,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let i=this._fromType(this.getValueAtTime(t));const r=this._events.get(t);return r&&r.time===t&&"setValueAtTime"===r.type&&(i=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(n+i)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),n=this._events.get(t);return Math.max(this._getTicksUntilEvent(n,t),0)}getDurationOfTicks(e,t){const n=this.toSeconds(t),i=this.getTicksAtTime(t);return this.getTimeOfTick(i+e)-n}getTimeOfTick(e){const t=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&n&&"linearRampToValueAtTime"===n.type&&t.value!==n.value){const i=this._fromType(this.getValueAtTime(t.time)),r=(this._fromType(this.getValueAtTime(n.time))-i)/(n.time-t.time),s=Math.sqrt(Math.pow(i,2)-2*r*(t.ticks-e)),o=(-i+s)/r;return(o>0?o:(-i-s)/r)+t.time}return t?0===t.value?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const n=this.toSeconds(t),i=this.toSeconds(e),r=this.getTicksAtTime(n);return this.getTicksAtTime(n+i)-r}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class ns extends Zr{constructor(){super(ar(ns.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=ar(ns.getDefaults(),arguments,["value"]);this.input=this._param=new ts({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Zr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class is extends Ur{constructor(){super(ar(is.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Wr,this._tickOffset=new gr;const e=ar(is.getDefaults(),arguments,["frequency"]);this.frequency=new ns({context:this.context,units:e.units,value:e.frequency}),Tr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ur.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const n=this.toSeconds(e);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),zi(t)&&this.setTicksAtTime(t,n)),this}stop(e){const t=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(t)){const e=this._state.get(t);e&&e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&this._state.setStateAtTime("paused",t),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),n=this._state.getLastState("stopped",t),i={state:"paused",time:t};this._state.add(i);let r=n,s=0;return this._state.forEachBetween(n.time,t+this.sampleTime,(e=>{let t=r.time;const n=this._tickOffset.get(e.time);n&&n.time>=r.time&&(s=n.ticks,t=n.time),"started"===r.state&&"started"!==e.state&&(s+=this.frequency.getTicksAtTime(e.time)-this.frequency.getTicksAtTime(t)),r=e})),this._state.remove(i),s}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),n=this.frequency.timeToTicks(e,t);this.setTicksAtTime(n,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);let i=t,r=0;return this._state.forEachBetween(t.time,e+this.sampleTime,(e=>{let t=i.time;const n=this._tickOffset.get(e.time);n&&n.time>=i.time&&(r=n.seconds,t=n.time),"started"===i.state&&"started"!==e.state&&(r+=e.time-t),i=e})),this._state.remove(n),r}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();const n=this._tickOffset.get(t),i=this._state.get(t),r=Math.max(n.time,i.time),s=this.frequency.getTicksAtTime(r)+e-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(e,t,n){let i=this._state.get(e);this._state.forEachBetween(e,t,(t=>{i&&"started"===i.state&&"started"!==t.state&&this.forEachTickBetween(Math.max(i.time,e),t.time-this.sampleTime,n),i=t}));let r=null;if(i&&"started"===i.state){const o=Math.max(i.time,e),a=this.frequency.getTicksAtTime(o),l=a-this.frequency.getTicksAtTime(i.time);let c=Math.ceil(l)-l;c=mr(c,1)?0:c;let u=this.frequency.getTimeOfTick(a+c);for(;u<t;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(s){r=s;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class rs extends Ur{constructor(){super(ar(rs.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Cr,this._lastUpdate=0,this._state=new Wr("stopped"),this._boundLoop=this._loop.bind(this);const e=ar(rs.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new is({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Tr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ur.getDefaults(),{callback:Cr,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Vi(this.context);const n=this.toSeconds(e);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const n=this.toSeconds(t),i=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(i+e,n)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,(e=>{switch(e.state){case"started":const t=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,t);break;case"stopped":0!==e.time&&this.emit("stop",e.time);break;case"paused":this.emit("pause",e.time)}})),this._tickSource.forEachTickBetween(e,t,((e,t)=>{this.callback(e,t)})))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}wr.mixin(rs);class ss extends Gr{constructor(){super(ar(ss.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=ar(ss.getDefaults(),arguments,["delayTime","maxDelay"]),t=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(t,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(t),this.delayTime=new Hr({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Tr(this,"delayTime")}static getDefaults(){return Object.assign(Gr.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class os extends ur{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=ar(os.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach((t=>{this._loadingCount++;const n=e.urls[t];this.add(t,n,this._bufferLoaded.bind(this,e.onload),e.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Cr,onload:Cr,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ji(this.has(e),"ToneAudioBuffers has no buffer named: ".concat(e)),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every((e=>{let[t,n]=e;return n.loaded}))}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cr,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Cr;return Qi(t)?this._buffers.set(e.toString(),new Er(this.baseUrl+t,n,i)):this._buffers.set(e.toString(),new Er(t,n,i)),this}dispose(){return super.dispose(),this._buffers.forEach((e=>e.dispose())),this._buffers.clear(),this}}class as extends Lr{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Rr(super._frequencyToUnits(e))}_ticksToUnits(e){return Rr(super._ticksToUnits(e))}_beatsToUnits(e){return Rr(super._beatsToUnits(e))}_secondsToUnits(e){return Rr(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return jr(this.toMidi())}transpose(e){return new as(this.context,this.toMidi()+e)}}class ls extends zr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class cs extends Ur{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new gr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}yr((e=>{e.draw=new cs({context:e})})),br((e=>{e.draw.dispose()}));class us extends ur{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ji(zi(e.time),"Events must have a time property"),ji(zi(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new hs(e.time,e.time+e.duration,e);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(null!==this._root){const t=[];this._root.search(e.time,t);for(const n of t)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,(e=>this.remove(e))),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,t){null!==e.parent?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let t,n=null;if(e.getBalance()>0)if(null===e.left.right)t=e.left,t.right=e.right,n=t;else{for(t=e.left.right;null!==t.right;)t=t.right;t.parent&&(t.parent.right=t.left,n=t.parent,t.left=e.left,t.right=e.right)}else if(null===e.right.left)t=e.right,t.left=e.left,n=t;else{for(t=e.right.left;null!==t.left;)t=t.left;t.parent&&(t.parent.left=t.right,n=t.parent,t.left=e.left,t.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=t:e.parent.right=t:this._setRoot(t),n&&this._rebalance(n)}e.dispose()}_rotateLeft(e){const t=e.parent,n=e.isLeftChild(),i=e.right;i&&(e.right=i.left,i.left=e),null!==t?n?t.left=i:t.right=i:this._setRoot(i)}_rotateRight(e){const t=e.parent,n=e.isLeftChild(),i=e.left;i&&(e.left=i.right,i.right=e),null!==t?n?t.left=i:t.right=i:this._setRoot(i)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const t=[];if(this._root.search(e,t),t.length>0){let e=t[0];for(let n=1;n<t.length;n++)t[n].low>e.low&&(e=t[n]);return e.event}}return null}forEach(e){if(null!==this._root){const t=[];this._root.traverse((e=>t.push(e))),t.forEach((t=>{t.event&&e(t.event)}))}return this}forEachAtTime(e,t){if(null!==this._root){const n=[];this._root.search(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}forEachFrom(e,t){if(null!==this._root){const n=[];this._root.searchAfter(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((e=>e.dispose())),this._root=null,this}}class hs{constructor(e,t,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(null!==this.left&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),this.low>e||null!==this.right&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),null!==this.left&&this.left.searchAfter(e,t)),null!==this.right&&this.right.searchAfter(e,t)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class ds extends Gr{constructor(){super(ar(ds.getDefaults(),arguments,["volume"])),this.name="Volume";const e=ar(ds.getDefaults(),arguments,["volume"]);this.input=this.output=new Yr({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Tr(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Gr.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ps extends Gr{constructor(){super(ar(ps.getDefaults(),arguments)),this.name="Destination",this.input=new ds({context:this.context}),this.output=new Yr({context:this.context}),this.volume=this.input.volume;const e=ar(ps.getDefaults(),arguments);Qr(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Gr.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(){this.input.disconnect();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift(this.input),t.push(this.output),Qr(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}yr((e=>{e.destination=new ps({context:e})})),br((e=>{e.destination.dispose()}));class fs extends ur{constructor(e){super(),this.name="TimelineValue",this._timeline=new gr({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class ms{constructor(e,t){this.id=ms._eventId++;const n=Object.assign(ms.getDefaults(),t);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:Cr,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}ms._eventId=0;class gs extends ms{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(gs.getDefaults(),t);this.duration=new ls(e.context,n.duration).valueOf(),this._interval=new ls(e.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ms.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const t=this.transport.getTicksAtTime(e);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ls(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const t=this.transport.getTicksAtTime(e);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new ls(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ls(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class vs extends Ur{constructor(){super(ar(vs.getDefaults(),arguments)),this.name="Transport",this._loop=new fs(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new gr,this._repeatedEvents=new us,this._syncedSignals=[],this._swingAmount=0;const e=ar(vs.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new rs({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Tr(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ur.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(2*this._swingTicks)!==0){const n=t%(2*this._swingTicks)/(2*this._swingTicks),i=Math.sin(n*Math.PI)*this._swingAmount;e+=new ls(this.context,2*this._swingTicks/3).toSeconds()*i}this._timeline.forEachAtTime(t,(t=>t.invoke(e)))}schedule(e,t){const n=new ms(this,{callback:e,time:new zr(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const r=new gs(this,{callback:e,duration:new Vr(this.context,i).toTicks(),interval:new Vr(this.context,t).toTicks(),time:new zr(this.context,n).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(e,t){const n=new ms(this,{callback:e,once:!0,time:new zr(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=this.toTicks(e);return this._timeline.forEachFrom(t,(e=>this.clear(e.id))),this._repeatedEvents.forEachFrom(t,(e=>this.clear(e.id))),this}_bindClockEvents(){this._clock.on("start",((e,t)=>{t=new ls(this.context,t).toSeconds(),this.emit("start",e,t)})),this._clock.on("stop",(e=>{this.emit("stop",e)})),this._clock.on("pause",(e=>{this.emit("pause",e)}))}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){let n;return zi(t)&&(n=this.toTicks(t)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Gi(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Vr(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Vr(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new ls(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new ls(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),n=this._clock.frequency.timeToTicks(e,t);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(t),i=t+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,t);this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const t=this.now(),n=e-this.getTicksAtTime(t)%e;return this._clock.nextTickTime(n,t)}}syncSignal(e,t){if(!t){const n=this.now();if(0!==e.getValueAtTime(n)){const i=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);t=e.getValueAtTime(n)/i}else t=0}const n=new Yr(t);return this.bpm.connect(n),n.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:n,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const n=this._syncedSignals[t];n.signal===e&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Sr(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}wr.mixin(vs),yr((e=>{e.transport=new vs({context:e})})),br((e=>{e.transport.dispose()}));class ys extends Gr{constructor(e){super(e),this.input=void 0,this._state=new Wr("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Cr,this._syncedStop=Cr,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ds({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Tr(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Gr.getDefaults(),{mute:!1,onstop:Cr,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,n){let i=Bi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),this._synced||"started"!==this._state.getValueAtTime(i))if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const e=this._state.get(i);e&&(e.offset=this.toSeconds(lr(t,0)),e.duration=n?this.toSeconds(n):void 0);const r=this.context.transport.schedule((e=>{this._start(e,t,n)}),i);this._scheduled.push(r),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else Vi(this.context),this._start(i,t,n);else ji(dr(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,t,n);return this}stop(e){let t=Bi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||zi(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const e=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,n){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,t,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(t>0){const n=this._state.get(t);if(n&&"started"===n.state&&n.time!==t){const i=t-this.toSeconds(n.time);let r;n.duration&&(r=this.toSeconds(n.duration)-i),this._start(e,this.toSeconds(n.offset)+i,r)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((e=>this.context.transport.clear(e))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Cr,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class _s extends Jr{constructor(){super(ar(_s.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=ar(_s.getDefaults(),arguments,["url","onload"]);Xr(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Hr({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Er(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Jr.getDefaults(),{url:new Er,loop:!1,loopEnd:0,loopStart:0,onload:Cr,onerror:Cr,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;ji(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(e);this._startGain(r,i),t=this.loop?lr(t,this.loopStart):lr(t,0);let s=Math.max(this.toSeconds(t),0);if(this.loop){const e=this.toSeconds(this.loopEnd)||this.buffer.duration,t=this.toSeconds(this.loopStart),n=e-t;pr(s,e)&&(s=(s-t)%n+t),mr(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,fr(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,s)),zi(n)){let e=this.toSeconds(n);e=Math.max(e,0),this.stop(r+e)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class bs extends ys{constructor(){super(ar(bs.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=ar(bs.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ys.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(ji(e in ks,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,"started"===this.state)){const e=this.now();this._stop(e),this._start(e)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const t=ks[this._type];this._source=new _s({url:t,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(t.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const ws=220500,xs={brown:null,pink:null,white:null},ks={get brown(){if(!xs.brown){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(ws);e[t]=n;let i=0;for(let e=0;e<ws;e++){const t=2*Math.random()-1;n[e]=(i+.02*t)/1.02,i=n[e],n[e]*=3.5}}xs.brown=(new Er).fromArray(e)}return xs.brown},get pink(){if(!xs.pink){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(ws);let i,r,s,o,a,l,c;e[t]=n,i=r=s=o=a=l=c=0;for(let e=0;e<ws;e++){const t=2*Math.random()-1;i=.99886*i+.0555179*t,r=.99332*r+.0750759*t,s=.969*s+.153852*t,o=.8665*o+.3104856*t,a=.55*a+.5329522*t,l=-.7616*l-.016898*t,n[e]=i+r+s+o+a+l+c+.5362*t,n[e]*=.11,c=.115926*t}}xs.pink=(new Er).fromArray(e)}return xs.pink},get white(){if(!xs.white){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(ws);e[t]=n;for(let e=0;e<ws;e++)n[e]=2*Math.random()-1}xs.white=(new Er).fromArray(e)}return xs.white}};function Ts(e,t){return Ki(this,void 0,void 0,(function*(){const n=t/e.context.sampleRate,i=new Ar(1,n,e.context.sampleRate);new e.constructor(Object.assign(e.get(),{frequency:2/n,detune:0,context:i})).toDestination().start(0);return(yield i.render()).getChannelData(0)}))}class Ss extends Jr{constructor(){super(ar(Ss.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=ar(Ss.getDefaults(),arguments,["frequency","type"]);Xr(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Hr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Hr({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Tr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Jr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Cs extends ys{constructor(){super(ar(Cs.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=ar(Cs.getDefaults(),arguments,["frequency","type"]);this.frequency=new Zr({context:this.context,units:"frequency",value:e.frequency}),Tr(this,"frequency"),this.detune=new Zr({context:this.context,units:"cents",value:e.detune}),Tr(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&"custom"!==e.type&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(ys.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),n=new Ss({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return Cs._periodicWaveCache.find((e=>{return e.phase===this._phase&&(t=e.partials,n=this._partials,t.length===n.length&&t.every(((e,t)=>n[t]===e)));var t,n}))}{const e=Cs._periodicWaveCache.find((e=>e.type===this._type&&e.phase===this._phase));return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=-1!==["sine","square","sawtooth","triangle"].indexOf(e);if(0===this._phase&&t)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=e);else{const t=this._getCachedPeriodicWave();if(zi(t)){const{partials:e,wave:n}=t;this._wave=n,this._partials=e,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[t,n]=this._getRealImaginary(e,this._phase),i=this.context.createPeriodicWave(t,n);this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Cs._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:t,type:this._type,wave:this._wave}),Cs._periodicWaveCache.length>100&&Cs._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&"custom"!==this._type&&"custom"!==e?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Fi(e,0);let t=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(t=n[1]),"custom"!==this._type)this.type=0===e?t:t+e.toString();else{const t=new Float32Array(e);this._partials.forEach(((e,n)=>t[n]=e)),this._partials=Array.from(t),this.type=this._type}}_getRealImaginary(e,t){let n=2048;const i=new Float32Array(n),r=new Float32Array(n);let s=1;if("custom"===e){if(s=this._partials.length+1,this._partialCount=this._partials.length,n=s,0===this._partials.length)return[i,r]}else{const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);t?(s=parseInt(t[2],10)+1,this._partialCount=parseInt(t[2],10),e=t[1],s=Math.max(s,2),n=s):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(e){case"sine":a=o<=s?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}0!==a?(i[o]=-a*Math.sin(t*o),r[o]=a*Math.cos(t*o)):(i[o]=0,r[o]=0)}return[i,r]}_inverseFFT(e,t,n){let i=0;const r=e.length;for(let s=0;s<r;s++)i+=e[s]*Math.cos(s*n)+t[s]*Math.sin(s*n);return i}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let n=0;const i=2*Math.PI;for(let a=0;a<32;a++)n=Math.max(this._inverseFFT(e,t,a/32*i),n);return r=-this._inverseFFT(e,t,this._phase)/n,s=-1,o=1,Math.max(Math.min(r,o),s);var r,s,o}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Ki(this,void 0,void 0,(function*(){return Ts(this,e)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Cs._periodicWaveCache=[];class Es extends Gr{constructor(){super(Object.assign(ar(Es.getDefaults(),arguments,["context"])))}connect(e){return es(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}}class As extends Es{constructor(){super(Object.assign(ar(As.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=ar(As.getDefaults(),arguments,["mapping","length"]);Gi(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):"function"===typeof e.mapping&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Zr.getDefaults(),{length:1024})}setMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=new Float32Array(t);for(let i=0,r=t;i<r;i++){const t=i/(r-1)*2-1;n[i]=e(t,i)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some((t=>t.includes(e)));ji(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Os extends Es{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new As({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Is extends Zr{constructor(){super(Object.assign(ar(Is.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=ar(Is.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Yr({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Zr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ns extends ys{constructor(){super(ar(Ns.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Os({context:this.context}),this._modulationNode=new Yr({context:this.context});const e=ar(Ns.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Cs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Cs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Is({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Tr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Cs.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Ki(this,void 0,void 0,(function*(){return Ts(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ms extends ys{constructor(){super(ar(Ms.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Yr({context:this.context,gain:0});const e=ar(Ms.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Cs({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Zr({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Cs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Is({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Is({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Tr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Cs.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Ki(this,void 0,void 0,(function*(){return Ts(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ps extends ys{constructor(){super(ar(Ps.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Yr({context:this.context,gain:0}),this._thresh=new As({context:this.context,mapping:e=>e<=0?-1:1});const e=ar(Ps.getDefaults(),arguments,["frequency","width"]);this.width=new Zr({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Cs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Tr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ys.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Ki(this,void 0,void 0,(function*(){return Ts(this,e)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Rs extends ys{constructor(){super(ar(Rs.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=ar(Rs.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Zr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Zr({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Tr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Cs.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach((t=>t.start(e)))}_stop(e){e=this.toSeconds(e),this._forEach((t=>t.stop(e)))}_restart(e){this._forEach((t=>t.restart(e)))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach((t=>t.type=e))}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,n=e/(this._oscillators.length-1);this._forEach(((e,i)=>e.detune.value=t+n*i))}}get count(){return this._oscillators.length}set count(e){if(Fi(e,1),this._oscillators.length!==e){this._forEach((e=>e.dispose())),this._oscillators=[];for(let t=0;t<e;t++){const n=new Cs({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):Cr});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[t]=n}this.spread=this._spread,"started"===this.state&&this._forEach((e=>e.start()))}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach(((e,t)=>e.phase=this._phase+t/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach((t=>t.baseType=e)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach((t=>t.partials=e)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach((t=>t.partialCount=e)),this._type=this._oscillators[0].type}asArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Ki(this,void 0,void 0,(function*(){return Ts(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((e=>e.dispose())),this}}class Ds extends ys{constructor(){super(ar(Ds.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Is({context:this.context,value:2});const e=ar(Ds.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Ps({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Cs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Tr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ys.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Ki(this,void 0,void 0,(function*(){return Ts(this,e)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const js={am:Ns,fat:Rs,fm:Ms,oscillator:Cs,pulse:Ps,pwm:Ds};class Fs extends ys{constructor(){super(ar(Fs.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=ar(Fs.getDefaults(),arguments,["frequency","type"]);this.frequency=new Zr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Zr({context:this.context,units:"cents",value:e.detune}),Tr(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Cs.getDefaults(),Ms.getDefaults(),Ns.getDefaults(),Rs.getDefaults(),Ps.getDefaults(),Ds.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some((e=>this._sourceType===e))&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=js[e],n=this.now();if(this._oscillator){const e=this._oscillator;e.stop(n),this.context.setTimeout((()=>e.dispose()),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type),"fm"===e?this.type="fm"+t:"am"===e?this.type="am"+t:"fat"===e?this.type="fat"+t:"oscillator"===e?this.type=t:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,t){return e instanceof js[t]}get baseType(){return this._oscillator.baseType}set baseType(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===e||"pwm"===e||(this._oscillator.baseType=e)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(e){this._getOscType(this._oscillator,"fat")&&Ui(e)&&(this._oscillator.count=e)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(e){this._getOscType(this._oscillator,"fat")&&Ui(e)&&(this._oscillator.spread=e)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Qi(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Ki(this,void 0,void 0,(function*(){return Ts(this,e)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Vs extends Zr{constructor(){super(Object.assign(ar(Vs.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Yr({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Qr(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Zr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Ls extends Es{constructor(){super(Object.assign(ar(Ls.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=ar(Ls.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Is({context:this.context,value:e.max-e.min}),this._add=this.output=new Vs({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Es.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class qs extends Es{constructor(){super(Object.assign(ar(qs.getDefaults(),arguments))),this.name="Zero",this._gain=new Yr({context:this.context}),this.output=this._gain,this.input=void 0,Xr(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),$r(this.context.getConstant(0),this._gain),this}}class Bs extends Gr{constructor(){super(ar(Bs.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Hr.prototype._fromType,this._toType=Hr.prototype._toType,this._is=Hr.prototype._is,this._clampValue=Hr.prototype._clampValue;const e=ar(Bs.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Cs(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Yr({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Zr({context:this.context,units:"audioRange",value:0}),this._zeros=new qs({context:this.context}),this._a2g=new Os({context:this.context}),this._scaler=this.output=new Ls({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Tr(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Cs.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const t=this.min,n=this.max;this._units=e,this.min=t,this.max=n}get state(){return this._oscillator.state}connect(e,t,n){return(e instanceof Hr||e instanceof Zr)&&(this.convert=e.convert,this.units=e.units),es(this,e,t,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function zs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Fi(i,e,t),n.set(this,i)}})}}function Us(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(i,r){Reflect.defineProperty(i,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Fi(this.toSeconds(i),e,t),n.set(this,i)}})}}class Ws extends ys{constructor(){super(ar(Ws.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=ar(Ws.getDefaults(),arguments,["url","onload"]);this._buffer=new Er({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ys.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Cr,onerror:Cr,playbackRate:1,reverse:!1})}load(e){return Ki(this,void 0,void 0,(function*(){return yield this._buffer.load(e),this._onload(),this}))}_onload(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr)(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,n){return super.start(e,t,n),this}_start(e,t,n){t=this._loop?lr(t,this._loopStart):lr(t,0);const i=this.toSeconds(t),r=n;n=lr(n,Math.max(this._buffer.duration-i,0));let s=this.toSeconds(n);s/=this._playbackRate,e=this.toSeconds(e);const o=new _s({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(e+s),this._state.setStateAtTime("stopped",e+s,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Bi(r)?o.start(e,i):o.start(e,i,s-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach((e=>e.stop(t)))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){this._stop(e),this._start(e,t,n)}seek(e,t){const n=this.toSeconds(t);if("started"===this._state.getValueAtTime(n)){const t=this.toSeconds(e);this._stop(n),this._start(n,t)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Fi(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopStart=e}))}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Fi(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopEnd=e}))}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach((t=>{t.loop=e})),e)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),n=this._state.getNextState("stopped",t);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((e=>e.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(e,t)}))}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((e=>e.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Ji([Us(0)],Ws.prototype,"fadeIn",void 0),Ji([Us(0)],Ws.prototype,"fadeOut",void 0);class Hs extends Es{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new As({context:this.context,mapping:e=>2*Math.abs(e)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Gs extends Gr{constructor(){super(ar(Gs.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Zr({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=ar(Gs.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Gr.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Qi(e))return e;{let n;for(n in Qs)if(Qs[n][t]===e)return n;return e}}_setCurve(e,t,n){if(Qi(n)&&Reflect.has(Qs,n)){const i=Qs[n];Wi(i)?"_decayCurve"!==e&&(this[e]=i[t]):this[e]=i}else{if(!Gi(n)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+n);this[e]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){ji(["linear","exponential"].some((t=>t===e)),"Invalid envelope curve: ".concat(e)),this._decayCurve=e}triggerAttack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.log("triggerAttack",e,t),e=this.toSeconds(e);let n=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),r=this.getValueAtTime(e);if(r>0){n=(1-r)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,n,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,n,e);else{this._sig.cancelAndHoldAtTime(e);let i=this._attackCurve;for(let e=1;e<i.length;e++)if(i[e-1]<=r&&r<=i[e]){i=this._attackCurve.slice(e),i[0]=r;break}this._sig.setValueCurveAtTime(i,e,n,t)}if(i&&this.sustain<1){const r=t*this.sustain,s=e+n;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(r,i+s):this._sig.exponentialApproachValueAtTime(r,s,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,e):(ji(Gi(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t=this.toSeconds(t),this.triggerAttack(t,n),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e){return es(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}asArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return Ki(this,void 0,void 0,(function*(){const t=e/this.context.sampleRate,n=new Ar(1,t,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=i+this.toSeconds(this.release),s=.1*r,o=r+s,a=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/o,decay:t*this.toSeconds(this.decay)/o,release:t*this.toSeconds(this.release)/o,context:n}));a._sig.toDestination(),a.triggerAttackRelease(t*(i+s)/o,0);return(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Ji([Us(0)],Gs.prototype,"attack",void 0),Ji([Us(0)],Gs.prototype,"decay",void 0),Ji([zs(0,1)],Gs.prototype,"sustain",void 0),Ji([Us(0)],Gs.prototype,"release",void 0);const Qs=(()=>{const e=128;let t,n;const i=[];for(t=0;t<e;t++)i[t]=Math.sin(t/127*(Math.PI/2));const r=[];for(t=0;t<127;t++){n=t/127;const e=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;r[t]=e/10+.83*n}r[127]=1;const s=[];for(t=0;t<e;t++)s[t]=Math.ceil(t/127*5)/5;const o=[];for(t=0;t<e;t++)n=t/127,o[t]=.5*(1-Math.cos(Math.PI*n));const a=[];for(t=0;t<e;t++){n=t/127;const e=4*Math.pow(n,3)+.2,i=Math.cos(e*Math.PI*2*n);a[t]=Math.abs(i*(1-n))}function l(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=1-e[n];return t}return{bounce:{In:l(a),Out:a},cosine:{In:i,Out:(c=i,c.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:r,Out:l(r)},sine:{In:o,Out:l(o)},step:{In:s,Out:l(s)}};var c})();class Xs extends Gr{constructor(){super(ar(Xs.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=ar(Xs.getDefaults(),arguments);this._volume=this.output=new ds({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Tr(this,"volume")}static getDefaults(){return Object.assign(Gr.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){var n=this;const i=this["_original_"+e]=this[e];this[e]=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];const o=r[t],a=n.context.transport.schedule((e=>{r[t]=e,i.apply(n,r)}),o);n._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach((e=>this.context.transport.clear(e))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,t,n,i){const r=this.toSeconds(n),s=this.toSeconds(t);return this.triggerAttack(e,r,i),this.triggerRelease(r+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class $s extends Xs{constructor(){super(ar($s.getDefaults(),arguments));const e=ar($s.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Xs.getDefaults(),{detune:0,onsilence:Cr,portamento:0})}triggerAttack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.log("triggerAttack",e,t,n);const i=this.toSeconds(t);return this._triggerEnvelopeAttack(i,n),this.setNote(e,i),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const n=this.toSeconds(t),i=e instanceof Lr?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const e=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,e,n)}else this.frequency.setValueAtTime(i,n);return this}}Ji([Us(0)],$s.prototype,"portamento",void 0);class Ys extends Gs{constructor(){super(ar(Ys.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Yr({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Js extends $s{constructor(){super(ar(Js.getDefaults(),arguments)),this.name="Synth";const e=ar(Js.getDefaults(),arguments);this.oscillator=new Fs(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ys(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Tr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign($s.getDefaults(),{envelope:Object.assign(cr(Gs.getDefaults(),Object.keys(Gr.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(cr(Fs.getDefaults(),[...Object.keys(ys.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ks extends Gr{constructor(){super(ar(Ks.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=ar(Ks.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Hr({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Hr({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Hr({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Hr({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Gr.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){ji(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),"Invalid filter type: ".concat(e)),this._filter.type=e}getFrequencyResponse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;const t=new Float32Array(e);for(let s=0;s<e;s++){const n=19980*Math.pow(s/e,2)+20;t[s]=n}const n=new Float32Array(e),i=new Float32Array(e),r=this.context.createBiquadFilter();return r.type=this.type,r.Q.value=this.Q.value,r.frequency.value=this.frequency.value,r.gain.value=this.gain.value,r.getFrequencyResponse(t,n,i),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Zs extends Gr{constructor(){super(ar(Zs.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Yr({context:this.context}),this.output=new Yr({context:this.context}),this._filters=[];const e=ar(Zs.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Zr({context:this.context,units:"positive",value:e.Q}),this.frequency=new Zr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Zr({context:this.context,units:"cents",value:e.detune}),this.gain=new Zr({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Tr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Gr.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){ji(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),"Invalid filter type: ".concat(e)),this._type=e,this._filters.forEach((t=>t.type=e))}get rolloff(){return this._rolloff}set rolloff(e){const t=Ui(e)?e:parseInt(e,10),n=[-12,-24,-48,-96];let i=n.indexOf(t);ji(-1!==i,"rolloff can only be ".concat(n.join(", "))),i+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach((e=>e.disconnect())),this._filters=new Array(i);for(let r=0;r<i;r++){const e=new Ks({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[r]=e}this._internalChannels=this._filters,Qr(this.input,...this._internalChannels,this.output)}getFrequencyResponse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;const t=new Ks({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(e).map((()=>1));return this._filters.forEach((()=>{t.getFrequencyResponse(e).forEach(((e,t)=>n[t]*=e))})),t.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((e=>{e.dispose()})),Sr(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class eo extends Js{constructor(){super(ar(eo.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=ar(eo.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Tr(this,["oscillator","envelope"])}static getDefaults(){return or($s.getDefaults(),Js.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const n=this.toSeconds(t),i=this.toFrequency(e instanceof Lr?e.toFrequency():e),r=i*this.octaves;return this.oscillator.frequency.setValueAtTime(r,n),this.oscillator.frequency.exponentialRampToValueAtTime(i,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ji([zs(0)],eo.prototype,"octaves",void 0),Ji([Us(0)],eo.prototype,"pitchDecay",void 0);const to=new Set;function no(e){to.add(e)}function io(e,t){const n='registerProcessor("'.concat(e,'", ').concat(t,")");to.add(n)}no('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');no("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");no("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");io("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class ro extends Xs{constructor(){super(ar(ro.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const e=ar(ro.getDefaults(),arguments,["voice","options"]);ji(!Ui(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Xs.getDefaults(),{maxPolyphony:32,options:{},voice:Js})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex((t=>t.voice===e));this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return e.connect(this.output),this._voices.push(e),e}qi("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,n){e.forEach((e=>{const i=new as(this.context,e).toMidi(),r=this._getNextAvailableVoice();r&&(r.triggerAttack(e,t,n),this._activeVoices.push({midi:i,voice:r,released:!1}),this.log("triggerAttack",e,t))}))}_triggerRelease(e,t){e.forEach((e=>{const n=new as(this.context,e).toMidi(),i=this._activeVoices.find((e=>{let{midi:t,released:i}=e;return t===n&&!i}));i&&(i.voice.triggerRelease(t),i.released=!0,this.log("triggerRelease",e,t))}))}_scheduleEvent(e,t,n,i){ji(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===e?this._triggerAttack(t,n,i):this._triggerRelease(t,n):this.context.setTimeout((()=>{this._scheduleEvent(e,t,n,i)}),n-this.now())}triggerAttack(e,t,n){Array.isArray(e)||(e=[e]);const i=this.toSeconds(t);return this._scheduleEvent("attack",e,i,n),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const n=this.toSeconds(t);return this._scheduleEvent("release",e,n),this}triggerAttackRelease(e,t,n,i){const r=this.toSeconds(n);if(this.triggerAttack(e,r,i),Gi(t)){ji(Gi(e),"If the duration is an array, the notes must also be an array");for(let n=0;n<e.length;n++){const i=t[Math.min(n,t.length-1)],s=this.toSeconds(i);ji(s>0,"The duration must be greater than 0"),this.triggerRelease(e[n],r+s)}}else{const n=this.toSeconds(t);ji(n>0,"The duration must be greater than 0"),this.triggerRelease(e,r+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(e){const t=cr(e,["onsilence","context"]);return this.options=or(this.options,t),this._voices.forEach((e=>e.set(t))),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach((e=>{let{voice:n}=e;n.triggerRelease(t)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((e=>e.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class so extends Xs{constructor(){super(ar(so.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=ar(so.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),t={};Object.keys(e.urls).forEach((n=>{const i=parseInt(n,10);if(ji(Xi(n)||Ui(i)&&isFinite(i),"url key is neither a note or midi pitch: ".concat(n)),Xi(n)){const i=new Lr(this.context,n).toMidi();t[i]=e.urls[n]}else Ui(i)&&isFinite(i)&&(t[i]=e.urls[i])})),this._buffers=new os({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Xs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Cr,onerror:Cr,release:.1,urls:{}})}_findClosest(e){let t=0;for(;t<96;){if(this._buffers.has(e+t))return-t;if(this._buffers.has(e-t))return t;t++}throw new Error("No available buffers for note: ".concat(e))}triggerAttack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.log("triggerAttack",e,t,n),Array.isArray(e)||(e=[e]),e.forEach((e=>{const i=Dr(new Lr(this.context,e).toFrequency()),r=Math.round(i),s=i-r,o=this._findClosest(r),a=r-o,l=this._buffers.get(a),c=Mr(o+s),u=new _s({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);u.start(t,0,l.duration/c,n),Gi(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const e=this._activeSources.get(r),t=e.indexOf(u);-1!==t&&e.splice(t,1)}}})),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach((e=>{const n=new Lr(this.context,e).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const e=this._activeSources.get(n);t=this.toSeconds(t),e.forEach((e=>{e.stop(t)})),this._activeSources.set(n,[])}})),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach((e=>{for(;e.length;){e.shift().stop(t)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=this.toSeconds(n);return this.triggerAttack(e,r,i),Gi(t)?(ji(Gi(e),"notes must be an array when duration is array"),e.forEach(((e,n)=>{const i=t[Math.min(n,t.length-1)];this.triggerRelease(e,r+this.toSeconds(i))}))):this.triggerRelease(e,r+this.toSeconds(t)),this}add(e,t,n){if(ji(Xi(e)||isFinite(e),"note must be a pitch or midi: ".concat(e)),Xi(e)){const i=new Lr(this.context,e).toMidi();this._buffers.add(i,t,n)}else this._buffers.add(e,t,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((e=>{e.forEach((e=>e.dispose()))})),this._activeSources.clear(),this}}Ji([Us(0)],so.prototype,"attack",void 0),Ji([Us(0)],so.prototype,"release",void 0);class oo extends Ur{constructor(){super(ar(oo.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Wr("stopped"),this._startOffset=0;const e=ar(oo.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Ur.getDefaults(),{callback:Cr,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._state.forEachFrom(e,(e=>{let t;if("started"===e.state){-1!==e.id&&this.context.transport.clear(e.id);const n=e.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||Ui(this._loop)&&this._loop>1){t=1/0,Ui(this._loop)&&(t=this._loop*this._getLoopDuration());const i=this._state.getAfter(n);null!==i&&(t=Math.min(t,i.time-n)),t!==1/0&&(this._state.setStateAtTime("stopped",n+t+1,{id:-1}),t=new ls(this.context,t));const r=new ls(this.context,this._getLoopDuration());e.id=this.context.transport.scheduleRepeat(this._tick.bind(this),r,new ls(this.context,n),t)}else e.id=this.context.transport.schedule(this._tick.bind(this),new ls(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const t=this.toTicks(e);return"stopped"===this._state.getValueAtTime(t)&&(this._state.add({id:-1,state:"started",time:t}),this._rescheduleEvents(t)),this}stop(e){this.cancel(e);const t=this.toTicks(e);if("started"===this._state.getValueAtTime(t)){this._state.setStateAtTime("stopped",t,{id:-1});const e=this._state.getBefore(t);let n=t;null!==e&&(n=e.time),this._rescheduleEvents(n)}return this}cancel(e){e=lr(e,-1/0);const t=this.toTicks(e);return this._state.forEachFrom(t,(e=>{this.context.transport.clear(e.id)})),this._state.cancel(t),this}_tick(e){const t=this.context.transport.getTicksAtTime(e);if(!this.mute&&"started"===this._state.getValueAtTime(t)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let t=.02;Hi(this.humanize)||(t=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*t}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new ls(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new ls(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,t=this._state.get(e);if(null!==t&&"started"===t.state){const n=this._getLoopDuration();return(e-t.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class ao extends oo{constructor(){super(ar(ao.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Wr("stopped"),this._events=new Set;const e=ar(ao.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,e.events.forEach((e=>{Gi(e)?this.add(e[0],e[1]):this.add(e)}))}static getDefaults(){return Object.assign(oo.getDefaults(),{events:[]})}start(e,t){const n=this.toTicks(e);if("started"!==this._state.getValueAtTime(n)){t=lr(t,this._loop?this._loopStart:0),t=this._loop?lr(t,this._loopStart):lr(t,0);const e=this.toTicks(t);this._state.add({id:-1,offset:e,state:"started",time:n}),this._forEach((t=>{this._startNote(t,n,e)}))}return this}_startNote(e,t,n){t-=n,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<n&&(t+=this._getLoopDuration()),e.start(new ls(this.context,t))):e.startOffset<this._loopStart&&e.startOffset>=n&&(e.loop=!1,e.start(new ls(this.context,t))):e.startOffset>=n&&e.start(new ls(this.context,t))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach((e=>{e.startOffset+=this._startOffset}))}stop(e){const t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._forEach((t=>{t.stop(e)})),this}at(e,t){const n=new zr(this.context,e).toTicks(),i=new ls(this.context,1).toSeconds(),r=this._events.values();let s=r.next();for(;!s.done;){const e=s.value;if(Math.abs(n-e.startOffset)<i)return zi(t)&&(e.value=t),e;s=r.next()}return zi(t)?(this.add(e,t),this.at(e)):null}add(e,t){e instanceof Object&&Reflect.has(e,"time")&&(e=(t=e).time);const n=this.toTicks(e);let i;return t instanceof oo?(i=t,i.callback=this._tick.bind(this)):i=new oo({callback:this._tick.bind(this),context:this.context,value:t}),i.startOffset=n,i.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(i),this._restartEvent(i),this}_restartEvent(e){this._state.forEach((t=>{"started"===t.state?this._startNote(e,t.time,t.offset):e.stop(new ls(this.context,t.time))}))}remove(e,t){return Wi(e)&&e.hasOwnProperty("time")&&(e=(t=e).time),e=this.toTicks(e),this._events.forEach((n=>{n.startOffset===e&&(Bi(t)||zi(t)&&n.value===t)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((e=>e.dispose())),this._events.clear(),this}cancel(e){return this._forEach((t=>t.cancel(e))),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach((t=>{t instanceof ao?t._forEach(e):e(t)})),this}_setAll(e,t){this._forEach((n=>{n[e]=t}))}_tick(e,t){this.mute||this.callback(e,t)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):"stopped"===e.state&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach((t=>{t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.loop=e,this._testLoopBoundries(t)}))}get loopEnd(){return new ls(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach((t=>{t.loopEnd=e,this._testLoopBoundries(t)}))}get loopStart(){return new ls(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach((e=>{e.loopStart=this.loopStart,this._testLoopBoundries(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class lo extends Gr{constructor(){super(Object.assign(ar(lo.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Hs({context:this.context}),this.a=new Yr({context:this.context,gain:0}),this.b=new Yr({context:this.context,gain:0}),this.output=new Yr({context:this.context}),this._internalChannels=[this.a,this.b];const e=ar(lo.getDefaults(),arguments,["fade"]);this.fade=new Zr({context:this.context,units:"normalRange",value:e.fade}),Tr(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Xr(this._split,this.a.gain,0),Xr(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Gr.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class co extends Gr{constructor(e){super(e),this.name="Effect",this._dryWet=new lo({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Yr({context:this.context}),this.effectReturn=new Yr({context:this.context}),this.input=new Yr({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Tr(this,"wet")}static getDefaults(){return Object.assign(Gr.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class uo extends Gr{constructor(){super(Object.assign(ar(uo.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=ar(uo.getDefaults(),arguments,["pan"]);this.pan=new Hr({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Tr(this,"pan")}static getDefaults(){return Object.assign(Gr.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}io("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class ho extends Gr{constructor(){super(ar(ho.getDefaults(),arguments,["channels"])),this.name="Merge";const e=ar(ho.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(Gr.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class po extends co{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new Yr({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Tr(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(co.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class fo extends po{constructor(){super(ar(fo.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const e=ar(fo.getDefaults(),arguments,["pitch"]);this._frequency=new Zr({context:this.context}),this._delayA=new ss({maxDelay:1,context:this.context}),this._lfoA=new Bs({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new ss({maxDelay:1,context:this.context}),this._lfoB=new Bs({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new lo({context:this.context}),this._crossFadeLFO=new Bs({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new ss({delayTime:e.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Tr(this,"delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const t=this.now();this._lfoA.start(t),this._lfoB.start(t),this._crossFadeLFO.start(t),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(po.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(e){this._pitch=e;let t=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,t=Mr(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,t=Mr(e)-1),this._frequency.value=t*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(e){this._windowSize=this.toSeconds(e),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class mo extends co{constructor(){super(ar(mo.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=ar(mo.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(co.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){Fi(e=this.toSeconds(e),.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){Fi(e=this.toSeconds(e),0),this._preDelay=e,this.generate()}generate(){return Ki(this,void 0,void 0,(function*(){const e=this.ready,t=new Ar(2,this._decay+this._preDelay,this.context.sampleRate),n=new bs({context:t}),i=new bs({context:t}),r=new ho({context:t});n.connect(r,0,0),i.connect(r,0,1);const s=new Yr({context:t}).toDestination();r.connect(s),n.start(0),i.start(0),s.gain.setValueAtTime(0,0),s.gain.setValueAtTime(1,this._preDelay),s.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=t.render();return this.ready=o.then(Cr),yield e,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class go extends Gr{constructor(){super(ar(go.getDefaults(),arguments,["solo"])),this.name="Solo";const e=ar(go.getDefaults(),arguments,["solo"]);this.input=this.output=new Yr({context:this.context}),go._allSolos.has(this.context)||go._allSolos.set(this.context,new Set),go._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Gr.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),go._allSolos.get(this.context).forEach((e=>e._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){go._soloed.has(this.context)||go._soloed.set(this.context,new Set),go._soloed.get(this.context).add(this)}_removeSolo(){go._soloed.has(this.context)&&go._soloed.get(this.context).delete(this)}_isSoloed(){return go._soloed.has(this.context)&&go._soloed.get(this.context).has(this)}_noSolos(){return!go._soloed.has(this.context)||go._soloed.has(this.context)&&0===go._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),go._allSolos.get(this.context).delete(this),this._removeSolo(),this}}go._allSolos=new Map,go._soloed=new Map;class vo extends Gr{constructor(){super(ar(vo.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=ar(vo.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new uo({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ds({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Tr(this,["pan","volume"])}static getDefaults(){return Object.assign(Gr.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class yo extends Gr{constructor(){super(ar(yo.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=ar(yo.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new go({solo:e.solo,context:this.context}),this._panVol=this.output=new vo({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Tr(this,["pan","volume"])}static getDefaults(){return Object.assign(Gr.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return yo.buses.has(e)||yo.buses.set(e,new Yr({context:this.context})),yo.buses.get(e)}send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this._getBus(e),i=new Yr({context:this.context,units:"decibels",gain:t});return this.connect(i),i.connect(n),i}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}yo.buses=new Map;class _o extends Gr{constructor(){super(...arguments),this.name="Listener",this.positionX=new Hr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Hr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Hr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Hr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Hr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Hr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Hr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Hr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Hr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Gr.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}yr((e=>{e.listener=new _o({context:e})})),br((e=>{e.listener.dispose()}));const bo=Nr().transport;Nr().destination,Nr().destination;Nr().listener;Nr().draw;Nr();var wo=n(184);var xo=n(694),ko=n.n(xo);const To=["xxl","xl","lg","md","sm","xs"],So="xs",Co=t.createContext({prefixes:{},breakpoints:To,minBreakpoint:So}),{Consumer:Eo,Provider:Ao}=Co;function Oo(e,n){const{prefixes:i}=(0,t.useContext)(Co);return e||i[n]||n}function Io(){const{breakpoints:e}=(0,t.useContext)(Co);return e}function No(){const{minBreakpoint:e}=(0,t.useContext)(Co);return e}const Mo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r="div",...s}=e;return i=Oo(i,"card-body"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));Mo.displayName="CardBody";const Po=Mo,Ro=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r="div",...s}=e;return i=Oo(i,"card-footer"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));Ro.displayName="CardFooter";const Do=Ro,jo=t.createContext(null);jo.displayName="CardHeaderContext";const Fo=jo,Vo=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,as:s="div",...o}=e;const a=Oo(i,"card-header"),l=(0,t.useMemo)((()=>({cardHeaderBsPrefix:a})),[a]);return(0,wo.jsx)(Fo.Provider,{value:l,children:(0,wo.jsx)(s,{ref:n,...o,className:ko()(r,a)})})}));Vo.displayName="CardHeader";const Lo=Vo,qo=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,variant:r,as:s="img",...o}=e;const a=Oo(n,"card-img");return(0,wo.jsx)(s,{ref:t,className:ko()(r?"".concat(a,"-").concat(r):a,i),...o})}));qo.displayName="CardImg";const Bo=qo,zo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r="div",...s}=e;return i=Oo(i,"card-img-overlay"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));zo.displayName="CardImgOverlay";const Uo=zo,Wo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r="a",...s}=e;return i=Oo(i,"card-link"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));Wo.displayName="CardLink";const Ho=Wo,Go=e=>t.forwardRef(((t,n)=>(0,wo.jsx)("div",{...t,ref:n,className:ko()(t.className,e)}))),Qo=Go("h6"),Xo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r=Qo,...s}=e;return i=Oo(i,"card-subtitle"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));Xo.displayName="CardSubtitle";const $o=Xo,Yo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r="p",...s}=e;return i=Oo(i,"card-text"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));Yo.displayName="CardText";const Jo=Yo,Ko=Go("h5"),Zo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r=Ko,...s}=e;return i=Oo(i,"card-title"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));Zo.displayName="CardTitle";const ea=Zo,ta=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,bg:r,text:s,border:o,body:a=!1,children:l,as:c="div",...u}=e;const h=Oo(n,"card");return(0,wo.jsx)(c,{ref:t,...u,className:ko()(i,h,r&&"bg-".concat(r),s&&"text-".concat(s),o&&"border-".concat(o)),children:a?(0,wo.jsx)(Po,{children:l}):l})}));ta.displayName="Card";const na=Object.assign(ta,{Img:Bo,Title:ea,Subtitle:$o,Body:Po,Link:Ho,Text:Jo,Header:Lo,Footer:Do,ImgOverlay:Uo});var ia=n(7),ra=n.n(ia);const sa={type:ra().string,tooltip:ra().bool,as:ra().elementType},oa=t.forwardRef(((e,t)=>{let{as:n="div",className:i,type:r="valid",tooltip:s=!1,...o}=e;return(0,wo.jsx)(n,{...o,ref:t,className:ko()(i,"".concat(r,"-").concat(s?"tooltip":"feedback"))})}));oa.displayName="Feedback",oa.propTypes=sa;const aa=oa,la=t.createContext({}),ca=t.forwardRef(((e,n)=>{let{id:i,bsPrefix:r,className:s,type:o="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:h}=(0,t.useContext)(la);return r=Oo(r,"form-check-input"),(0,wo.jsx)(c,{...u,ref:n,type:o,id:i||h,className:ko()(s,r,a&&"is-valid",l&&"is-invalid")})}));ca.displayName="FormCheckInput";const ua=ca,ha=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,htmlFor:s,...o}=e;const{controlId:a}=(0,t.useContext)(la);return i=Oo(i,"form-check-label"),(0,wo.jsx)("label",{...o,ref:n,htmlFor:s||a,className:ko()(r,i)})}));ha.displayName="FormCheckLabel";const da=ha;const pa=t.forwardRef(((e,n)=>{let{id:i,bsPrefix:r,bsSwitchPrefix:s,inline:o=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:h=!1,feedback:d,feedbackType:p,className:f,style:m,title:g="",type:v="checkbox",label:y,children:_,as:b="input",...w}=e;r=Oo(r,"form-check"),s=Oo(s,"form-switch");const{controlId:x}=(0,t.useContext)(la),k=(0,t.useMemo)((()=>({controlId:i||x})),[x,i]),T=!_&&null!=y&&!1!==y||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(_,da),S=(0,wo.jsx)(ua,{...w,type:"switch"===v?"checkbox":v,ref:n,isValid:c,isInvalid:u,disabled:l,as:b});return(0,wo.jsx)(la.Provider,{value:k,children:(0,wo.jsx)("div",{style:m,className:ko()(f,T&&r,o&&"".concat(r,"-inline"),a&&"".concat(r,"-reverse"),"switch"===v&&s),children:_||(0,wo.jsxs)(wo.Fragment,{children:[S,T&&(0,wo.jsx)(da,{title:g,children:y}),d&&(0,wo.jsx)(aa,{type:p,tooltip:h,children:d})]})})})}));pa.displayName="FormCheck";const fa=Object.assign(pa,{Input:ua,Label:da});n(391);const ma=t.forwardRef(((e,n)=>{let{bsPrefix:i,type:r,size:s,htmlSize:o,id:a,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:h,readOnly:d,as:p="input",...f}=e;const{controlId:m}=(0,t.useContext)(la);return i=Oo(i,"form-control"),(0,wo.jsx)(p,{...f,type:r,size:o,ref:n,readOnly:d,id:a||m,className:ko()(l,h?"".concat(i,"-plaintext"):i,s&&"".concat(i,"-").concat(s),"color"===r&&"".concat(i,"-color"),c&&"is-valid",u&&"is-invalid")})}));ma.displayName="FormControl";const ga=Object.assign(ma,{Feedback:aa}),va=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r="div",...s}=e;return i=Oo(i,"form-floating"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));va.displayName="FormFloating";const ya=va,_a=t.forwardRef(((e,n)=>{let{controlId:i,as:r="div",...s}=e;const o=(0,t.useMemo)((()=>({controlId:i})),[i]);return(0,wo.jsx)(la.Provider,{value:o,children:(0,wo.jsx)(r,{...s,ref:n})})}));_a.displayName="FormGroup";const ba=_a;const wa=t.forwardRef(((e,t)=>{const[{className:n,...i},{as:r="div",bsPrefix:s,spans:o}]=function(e){let{as:t,bsPrefix:n,className:i,...r}=e;n=Oo(n,"col");const s=Io(),o=No(),a=[],l=[];return s.forEach((e=>{const t=r[e];let i,s,c;delete r[e],"object"===typeof t&&null!=t?({span:i,offset:s,order:c}=t):i=t;const u=e!==o?"-".concat(e):"";i&&a.push(!0===i?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(i)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=s&&l.push("offset".concat(u,"-").concat(s))})),[{...r,className:ko()(i,...a,...l)},{as:t,bsPrefix:n,spans:a}]}(e);return(0,wo.jsx)(r,{...i,ref:t,className:ko()(n,!o.length&&s)})}));wa.displayName="Col";const xa=wa,ka=t.forwardRef(((e,n)=>{let{as:i="label",bsPrefix:r,column:s=!1,visuallyHidden:o=!1,className:a,htmlFor:l,...c}=e;const{controlId:u}=(0,t.useContext)(la);r=Oo(r,"form-label");let h="col-form-label";"string"===typeof s&&(h="".concat(h," ").concat(h,"-").concat(s));const d=ko()(a,r,o&&"visually-hidden",s&&h);return l=l||u,s?(0,wo.jsx)(xa,{ref:n,as:"label",className:d,htmlFor:l,...c}):(0,wo.jsx)(i,{ref:n,className:d,htmlFor:l,...c})}));ka.displayName="FormLabel";const Ta=ka,Sa=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,id:s,...o}=e;const{controlId:a}=(0,t.useContext)(la);return i=Oo(i,"form-range"),(0,wo.jsx)("input",{...o,type:"range",ref:n,className:ko()(r,i),id:s||a})}));Sa.displayName="FormRange";const Ca=Sa,Ea=t.forwardRef(((e,n)=>{let{bsPrefix:i,size:r,htmlSize:s,className:o,isValid:a=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:h}=(0,t.useContext)(la);return i=Oo(i,"form-select"),(0,wo.jsx)("select",{...u,size:s,ref:n,className:ko()(o,i,r&&"".concat(i,"-").concat(r),a&&"is-valid",l&&"is-invalid"),id:c||h})}));Ea.displayName="FormSelect";const Aa=Ea,Oa=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,as:r="small",muted:s,...o}=e;return n=Oo(n,"form-text"),(0,wo.jsx)(r,{...o,ref:t,className:ko()(i,n,s&&"text-muted")})}));Oa.displayName="FormText";const Ia=Oa,Na=t.forwardRef(((e,t)=>(0,wo.jsx)(fa,{...e,ref:t,type:"switch"})));Na.displayName="Switch";const Ma=Object.assign(Na,{Input:fa.Input,Label:fa.Label}),Pa=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,children:r,controlId:s,label:o,...a}=e;return n=Oo(n,"form-floating"),(0,wo.jsxs)(ba,{ref:t,className:ko()(i,n),controlId:s,...a,children:[r,(0,wo.jsx)("label",{htmlFor:s,children:o})]})}));Pa.displayName="FloatingLabel";const Ra=Pa,Da={_ref:ra().any,validated:ra().bool,as:ra().elementType},ja=t.forwardRef(((e,t)=>{let{className:n,validated:i,as:r="form",...s}=e;return(0,wo.jsx)(r,{...s,ref:t,className:ko()(n,i&&"was-validated")})}));ja.displayName="Form",ja.propTypes=Da;const Fa=Object.assign(ja,{Group:ba,Control:ga,Floating:ya,Check:fa,Switch:Ma,Label:Ta,Text:Ia,Range:Ca,Select:Aa,FloatingLabel:Ra}),Va=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,as:r="div",...s}=e;const o=Oo(n,"row"),a=Io(),l=No(),c="".concat(o,"-cols"),u=[];return a.forEach((e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const i=e!==l?"-".concat(e):"";null!=n&&u.push("".concat(c).concat(i,"-").concat(n))})),(0,wo.jsx)(r,{ref:t,...s,className:ko()(i,o,...u)})}));Va.displayName="Row";const La=Va,qa=["as","disabled"];function Ba(e){let{tagName:t,disabled:n,href:i,target:r,rel:s,role:o,onClick:a,tabIndex:l=0,type:c}=e;t||(t=null!=i||null!=r||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const h=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(i))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(i||(i="#"),n&&(i=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:i,target:"a"===t?r:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},u]}const za=t.forwardRef(((e,t)=>{let{as:n,disabled:i}=e,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,qa);const[s,{tagName:o}]=Ba(Object.assign({tagName:n,disabled:i},r));return(0,wo.jsx)(o,Object.assign({},r,s,{ref:t}))}));za.displayName="Button";const Ua=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:i,variant:r="primary",size:s,active:o=!1,disabled:a=!1,className:l,...c}=e;const u=Oo(i,"btn"),[h,{tagName:d}]=Ba({tagName:n,disabled:a,...c}),p=d;return(0,wo.jsx)(p,{...h,...c,ref:t,disabled:a,className:ko()(l,u,o&&"active",r&&"".concat(u,"-").concat(r),s&&"".concat(u,"-").concat(s),c.href&&a&&"disabled")})}));Ua.displayName="Button";const Wa=Ua,Ha=e=>{let{baselineJsonData:n,sparklesJsonData:i,durationInSeconds:r}=e;const[s,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(500),[h,d]=(0,t.useState)(1500),[p,f]=(0,t.useState)(1.5),[m,g]=(0,t.useState)(.5),v=(0,t.useRef)(null),y=(0,t.useRef)(null),[_,b]=(0,t.useState)(0);(0,t.useEffect)((()=>{const e=new Zs(c,"highpass").toDestination(),t=new Zs(h,"lowpass").connect(e),r=new mo({decay:p,wet:m}).connect(t);e.frequency.value=c,t.frequency.value=h,r.decay=p,r.wet.value=m;const s=new fo(_).connect(r);s.pitch=_;const o=new ro(Js,{voiceCount:1,envelope:{attack:.5,decay:.1,sustain:.3,release:.5,releaseCurve:"linear"}}).connect(s),a=(new ro).connect(s),l=(e,t,n)=>{const i=e.tracks.flatMap((e=>e.notes.map(((e,t,n)=>{let i=.5;if(t<n.length-1){const r=n[t+1].time;i=Math.max(r-e.time-e.duration,.1)}return{note:(r=e.midi,s="midi",new Lr(Nr(),r,s)).toNote(),time:e.time,duration:e.duration,attackTime:e.duration,releaseTime:i};var r,s}))));n.current=new ao(((e,n)=>{t.set({envelope:{attack:n.attackTime,release:n.releaseTime}}),t.triggerAttackRelease(n.note,n.duration,e)}),i)};return n&&l(n,o,v),i&&l(i,a,y),()=>{v.current&&v.current.dispose(),o.dispose(),y.current&&y.current.dispose(),a.dispose()}}),[_,n,i,c,h,p,m]);return(0,wo.jsx)(na,{bg:"dark",text:"white",className:"mb-3",children:(0,wo.jsx)(na.Body,{children:(0,wo.jsxs)(Fa,{children:[(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["Highpass Frequency: ",c]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"100",max:"2000",value:c,onChange:e=>u(e.target.value)})})]}),(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["Lowpass Frequency: ",h]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"100",max:"2000",value:h,onChange:e=>d(e.target.value)})})]}),(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["Reverb Decay: ",p]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"0.1",max:"10",step:"0.1",value:p,onChange:e=>f(parseFloat(e.target.value))})})]}),(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["Reverb Wet: ",m]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"0",max:"1",step:"0.01",value:m,onChange:e=>g(parseFloat(e.target.value))})})]}),(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["Pitch Shift: ",_]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"-24",max:"24",value:_,onChange:e=>b(parseInt(e.target.value))})})]}),(0,wo.jsxs)(La,{className:"mt-3",children:[(0,wo.jsx)(xa,{children:(0,wo.jsx)(Wa,{onClick:async()=>{var e,t;s?bo.pause():(await Ir.resume(),"started"!==bo.state&&(bo.start(),null===(e=v.current)||void 0===e||e.start(0),null===(t=y.current)||void 0===t||t.start(0)));o(!s)},variant:"outline-light",disabled:!n&&!i,children:s?"Pause":"Play"})}),(0,wo.jsx)(xa,{children:(0,wo.jsx)(Wa,{onClick:()=>{bo.stop(),bo.seconds=0,o(!1)},variant:"outline-danger",disabled:!n&&!i,children:"Stop"})}),(0,wo.jsx)(xa,{children:(0,wo.jsx)(Wa,{onClick:()=>{l(!a),bo.loop=!bo.loop,r&&(bo.loopEnd=r,console.log(a),console.log(r))},variant:a?"outline-success":"outline-light",children:"Loop"})})]})]})})})};var Ga=n(493);const Qa='{\n"header": {\n  "keySignatures": [],\n  "meta": [],\n  "name": "",\n  "ppq": 240,\n  "tempos": [\n    {\n      "bpm": 120,\n      "ticks": 0\n    }\n  ],\n  "timeSignatures": [\n    {\n      "ticks": 0,\n      "timeSignature": [\n        4,\n        4\n      ],\n      "measures": 0\n    }\n  ]\n},\n"tracks": [\n  {\n    "channel": 0,\n    "controlChanges": {\n      "7": [\n        {\n          "number": 7,\n          "ticks": 0,\n          "time": 0,\n          "value": 1\n        }\n      ]\n    },\n    "pitchBends": [],\n    "instrument": {\n      "family": "bass",\n      "number": 33,\n      "name": "electric bass (finger)"\n    },\n    "name": "",\n    "notes": [\n      {\n        "duration": 0.26875,\n        "durationTicks": 129,\n        "midi": 45,\n        "name": "A2",\n        "ticks": 0,\n        "time": 0,\n        "velocity": 0.6141732283464567\n      },\n      {\n        "duration": 0.2562500000000001,\n        "durationTicks": 123,\n        "midi": 48,\n        "name": "C3",\n        "ticks": 360,\n        "time": 0.75,\n        "velocity": 0.6377952755905512\n      },\n      {\n        "duration": 0.26875000000000004,\n        "durationTicks": 129,\n        "midi": 50,\n        "name": "D3",\n        "ticks": 480,\n        "time": 1,\n        "velocity": 0.6220472440944882\n      },\n      {\n        "duration": 0.1333333333333333,\n        "durationTicks": 64,\n        "midi": 52,\n        "name": "E3",\n        "ticks": 600,\n        "time": 1.25,\n        "velocity": 0.5354330708661418\n      },\n      {\n        "duration": 0.7333333333333334,\n        "durationTicks": 352,\n        "midi": 45,\n        "name": "A2",\n        "ticks": 840,\n        "time": 1.75,\n        "velocity": 0.6456692913385826\n      },\n      {\n        "duration": 0.4791666666666665,\n        "durationTicks": 230,\n        "midi": 43,\n        "name": "G2",\n        "ticks": 1200,\n        "time": 2.5,\n        "velocity": 0.4881889763779528\n      },\n      {\n        "duration": 0.28125,\n        "durationTicks": 135,\n        "midi": 45,\n        "name": "A2",\n        "ticks": 1440,\n        "time": 3,\n        "velocity": 0.6299212598425197\n      },\n      {\n        "duration": 0.16041666666666643,\n        "durationTicks": 77,\n        "midi": 45,\n        "name": "A2",\n        "ticks": 1920,\n        "time": 4,\n        "velocity": 0.6929133858267716\n      },\n      {\n        "duration": 0.16041666666666643,\n        "durationTicks": 77,\n        "midi": 48,\n        "name": "C3",\n        "ticks": 2280,\n        "time": 4.75,\n        "velocity": 0.6062992125984252\n      },\n      {\n        "duration": 0.25416666666666643,\n        "durationTicks": 122,\n        "midi": 50,\n        "name": "D3",\n        "ticks": 2400,\n        "time": 5,\n        "velocity": 0.7086614173228346\n      },\n      {\n        "duration": 0.2020833333333334,\n        "durationTicks": 97,\n        "midi": 52,\n        "name": "E3",\n        "ticks": 2520,\n        "time": 5.25,\n        "velocity": 0.5905511811023622\n      },\n      {\n        "duration": 0.760416666666667,\n        "durationTicks": 365,\n        "midi": 45,\n        "name": "A2",\n        "ticks": 2760,\n        "time": 5.75,\n        "velocity": 0.5905511811023622\n      },\n      {\n        "duration": 0.47916666666666696,\n        "durationTicks": 230,\n        "midi": 48,\n        "name": "C3",\n        "ticks": 3120,\n        "time": 6.5,\n        "velocity": 0.6062992125984252\n      },\n      {\n        "duration": 0.1875,\n        "durationTicks": 90,\n        "midi": 45,\n        "name": "A2",\n        "ticks": 3360,\n        "time": 7,\n        "velocity": 0.6141732283464567\n      }\n    ],\n    "endOfTrackTicks": 3839\n  }\n]\n}',Xa=e=>{let{onBaselineCompositionComplete:n,onSparklesCompositionComplete:i,setBaselineData:r,setSparklesData:s}=e;const[o,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,h]=(0,t.useState)("baseline");return(0,wo.jsx)(na,{bg:"dark",text:"white",className:"mb-3",children:(0,wo.jsxs)(na.Body,{children:[(0,wo.jsx)(na.Title,{style:{textAlign:"left",fontWeight:"bold"},children:"Upload Midi"}),(0,wo.jsxs)(Fa,{children:[(0,wo.jsxs)(La,{className:"align-items-center",children:[(0,wo.jsx)(xa,{children:(0,wo.jsx)(Fa.Control,{type:"file",onChange:e=>{a(e.target.files[0])},accept:".mid,.midi"})}),(0,wo.jsx)(xa,{children:(0,wo.jsxs)(Fa.Select,{value:u,onChange:e=>{h(e.target.value)},children:[(0,wo.jsx)("option",{value:"baseline",children:"Baseline"}),(0,wo.jsx)("option",{value:"sparkles",children:"Sparkles"})]})})]}),(0,wo.jsxs)(La,{className:"align-items-center",children:[(0,wo.jsx)(xa,{children:(0,wo.jsx)(Wa,{variant:"outline-light",onClick:async()=>{if(o){const e=new FileReader;e.onload=e=>{try{const t=new Uint8Array(e.target.result),r=new Ga.Midi(t).toJSON();"baseline"===u?n(r):i(r)}catch(l){console.error("Error processing MIDI file:",l)}},e.onerror=e=>{console.error("Error reading file:",e)},e.readAsArrayBuffer(o)}},disabled:!o,children:"Upload Midi"})}),(0,wo.jsx)(xa,{children:(0,wo.jsx)(Wa,{variant:"outline-light",onClick:()=>{try{const e=JSON.parse(Qa),t=JSON.parse('{\n  "header": {\n    "keySignatures": [],\n    "meta": [],\n    "name": "",\n    "ppq": 240,\n    "tempos": [\n      {\n        "bpm": 120,\n        "ticks": 0\n      }\n    ],\n    "timeSignatures": [\n      {\n        "ticks": 0,\n        "timeSignature": [\n          4,\n          4\n        ],\n        "measures": 0\n      }\n    ]\n  },\n  "tracks": [\n    {\n      "channel": 0,\n      "controlChanges": {\n        "7": [\n          {\n            "number": 7,\n            "ticks": 0,\n            "time": 0,\n            "value": 1\n          }\n        ]\n      },\n      "pitchBends": [],\n      "instrument": {\n        "family": "bass",\n        "number": 33,\n        "name": "electric bass (finger)"\n      },\n      "name": "",\n      "notes": [\n        {\n          "duration": 0.26875,\n          "durationTicks": 129,\n          "midi": 45,\n          "name": "A2",\n          "ticks": 0,\n          "time": 0,\n          "velocity": 0.6141732283464567\n        },\n        {\n          "duration": 0.2562500000000001,\n          "durationTicks": 123,\n          "midi": 48,\n          "name": "C3",\n          "ticks": 360,\n          "time": 0.75,\n          "velocity": 0.6377952755905512\n        },\n        {\n          "duration": 0.26875000000000004,\n          "durationTicks": 129,\n          "midi": 50,\n          "name": "D3",\n          "ticks": 480,\n          "time": 1,\n          "velocity": 0.6220472440944882\n        },\n        {\n          "duration": 0.1333333333333333,\n          "durationTicks": 64,\n          "midi": 52,\n          "name": "E3",\n          "ticks": 600,\n          "time": 1.25,\n          "velocity": 0.5354330708661418\n        },\n        {\n          "duration": 0.7333333333333334,\n          "durationTicks": 352,\n          "midi": 45,\n          "name": "A2",\n          "ticks": 840,\n          "time": 1.75,\n          "velocity": 0.6456692913385826\n        },\n        {\n          "duration": 0.4791666666666665,\n          "durationTicks": 230,\n          "midi": 43,\n          "name": "G2",\n          "ticks": 1200,\n          "time": 2.5,\n          "velocity": 0.4881889763779528\n        },\n        {\n          "duration": 0.28125,\n          "durationTicks": 135,\n          "midi": 45,\n          "name": "A2",\n          "ticks": 1440,\n          "time": 3,\n          "velocity": 0.6299212598425197\n        },\n        {\n          "duration": 0.16041666666666643,\n          "durationTicks": 77,\n          "midi": 45,\n          "name": "A2",\n          "ticks": 1920,\n          "time": 4,\n          "velocity": 0.6929133858267716\n        },\n        {\n          "duration": 0.16041666666666643,\n          "durationTicks": 77,\n          "midi": 48,\n          "name": "C3",\n          "ticks": 2280,\n          "time": 4.75,\n          "velocity": 0.6062992125984252\n        },\n        {\n          "duration": 0.25416666666666643,\n          "durationTicks": 122,\n          "midi": 50,\n          "name": "D3",\n          "ticks": 2400,\n          "time": 5,\n          "velocity": 0.7086614173228346\n        },\n        {\n          "duration": 0.2020833333333334,\n          "durationTicks": 97,\n          "midi": 52,\n          "name": "E3",\n          "ticks": 2520,\n          "time": 5.25,\n          "velocity": 0.5905511811023622\n        },\n        {\n          "duration": 0.760416666666667,\n          "durationTicks": 365,\n          "midi": 45,\n          "name": "A2",\n          "ticks": 2760,\n          "time": 5.75,\n          "velocity": 0.5905511811023622\n        },\n        {\n          "duration": 0.47916666666666696,\n          "durationTicks": 230,\n          "midi": 48,\n          "name": "C3",\n          "ticks": 3120,\n          "time": 6.5,\n          "velocity": 0.6062992125984252\n        },\n        {\n          "duration": 0.1875,\n          "durationTicks": 90,\n          "midi": 45,\n          "name": "A2",\n          "ticks": 3360,\n          "time": 7,\n          "velocity": 0.6141732283464567\n        }\n      ],\n      "endOfTrackTicks": 3839\n    }\n  ]\n}');r(e),s(t),console.log("Examples loaded...")}catch(e){c("Error loading example data: "+e.message),console.error("Error loading example data:",e)}},children:"Sample"})}),(0,wo.jsx)(xa,{children:(0,wo.jsx)(Wa,{variant:"outline-danger",onClick:()=>{r(null),s(null),c(null),console.log("Midi's deleted.")},children:"Clear"})})]})]}),(()=>{if(o)return(0,wo.jsx)(na,{bg:"dark",text:"white",className:"mt-3",children:(0,wo.jsxs)(na.Body,{children:[(0,wo.jsx)(na.Title,{children:"File Details:"}),(0,wo.jsxs)(na.Text,{children:["File Name: ",o.name]}),(0,wo.jsxs)(na.Text,{children:["File Type: ",o.type]}),(0,wo.jsxs)(na.Text,{children:["Last Modified: ",o.lastModifiedDate.toDateString()]})]})})})()]})})},$a=e=>{const t=new Ga.Midi;t.header.setTempo(e.header.tempos[0].bpm),t.header.timeSignatures.push({measures:4,timeSignature:e.header.timeSignatures[0],ticks:e.header.timeSignatures[0].ticks}),t.header.PPQ=e.header.PPQ,e.tracks.forEach((e=>{const n=t.addTrack();n.name=e.name,n.channel=e.channel,e.instrument&&(n.instrument.number=e.instrument.number),e.notes.forEach((e=>{n.addNote({midi:e.midi,time:e.time,duration:e.duration,velocity:e.velocity})})),e.controlChanges&&Object.entries(e.controlChanges).forEach((e=>{let[t,i]=e;i.forEach((e=>{n.addCC({number:parseInt(t),ticks:e.ticks,time:e.time,value:e.value})}))}))}));const n=t.toArray(),i=new Blob([n],{type:"audio/midi"}),r=URL.createObjectURL(i);console.log("Download MIDI file: ",r);const s=document.createElement("a");s.href=r,s.download="composition.mid",s.innerText="Download MIDI",document.body.appendChild(s),console.log("Click the link to download MIDI file: ",s)},Ya=e=>{let{onBaselineGenerated:n,onStartFrequencyChange:i,onEndFrequencyChange:r,onStartBPMChange:s,onEndBPMChange:o,onDurationInSecondsChange:a}=e;const[l,c]=(0,t.useState)(180),[u,h]=(0,t.useState)(100),[d,p]=(0,t.useState)(11),[f,m]=(0,t.useState)(6),[g,v]=(0,t.useState)(300);function y(e){let t=69+12*Math.log2(e/440);t=Math.round(t);const n=Math.floor(t/12)-1;return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t%12]+n}return(0,wo.jsx)(na,{bg:"dark",text:"white",className:"mb-3",children:(0,wo.jsxs)(na.Body,{children:[(0,wo.jsx)(na.Title,{style:{textAlign:"left",fontWeight:"bold"},children:"Baseline Composer"}),(0,wo.jsxs)(Fa,{children:[(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["Start Frequency : ",l," Hz,"," ",y(l)]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"20",max:"600",value:l,onChange:e=>c(+e.target.value)})})]}),(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["End Frequency : ",u,"Hz, ",y(u)]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"20",max:"600",value:u,onChange:e=>h(+e.target.value)})})]}),(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["Start BrPM: ",d," Seconds"]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"1",max:"20",step:"0.1",value:d,onChange:e=>p(parseFloat(e.target.value))})})]}),(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["End BrPM: ",f," Seconds"]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"1",max:"20",step:"0.1",value:f,onChange:e=>m(parseFloat(e.target.value))})})]}),(0,wo.jsxs)(Fa.Group,{as:La,className:"mb-3",children:[(0,wo.jsxs)(Fa.Label,{column:!0,sm:"6",className:"text-white",children:["Duration: ",g," Seconds"]}),(0,wo.jsx)(xa,{sm:"6",children:(0,wo.jsx)(Fa.Range,{min:"1",max:"600",value:g,onChange:e=>v(+e.target.value)})})]}),(0,wo.jsx)(Wa,{variant:"outline-light",onClick:()=>{console.log("Starting MIDI generation...");var e=new Ga.Midi;e.header.setTempo(120),e.header.timeSignatures.push({measures:4,timeSignature:[4,4],ticks:0});const t=e.addTrack();let c=0;const h=g/1.5,p=g,m=(e,t,n)=>e+(t-e)*n;for(;c<h;){let e=l,n=60/(2*m(d,f,c/h));t.addNote({midi:Rr(e),time:c,duration:n,velocity:.8}),c+=2*n,console.log(c)}let v=60/(2*f);for(;c<p;)t.addNote({midi:Rr(l),time:c,duration:v,velocity:.8}),c+=2*v,console.log(c);console.log("MIDI generation completed."),n(e),console.log(e),i(l),r(u),s(d),o(f),a(g),$a(e)},children:"Generate Baseline"})]})]})})},Ja="4.20.1";let Ka,Za,el,tl,nl,il,rl,sl,ol,al=!1,ll=null,cl=null,ul=null,hl=null;class dl{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}Ka||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(al)throw new Error("you must `import 'openai/shims/".concat(e.kind,"'` before importing anything else from openai"));if(Ka)throw new Error("can't `import 'openai/shims/".concat(e.kind,"'` after `import 'openai/shims/").concat(Ka,"'`"));al=t.auto,Ka=e.kind,Za=e.fetch,ll=e.Request,cl=e.Response,ul=e.Headers,el=e.FormData,hl=e.Blob,tl=e.File,nl=e.ReadableStream,il=e.getMultipartRequestOptions,rl=e.getDefaultAgent,sl=e.fileFromPath,ol=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,i,r,s;try{n=fetch,i=Request,r=Response,s=Headers}catch(o){throw new Error("this environment is missing the following Web Fetch API type: ".concat(o.message,". ").concat(t))}return{kind:"web",fetch:n,Request:i,Response:r,Headers:s,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'FormData' is undefined. ".concat(t))}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'Blob' is undefined. ".concat(t))}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is undefined. ".concat(t))}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error("streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ".concat(t))}},getMultipartRequestOptions:async(e,t)=>({...t,body:new dl(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class pl extends Error{}class fl extends pl{constructor(e,t,n,i){super("".concat(fl.makeMessage(e,t,n))),this.status=e,this.headers=i;const r=t;this.error=r,this.code=null===r||void 0===r?void 0:r.code,this.param=null===r||void 0===r?void 0:r.param,this.type=null===r||void 0===r?void 0:r.type}static makeMessage(e,t,n){const i=null!==t&&void 0!==t&&t.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&i?"".concat(e," ").concat(i):e?"".concat(e," status code (no body)"):i||"(no status code or body)"}static generate(e,t,n,i){if(!e)return new gl({cause:ac(t)});const r=null===t||void 0===t?void 0:t.error;return 400===e?new yl(e,r,n,i):401===e?new _l(e,r,n,i):403===e?new bl(e,r,n,i):404===e?new wl(e,r,n,i):409===e?new xl(e,r,n,i):422===e?new kl(e,r,n,i):429===e?new Tl(e,r,n,i):e>=500?new Sl(e,r,n,i):new fl(e,r,n,i)}}class ml extends fl{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class gl extends fl{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class vl extends gl{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:null!==e&&void 0!==e?e:"Request timed out."})}}class yl extends fl{constructor(){super(...arguments),this.status=400}}class _l extends fl{constructor(){super(...arguments),this.status=401}}class bl extends fl{constructor(){super(...arguments),this.status=403}}class wl extends fl{constructor(){super(...arguments),this.status=404}}class xl extends fl{constructor(){super(...arguments),this.status=409}}class kl extends fl{constructor(){super(...arguments),this.status=422}}class Tl extends fl{constructor(){super(...arguments),this.status=429}}class Sl extends fl{}class Cl{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;const i=new El;return new Cl((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(){if(!e.body)throw t.abort(),new pl("Attempted to iterate over a response with no body");const n=new Al,r=Ol(e.body);for await(const e of r)for(const t of n.decode(e)){const e=i.decode(t);e&&(yield e)}for(const e of n.flush()){const t=i.decode(e);t&&(yield t)}}())if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(s){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),s}if(e&&e.error)throw new fl(void 0,e.error,void 0,void 0);yield e}r=!0}catch(s){if(s instanceof Error&&"AbortError"===s.name)return;throw s}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new Cl((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(const t of async function*(){const t=new Al,n=Ol(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())i||t&&(yield JSON.parse(t));i=!0}catch(r){if(r instanceof Error&&"AbortError"===r.name)return;throw r}finally{i||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),i=i=>({next:()=>{if(0===i.length){const i=n.next();e.push(i),t.push(i)}return i.shift()}});return[new Cl((()=>i(e)),this.controller),new Cl((()=>i(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new nl({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:i,done:r}=await t.next();if(r)return e.close();const s=n.encode(JSON.stringify(i)+"\n");e.enqueue(s)}catch(i){e.error(i)}},async cancel(){var e,n;await(null===(e=(n=t).return)||void 0===e?void 0:e.call(n))}})}}class El{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,i]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return i.startsWith(" ")&&(i=i.substring(1)),"event"===t?this.event=i:"data"===t&&this.data.push(i),null}}class Al{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=Al.NEWLINE_CHARS.has(t[t.length-1]||"");let i=t.split(Al.NEWLINE_REGEXP);return 1!==i.length||n?(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),n||(this.buffer=[i.pop()||""]),i):(this.buffer.push(i[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new pl("Unexpected: received non-Uint8Array (".concat(e.constructor.name,') stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.'))}if("undefined"!==typeof TextDecoder){var t;if(e instanceof Uint8Array||e instanceof ArrayBuffer)return null!==(t=this.textDecoder)&&void 0!==t||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new pl("Unexpected: received non-Uint8Array/ArrayBuffer (".concat(e.constructor.name,") in a web platform. Please report this error."))}throw new pl("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function Ol(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return null!==e&&void 0!==e&&e.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}Al.NEWLINE_CHARS=new Set(["\n","\r","\v","\f","\x1c","\x1d","\x1e","\x85","\u2028","\u2029"]),Al.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;const Il=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,Nl=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,Ml=e=>(e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&Nl(e))(e)||Il(e)||ol(e);async function Pl(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=await e,Il(e)){var r;const n=await e.blob();return t||(t=null!==(r=new URL(e.url).pathname.split(/[\\/]/).pop())&&void 0!==r?r:"unknown_file"),new tl([n],t,i)}const s=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Nl(e))t.push(await e.arrayBuffer());else{var n;if(!Dl(e))throw new Error("Unexpected data type: ".concat(typeof e,"; constructor: ").concat(null===e||void 0===e||null===(n=e.constructor)||void 0===n?void 0:n.name,"; props: ").concat(function(e){const t=Object.getOwnPropertyNames(e);return"[".concat(t.map((e=>'"'.concat(e,'"'))).join(", "),"]")}(e)));for await(const n of e)t.push(n)}return t}(e);if(t||(t=null!==(n=function(e){var t;return Rl(e.name)||Rl(e.filename)||(null===(t=Rl(e.path))||void 0===t?void 0:t.split(/[\\/]/).pop())}(e))&&void 0!==n?n:"unknown_file"),!i.type){var o;const e=null===(o=s[0])||void 0===o?void 0:o.type;"string"===typeof e&&(i={...i,type:e})}return new tl(s,t,i)}const Rl=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,Dl=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],jl=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],Fl=async e=>{const t=await Vl(e.body);return il(t,e)},Vl=async e=>{const t=new el;return await Promise.all(Object.entries(e||{}).map((e=>{let[n,i]=e;return Ll(t,n,i)}))),t},Ll=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError('Received null for "'.concat(t,"\"; to pass null in FormData, you must use the string 'null'"));if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(Ml(n)){const i=await Pl(n);e.append(t,i)}else if(Array.isArray(n))await Promise.all(n.map((n=>Ll(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(n," instead"));await Promise.all(Object.entries(n).map((n=>{let[i,r]=n;return Ll(e,"".concat(t,"[").concat(i,"]"),r)})))}}};var ql,Bl=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},zl=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};async function Ul(e){const{response:t}=e;if(e.options.stream)return uc("response",t.status,t.url,t.headers,t.body),Cl.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(null!==n&&void 0!==n&&n.includes("application/json")){const e=await t.json();return uc("response",t.status,t.url,t.headers,e),e}const i=await t.text();return uc("response",t.status,t.url,t.headers,i),i}class Wl extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ul;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Wl(this.responsePromise,(async t=>e(await this.parseResponse(t))))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Hl{constructor(e){let{baseURL:t,maxRetries:n=2,timeout:i=6e5,httpAgent:r,fetch:s}=e;this.baseURL=t,this.maxRetries=oc("maxRetries",n),this.timeout=oc("timeout",i),this.httpAgent=r,this.fetch=null!==s&&void 0!==s?s:Za}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...tc(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return"stainless-node-retry-".concat(hc())}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((n=>({method:e,path:t,...n}))))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}return null}buildRequest(e){var t,n,i,r,s,o;const{method:a,path:l,query:c,headers:u={}}=e,h=jl(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,d=this.calculateContentLength(h),p=this.buildURL(l,c);"timeout"in e&&oc("timeout",e.timeout);const f=null!==(t=e.timeout)&&void 0!==t?t:this.timeout,m=null!==(n=null!==(i=e.httpAgent)&&void 0!==i?i:this.httpAgent)&&void 0!==n?n:rl(p),g=f+1e3;"number"===typeof(null===m||void 0===m||null===(r=m.options)||void 0===r?void 0:r.timeout)&&g>(null!==(s=m.options.timeout)&&void 0!==s?s:0)&&(m.options.timeout=g),this.idempotencyHeader&&"get"!==a&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const v={...d&&{"Content-Length":d},...this.defaultHeaders(e),...u};jl(e.body)&&"node"!==Ka&&delete v["Content-Type"],Object.keys(v).forEach((e=>null===v[e]&&delete v[e]));const y={method:a,...h&&{body:h},headers:v,...m&&{agent:m},signal:null!==(o=e.signal)&&void 0!==o?o:null};return this.validateHeaders(v,u),{req:y,url:p,timeout:f}}async prepareRequest(e,t){let{url:n,options:i}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,i){return fl.generate(e,t,n,i)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Wl(this.makeRequest(e,t))}async makeRequest(e,t){var n;const i=await e;var r;null==t&&(t=null!==(r=i.maxRetries)&&void 0!==r?r:this.maxRetries);const{req:s,url:o,timeout:a}=this.buildRequest(i);if(await this.prepareRequest(s,{url:o,options:i}),uc("request",o,i,s.headers),null!==(n=i.signal)&&void 0!==n&&n.aborted)throw new ml;const l=new AbortController,c=await this.fetchWithTimeout(o,s,a,l).catch(ac);if(c instanceof Error){var u;if(null!==(u=i.signal)&&void 0!==u&&u.aborted)throw new ml;if(t)return this.retryRequest(i,t);if("AbortError"===c.name)throw new vl;throw new gl({cause:c})}const h=Xl(c.headers);if(!c.ok){if(t&&this.shouldRetry(c))return this.retryRequest(i,t,h);const e=await c.text().catch((e=>ac(e).message)),n=nc(e),r=n?void 0:e;uc("response",c.status,o,h,r);throw this.makeStatusError(c.status,n,r,h)}return{response:c,options:i,controller:l}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Ql(this,n,e)}buildURL(e,t){const n=rc(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return cc(i)||(t={...i,...t}),t&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n));if(null===n)return"".concat(encodeURIComponent(t),"=");throw new pl("Cannot stringify type ".concat(typeof n,"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case."))})).join("&")}async fetchWithTimeout(e,t,n,i){const{signal:r,...s}=t||{};r&&r.addEventListener("abort",(()=>i.abort()));const o=setTimeout((()=>i.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:i.signal,...s}).finally((()=>{clearTimeout(o)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let i;const r=null===n||void 0===n?void 0:n["retry-after"];if(r){const e=parseInt(r);i=Number.isNaN(e)?Date.parse(r)-Date.now():1e3*e}if(!i||!Number.isInteger(i)||i<=0||i>6e4){var s;const n=null!==(s=e.maxRetries)&&void 0!==s?s:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,n)}return await sc(i),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return"".concat(this.constructor.name,"/JS ").concat(Ja)}}class Gl{constructor(e,t,n,i){ql.set(this,void 0),Bl(this,ql,e,"f"),this.options=i,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new pl("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,i]of n)e.url.searchParams.set(t,i);t.query=void 0,t.path=e.url.toString()}return await zl(this,ql,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(ql=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Ql extends Wl{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await Ul(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const Xl=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),$l={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryResponse:!0},Yl=e=>"object"===typeof e&&null!==e&&!cc(e)&&Object.keys(e).every((e=>function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}($l,e))),Jl=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ja,"X-Stainless-OS":Zl(Deno.build.os),"X-Stainless-Arch":Kl(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ja,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ja,"X-Stainless-OS":Zl(process.platform),"X-Stainless-Arch":Kl(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){const n=e[1]||0,i=e[2]||0,r=e[3]||0;return{browser:t,version:"".concat(n,".").concat(i,".").concat(r)}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ja,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(e.browser),"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ja,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Kl=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?"other:".concat(e):"unknown",Zl=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?"Other:".concat(e):"Unknown";let ec;const tc=()=>{var e;return null!==(e=ec)&&void 0!==e?e:ec=Jl()},nc=e=>{try{return JSON.parse(e)}catch(t){return}},ic=new RegExp("^(?:[a-z]+:)?//","i"),rc=e=>ic.test(e),sc=e=>new Promise((t=>setTimeout(t,e))),oc=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new pl("".concat(e," must be an integer"));if(t<0)throw new pl("".concat(e," must be a positive integer"));return t},ac=e=>e instanceof Error?e:new Error(e),lc=e=>{var t,n,i,r;return"undefined"!==typeof process?null!==(t=null===(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===n?void 0:n[e])&&void 0!==t?t:void 0:"undefined"!==typeof Deno?null===(i=Deno.env)||void 0===i||null===(r=i.get)||void 0===r?void 0:r.call(i,e):void 0};function cc(e){if(!e)return!0;for(const t in e)return!1;return!0}function uc(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.log("OpenAI:DEBUG:".concat(e),...n)}}const hc=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));class dc extends Gl{constructor(e,t,n,i){super(e,t,n,i),this.data=n.data,this.object=n.object}getPaginatedItems(){return this.data}nextPageParams(){return null}nextPageInfo(){return null}}class pc extends Gl{constructor(e,t,n,i){super(e,t,n,i),this.data=n.data}getPaginatedItems(){return this.data}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var e,t;if(null===(e=this.data)||void 0===e||!e.length)return null;const n=null===(t=this.data[this.data.length-1])||void 0===t?void 0:t.id;return n?{params:{after:n}}:null}}class fc{constructor(e){this._client=e}}class mc extends fc{create(e,t){var n;return this._client.post("/completions",{body:e,...t,stream:null!==(n=e.stream)&&void 0!==n&&n})}}mc||(mc={});class gc extends fc{create(e,t){var n;return this._client.post("/chat/completions",{body:e,...t,stream:null!==(n=e.stream)&&void 0!==n&&n})}}gc||(gc={});class vc extends fc{constructor(){super(...arguments),this.completions=new gc(this._client)}}!function(e){e.Completions=gc}(vc||(vc={}));class yc extends fc{create(e,t){return this._client.post("/edits",{body:e,...t})}}yc||(yc={});class _c extends fc{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}_c||(_c={});class bc extends fc{create(e,t){return this._client.post("/files",Fl({body:e,...t}))}retrieve(e,t){return this._client.get("/files/".concat(e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Yl(e)?this.list({},e):this._client.getAPIList("/files",wc,{query:e,...t})}del(e,t){return this._client.delete("/files/".concat(e),t)}content(e,t){return this._client.get("/files/".concat(e,"/content"),{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get("/files/".concat(e,"/content"),{...t,headers:{Accept:"application/json",...null===t||void 0===t?void 0:t.headers}})}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:n=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new Set(["processed","error","deleted"]),r=Date.now();let s=await this.retrieve(e);for(;!s.status||!i.has(s.status);)if(await sc(t),s=await this.retrieve(e),Date.now()-r>n)throw new vl({message:"Giving up on waiting for file ".concat(e," to finish processing after ").concat(n," milliseconds.")});return s}}class wc extends dc{}!function(e){e.FileObjectsPage=wc}(bc||(bc={}));class xc extends fc{createVariation(e,t){return this._client.post("/images/variations",Fl({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Fl({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}xc||(xc={});class kc extends fc{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}kc||(kc={});class Tc extends fc{create(e,t){return this._client.post("/audio/transcriptions",Fl({body:e,...t}))}}Tc||(Tc={});class Sc extends fc{create(e,t){return this._client.post("/audio/translations",Fl({body:e,...t}))}}Sc||(Sc={});class Cc extends fc{constructor(){super(...arguments),this.transcriptions=new Tc(this._client),this.translations=new Sc(this._client),this.speech=new kc(this._client)}}!function(e){e.Transcriptions=Tc,e.Translations=Sc,e.Speech=kc}(Cc||(Cc={}));class Ec extends fc{create(e,t){return this._client.post("/moderations",{body:e,...t})}}Ec||(Ec={});class Ac extends fc{retrieve(e,t){return this._client.get("/models/".concat(e),t)}list(e){return this._client.getAPIList("/models",Oc,e)}del(e,t){return this._client.delete("/models/".concat(e),t)}}class Oc extends dc{}!function(e){e.ModelsPage=Oc}(Ac||(Ac={}));class Ic extends fc{create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get("/fine_tuning/jobs/".concat(e),t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Yl(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Nc,{query:e,...t})}cancel(e,t){return this._client.post("/fine_tuning/jobs/".concat(e,"/cancel"),t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Yl(t)?this.listEvents(e,{},t):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/events"),Mc,{query:t,...n})}}class Nc extends pc{}class Mc extends pc{}!function(e){e.FineTuningJobsPage=Nc,e.FineTuningJobEventsPage=Mc}(Ic||(Ic={}));class Pc extends fc{constructor(){super(...arguments),this.jobs=new Ic(this._client)}}!function(e){e.Jobs=Ic,e.FineTuningJobsPage=Nc,e.FineTuningJobEventsPage=Mc}(Pc||(Pc={}));class Rc extends fc{create(e,t){return this._client.post("/fine-tunes",{body:e,...t})}retrieve(e,t){return this._client.get("/fine-tunes/".concat(e),t)}list(e){return this._client.getAPIList("/fine-tunes",Dc,e)}cancel(e,t){return this._client.post("/fine-tunes/".concat(e,"/cancel"),t)}listEvents(e,t,n){var i;return this._client.get("/fine-tunes/".concat(e,"/events"),{query:t,timeout:864e5,...n,stream:null!==(i=null===t||void 0===t?void 0:t.stream)&&void 0!==i&&i})}}class Dc extends dc{}!function(e){e.FineTunesPage=Dc}(Rc||(Rc={}));class jc extends fc{create(e,t,n){return this._client.post("/assistants/".concat(e,"/files"),{body:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}retrieve(e,t,n){return this._client.get("/assistants/".concat(e,"/files/").concat(t),{...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Yl(t)?this.list(e,{},t):this._client.getAPIList("/assistants/".concat(e,"/files"),Fc,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}del(e,t,n){return this._client.delete("/assistants/".concat(e,"/files/").concat(t),{...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}}class Fc extends pc{}!function(e){e.AssistantFilesPage=Fc}(jc||(jc={}));class Vc extends fc{constructor(){super(...arguments),this.files=new jc(this._client)}create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v1",...null===t||void 0===t?void 0:t.headers}})}retrieve(e,t){return this._client.get("/assistants/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v1",...null===t||void 0===t?void 0:t.headers}})}update(e,t,n){return this._client.post("/assistants/".concat(e),{body:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Yl(e)?this.list({},e):this._client.getAPIList("/assistants",Lc,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v1",...null===t||void 0===t?void 0:t.headers}})}del(e,t){return this._client.delete("/assistants/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v1",...null===t||void 0===t?void 0:t.headers}})}}class Lc extends pc{}function qc(e){return"function"===typeof e.parse}!function(e){e.AssistantsPage=Lc,e.Files=jc,e.AssistantFilesPage=Fc}(Vc||(Vc={}));const Bc=e=>"assistant"===(null===e||void 0===e?void 0:e.role),zc=e=>"function"===(null===e||void 0===e?void 0:e.role);var Uc,Wc,Hc,Gc,Qc,Xc,$c,Yc,Jc,Kc,Zc,eu,tu,nu,iu,ru,su,ou,au,lu,cu=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},uu=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};const hu=10;class du{constructor(){Uc.add(this),this.controller=new AbortController,Wc.set(this,void 0),Hc.set(this,(()=>{})),Gc.set(this,(()=>{})),Qc.set(this,void 0),Xc.set(this,(()=>{})),$c.set(this,(()=>{})),Yc.set(this,{}),this._chatCompletions=[],this.messages=[],Jc.set(this,!1),Kc.set(this,!1),Zc.set(this,!1),eu.set(this,!1),ou.set(this,(e=>{if(cu(this,Kc,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new ml),e instanceof ml)return cu(this,Zc,!0,"f"),this._emit("abort",e);if(e instanceof pl)return this._emit("error",e);if(e instanceof Error){const t=new pl(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new pl(String(e)))})),cu(this,Wc,new Promise(((e,t)=>{cu(this,Hc,e,"f"),cu(this,Gc,t,"f")})),"f"),cu(this,Qc,new Promise(((e,t)=>{cu(this,Xc,e,"f"),cu(this,$c,t,"f")})),"f"),uu(this,Wc,"f").catch((()=>{})),uu(this,Qc,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),uu(this,ou,"f"))}),0)}_addChatCompletion(e){var t;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=null===(t=e.choices[0])||void 0===t?void 0:t.message;return n&&this._addMessage(n),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.messages.push(e),t)if(this._emit("message",e),(zc(e)||(e=>"tool"===(null===e||void 0===e?void 0:e.role))(e))&&e.content)this._emit("functionCallResult",e.content);else if(Bc(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Bc(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionCall",n.function)}_connected(){this.ended||(uu(this,Hc,"f").call(this),this._emit("connect"))}get ended(){return uu(this,Jc,"f")}get errored(){return uu(this,Kc,"f")}get aborted(){return uu(this,Zc,"f")}abort(){this.controller.abort()}on(e,t){return(uu(this,Yc,"f")[e]||(uu(this,Yc,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=uu(this,Yc,"f")[e];if(!n)return this;const i=n.findIndex((e=>e.listener===t));return i>=0&&n.splice(i,1),this}once(e,t){return(uu(this,Yc,"f")[e]||(uu(this,Yc,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{cu(this,eu,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){cu(this,eu,!0,"f"),await uu(this,Qc,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new pl("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),uu(this,Uc,"m",tu).call(this)}async finalMessage(){return await this.done(),uu(this,Uc,"m",nu).call(this)}async finalFunctionCall(){return await this.done(),uu(this,Uc,"m",iu).call(this)}async finalFunctionCallResult(){return await this.done(),uu(this,Uc,"m",ru).call(this)}async totalUsage(){return await this.done(),uu(this,Uc,"m",su).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(uu(this,Jc,"f"))return;"end"===e&&(cu(this,Jc,!0,"f"),uu(this,Xc,"f").call(this));const r=uu(this,Yc,"f")[e];if(r&&(uu(this,Yc,"f")[e]=r.filter((e=>!e.once)),r.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return uu(this,eu,"f")||null!==r&&void 0!==r&&r.length||Promise.reject(e),uu(this,Gc,"f").call(this,e),uu(this,$c,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];uu(this,eu,"f")||null!==r&&void 0!==r&&r.length||Promise.reject(e),uu(this,Gc,"f").call(this,e),uu(this,$c,"f").call(this,e),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=this.messages[this.messages.length-1];t&&this._emit("finalMessage",t);const n=uu(this,Uc,"m",tu).call(this);n&&this._emit("finalContent",n);const i=uu(this,Uc,"m",iu).call(this);i&&this._emit("finalFunctionCall",i);const r=uu(this,Uc,"m",ru).call(this);null!=r&&this._emit("finalFunctionCallResult",r),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",uu(this,Uc,"m",su).call(this))}async _createChatCompletion(e,t,n){const i=null===n||void 0===n?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort()))),uu(this,Uc,"m",au).call(this,t);const r=await e.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(r)}async _runChatCompletion(e,t,n){for(const i of t.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const i="function",{function_call:r="auto",stream:s,...o}=t,a="string"!==typeof r&&(null===r||void 0===r?void 0:r.name),{maxChatCompletions:l=hu}=n||{},c={};for(const p of t.functions)c[p.name||p.function.name]=p;const u=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const p of t.messages)this._addMessage(p,!1);for(let p=0;p<l;++p){var h;const t=null===(h=(await this._createChatCompletion(e,{...o,function_call:r,functions:u,messages:[...this.messages]},n)).choices[0])||void 0===h?void 0:h.message;if(!t)throw new pl("missing message in ChatCompletion response");if(!t.function_call)return;const{name:s,arguments:l}=t.function_call,p=c[s];if(!p){const e="Invalid function_call: ".concat(JSON.stringify(s),". Available options are: ").concat(u.map((e=>JSON.stringify(e.name))).join(", "),". Please try again");this._addMessage({role:i,name:s,content:e});continue}if(a&&a!==s){const e="Invalid function_call: ".concat(JSON.stringify(s),". ").concat(JSON.stringify(a)," requested. Please try again");this._addMessage({role:i,name:s,content:e});continue}let f;try{f=qc(p)?await p.parse(l):l}catch(d){this._addMessage({role:i,name:s,content:d instanceof Error?d.message:String(d)});continue}const m=await p.function(f,this),g=uu(this,Uc,"m",lu).call(this,m);if(this._addMessage({role:i,name:s,content:g}),a)return}}async _runTools(e,t,n){var i;const r="tool",{tool_choice:s="auto",stream:o,...a}=t,l="string"!==typeof s&&(null===s||void 0===s||null===(i=s.function)||void 0===i?void 0:i.name),{maxChatCompletions:c=hu}=n||{},u={};for(const f of t.tools)"function"===f.type&&(u[f.function.name||f.function.function.name]=f.function);const h="tools"in t?t.tools.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description}}:e)):void 0;for(const f of t.messages)this._addMessage(f,!1);for(let f=0;f<c;++f){var d;const t=null===(d=(await this._createChatCompletion(e,{...a,tool_choice:s,tools:h,messages:[...this.messages]},n)).choices[0])||void 0===d?void 0:d.message;if(!t)throw new pl("missing message in ChatCompletion response");if(!t.tool_calls)return;for(const e of t.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:i}=e.function,s=u[n];if(!s){const e="Invalid tool_call: ".concat(JSON.stringify(n),". Available options are: ").concat(h.map((e=>JSON.stringify(e.function.name))).join(", "),". Please try again");this._addMessage({role:r,tool_call_id:t,content:e});continue}if(l&&l!==n){const e="Invalid tool_call: ".concat(JSON.stringify(n),". ").concat(JSON.stringify(l)," requested. Please try again");this._addMessage({role:r,tool_call_id:t,content:e});continue}let o;try{o=qc(s)?await s.parse(i):i}catch(p){const e=p instanceof Error?p.message:String(p);this._addMessage({role:r,tool_call_id:t,content:e});continue}const a=await s.function(o,this),c=uu(this,Uc,"m",lu).call(this,a);if(this._addMessage({role:r,tool_call_id:t,content:c}),l)return}}}}Wc=new WeakMap,Hc=new WeakMap,Gc=new WeakMap,Qc=new WeakMap,Xc=new WeakMap,$c=new WeakMap,Yc=new WeakMap,Jc=new WeakMap,Kc=new WeakMap,Zc=new WeakMap,eu=new WeakMap,ou=new WeakMap,Uc=new WeakSet,tu=function(){return uu(this,Uc,"m",nu).call(this).content},nu=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Bc(t))return t}throw new pl("stream ended without producing a ChatCompletionMessage with role=assistant")},iu=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Bc(t)&&null!==t&&void 0!==t&&t.function_call)return t.function_call}},ru=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(zc(t)&&null!=t.content)return t.content}},su=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},au=function(e){if(null!=e.n&&e.n>1)throw new pl("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},lu=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class pu extends du{static runFunctions(e,t,n){const i=new pu;return i._run((()=>i._runFunctions(e,t,n))),i}static runTools(e,t,n){const i=new pu;return i._run((()=>i._runTools(e,t,n))),i}_addMessage(e){super._addMessage(e),Bc(e)&&e.content&&this._emit("content",e.content)}}var fu,mu,gu,vu,yu,_u,bu,wu=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},xu=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n};class ku extends du{constructor(){super(...arguments),fu.add(this),mu.set(this,void 0)}get currentChatCompletionSnapshot(){return wu(this,mu,"f")}static fromReadableStream(e){const t=new ku;return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const i=new ku;return i._run((()=>i._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...null===n||void 0===n?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}}))),i}async _createChatCompletion(e,t,n){var i;const r=null===n||void 0===n?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),wu(this,fu,"m",gu).call(this);const s=await e.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of s)wu(this,fu,"m",vu).call(this,o);if(null!==(i=s.controller.signal)&&void 0!==i&&i.aborted)throw new ml;return this._addChatCompletion(wu(this,fu,"m",yu).call(this))}async _fromReadableStream(e,t){var n;const i=null===t||void 0===t?void 0:t.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort()))),wu(this,fu,"m",gu).call(this),this._connected();const r=Cl.fromReadableStream(e,this.controller);let s;for await(const o of r)s&&s!==o.id&&this._addChatCompletion(wu(this,fu,"m",yu).call(this)),wu(this,fu,"m",vu).call(this,o),s=o.id;if(null!==(n=r.controller.signal)&&void 0!==n&&n.aborted)throw new ml;return this._addChatCompletion(wu(this,fu,"m",yu).call(this))}[(mu=new WeakMap,fu=new WeakSet,gu=function(){this.ended||xu(this,mu,void 0,"f")},vu=function(e){var t,n;if(this.ended)return;const i=wu(this,fu,"m",_u).call(this,e);this._emit("chunk",e,i);const r=null===(t=e.choices[0])||void 0===t||null===(t=t.delta)||void 0===t?void 0:t.content,s=null===(n=i.choices[0])||void 0===n?void 0:n.message;null!=r&&"assistant"===(null===s||void 0===s?void 0:s.role)&&null!==s&&void 0!==s&&s.content&&this._emit("content",r,s.content)},yu=function(){if(this.ended)throw new pl("stream has ended, this shouldn't happen");const e=wu(this,mu,"f");if(!e)throw new pl("request ended without sending any chunks");return xu(this,mu,void 0,"f"),function(e){const{id:t,choices:n,created:i,model:r}=e;return{id:t,choices:n.map((t=>{let{message:n,finish_reason:i,index:r}=t;if(!i)throw new pl("missing finish_reason for choice ".concat(r));const{content:s=null,function_call:o,tool_calls:a}=n,l=n.role;if(!l)throw new pl("missing role for choice ".concat(r));if(o){const{arguments:e,name:t}=o;if(null==e)throw new pl("missing function_call.arguments for choice ".concat(r));if(!t)throw new pl("missing function_call.name for choice ".concat(r));return{message:{content:s,function_call:{arguments:e,name:t},role:l},finish_reason:i,index:r}}return a?{index:r,finish_reason:i,message:{role:l,content:s,tool_calls:a.map(((t,n)=>{const{function:i,type:s,id:o}=t,{arguments:a,name:l}=i||{};if(null==o)throw new pl("missing choices[".concat(r,"].tool_calls[").concat(n,"].id\n").concat(Tu(e)));if(null==s)throw new pl("missing choices[".concat(r,"].tool_calls[").concat(n,"].type\n").concat(Tu(e)));if(null==l)throw new pl("missing choices[".concat(r,"].tool_calls[").concat(n,"].function.name\n").concat(Tu(e)));if(null==a)throw new pl("missing choices[".concat(r,"].tool_calls[").concat(n,"].function.arguments\n").concat(Tu(e)));return{id:o,type:s,function:{name:l,arguments:a}}}))}}:{message:{content:s,role:l},finish_reason:i,index:r}})),created:i,model:r,object:"chat.completion"}}(e)},_u=function(e){var t,n;let i=wu(this,mu,"f");const{choices:r,...s}=e;i?Object.assign(i,s):i=xu(this,mu,{...s,choices:[]},"f");for(const{delta:c,finish_reason:u,index:h,...d}of e.choices){let e=i.choices[h];if(!e){i.choices[h]={finish_reason:u,index:h,message:c,...d};continue}if(u&&(e.finish_reason=u),Object.assign(e,d),!c)continue;const{content:r,function_call:s,role:p,tool_calls:f}=c;var o;if(r&&(e.message.content=(e.message.content||"")+r),p&&(e.message.role=p),s)if(e.message.function_call){if(s.name&&(e.message.function_call.name=s.name),s.arguments)null!==(o=(t=e.message.function_call).arguments)&&void 0!==o||(t.arguments=""),e.message.function_call.arguments+=s.arguments}else e.message.function_call=s;if(f){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:i,type:r,function:s}of f){var a,l;const o=null!==(a=(n=e.message.tool_calls)[t])&&void 0!==a?a:n[t]={};i&&(o.id=i),r&&(o.type=r),s&&(null!==(l=o.function)&&void 0!==l||(o.function={arguments:""})),null!==s&&void 0!==s&&s.name&&(o.function.name=s.name),null!==s&&void 0!==s&&s.arguments&&(o.function.arguments+=s.arguments)}}}return i},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const i=t.shift();i?i(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e(void 0);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise((e=>t.push(e))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}}}}toReadableStream(){return new Cl(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Tu(e){return JSON.stringify(e)}class Su extends ku{static fromReadableStream(e){const t=new Su;return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const i=new Su;return i._run((()=>i._runFunctions(e,t,{...n,headers:{...null===n||void 0===n?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}}))),i}static runTools(e,t,n){const i=new Su;return i._run((()=>i._runTools(e,t,{...n,headers:{...null===n||void 0===n?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}}))),i}}class Cu extends fc{runFunctions(e,t){return e.stream?Su.runFunctions(this._client.chat.completions,e,t):pu.runFunctions(this._client.chat.completions,e,t)}runTools(e,t){return e.stream?Su.runTools(this._client.chat.completions,e,t):pu.runTools(this._client.chat.completions,e,t)}stream(e,t){return ku.createChatCompletion(this._client.chat.completions,e,t)}}class Eu extends fc{constructor(){super(...arguments),this.completions=new Cu(this._client)}}!function(e){e.Completions=Cu}(Eu||(Eu={}));class Au extends fc{retrieve(e,t,n,i){return this._client.get("/threads/".concat(e,"/messages/").concat(t,"/files/").concat(n),{...i,headers:{"OpenAI-Beta":"assistants=v1",...null===i||void 0===i?void 0:i.headers}})}list(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;return Yl(n)?this.list(e,t,{},n):this._client.getAPIList("/threads/".concat(e,"/messages/").concat(t,"/files"),Ou,{query:n,...i,headers:{"OpenAI-Beta":"assistants=v1",...null===i||void 0===i?void 0:i.headers}})}}class Ou extends pc{}!function(e){e.MessageFilesPage=Ou}(Au||(Au={}));class Iu extends fc{constructor(){super(...arguments),this.files=new Au(this._client)}create(e,t,n){return this._client.post("/threads/".concat(e,"/messages"),{body:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}retrieve(e,t,n){return this._client.get("/threads/".concat(e,"/messages/").concat(t),{...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}update(e,t,n,i){return this._client.post("/threads/".concat(e,"/messages/").concat(t),{body:n,...i,headers:{"OpenAI-Beta":"assistants=v1",...null===i||void 0===i?void 0:i.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Yl(t)?this.list(e,{},t):this._client.getAPIList("/threads/".concat(e,"/messages"),Nu,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}}class Nu extends pc{}!function(e){e.ThreadMessagesPage=Nu,e.Files=Au,e.MessageFilesPage=Ou}(Iu||(Iu={}));class Mu extends fc{retrieve(e,t,n,i){return this._client.get("/threads/".concat(e,"/runs/").concat(t,"/steps/").concat(n),{...i,headers:{"OpenAI-Beta":"assistants=v1",...null===i||void 0===i?void 0:i.headers}})}list(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;return Yl(n)?this.list(e,t,{},n):this._client.getAPIList("/threads/".concat(e,"/runs/").concat(t,"/steps"),Pu,{query:n,...i,headers:{"OpenAI-Beta":"assistants=v1",...null===i||void 0===i?void 0:i.headers}})}}class Pu extends pc{}!function(e){e.RunStepsPage=Pu}(Mu||(Mu={}));class Ru extends fc{constructor(){super(...arguments),this.steps=new Mu(this._client)}create(e,t,n){return this._client.post("/threads/".concat(e,"/runs"),{body:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}retrieve(e,t,n){return this._client.get("/threads/".concat(e,"/runs/").concat(t),{...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}update(e,t,n,i){return this._client.post("/threads/".concat(e,"/runs/").concat(t),{body:n,...i,headers:{"OpenAI-Beta":"assistants=v1",...null===i||void 0===i?void 0:i.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Yl(t)?this.list(e,{},t):this._client.getAPIList("/threads/".concat(e,"/runs"),Du,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}cancel(e,t,n){return this._client.post("/threads/".concat(e,"/runs/").concat(t,"/cancel"),{...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}submitToolOutputs(e,t,n,i){return this._client.post("/threads/".concat(e,"/runs/").concat(t,"/submit_tool_outputs"),{body:n,...i,headers:{"OpenAI-Beta":"assistants=v1",...null===i||void 0===i?void 0:i.headers}})}}class Du extends pc{}!function(e){e.RunsPage=Du,e.Steps=Mu,e.RunStepsPage=Pu}(Ru||(Ru={}));class ju extends fc{constructor(){super(...arguments),this.runs=new Ru(this._client),this.messages=new Iu(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Yl(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v1",...null===t||void 0===t?void 0:t.headers}})}retrieve(e,t){return this._client.get("/threads/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v1",...null===t||void 0===t?void 0:t.headers}})}update(e,t,n){return this._client.post("/threads/".concat(e),{body:t,...n,headers:{"OpenAI-Beta":"assistants=v1",...null===n||void 0===n?void 0:n.headers}})}del(e,t){return this._client.delete("/threads/".concat(e),{...t,headers:{"OpenAI-Beta":"assistants=v1",...null===t||void 0===t?void 0:t.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v1",...null===t||void 0===t?void 0:t.headers}})}}!function(e){e.Runs=Ru,e.RunsPage=Du,e.Messages=Iu,e.ThreadMessagesPage=Nu}(ju||(ju={}));class Fu extends fc{constructor(){super(...arguments),this.chat=new Eu(this._client),this.assistants=new Vc(this._client),this.threads=new ju(this._client)}}!function(e){e.Chat=Eu,e.Assistants=Vc,e.AssistantsPage=Lc,e.Threads=ju}(Fu||(Fu={}));class Vu extends Hl{constructor(){var e,t,n;let{apiKey:i=lc("OPENAI_API_KEY"),organization:r=(null!==(e=lc("OPENAI_ORG_ID"))&&void 0!==e?e:null),...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===i)throw new pl("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:i,organization:r,...s,baseURL:null!==(t=s.baseURL)&&void 0!==t?t:"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new pl("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:o.baseURL,timeout:null!==(n=o.timeout)&&void 0!==n?n:6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new mc(this),this.chat=new vc(this),this.edits=new yc(this),this.embeddings=new _c(this),this.files=new bc(this),this.images=new xc(this),this.audio=new Cc(this),this.moderations=new Ec(this),this.models=new Ac(this),this.fineTuning=new Pc(this),this.fineTunes=new Rc(this),this.beta=new Fu(this),this._options=o,this.apiKey=i,this.organization=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:"Bearer ".concat(this.apiKey)}}}bu=Vu,Vu.OpenAI=bu,Vu.OpenAIError=pl,Vu.APIError=fl,Vu.APIConnectionError=gl,Vu.APIConnectionTimeoutError=vl,Vu.APIUserAbortError=ml,Vu.NotFoundError=wl,Vu.ConflictError=xl,Vu.RateLimitError=Tl,Vu.BadRequestError=yl,Vu.AuthenticationError=_l,Vu.InternalServerError=Sl,Vu.PermissionDeniedError=bl,Vu.UnprocessableEntityError=kl;const{OpenAIError:Lu,APIError:qu,APIConnectionError:Bu,APIConnectionTimeoutError:zu,APIUserAbortError:Uu,NotFoundError:Wu,ConflictError:Hu,RateLimitError:Gu,BadRequestError:Qu,AuthenticationError:Xu,InternalServerError:$u,PermissionDeniedError:Yu,UnprocessableEntityError:Ju}=e;!function(e){e.toFile=Pl,e.fileFromPath=sl,e.Page=dc,e.CursorPage=pc,e.Completions=mc,e.Chat=vc,e.Edits=yc,e.Embeddings=_c,e.Files=bc,e.FileObjectsPage=wc,e.Images=xc,e.Audio=Cc,e.Moderations=Ec,e.Models=Ac,e.ModelsPage=Oc,e.FineTuning=Pc,e.FineTunes=Rc,e.FineTunesPage=Dc,e.Beta=Fu}(Vu||(Vu={}));const Ku=Vu,Zu=e=>{let{apiKey:n,baselineJsonData:i,sparklesJsonData:r}=e;const[s,o]=(0,t.useState)(null),[a,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{if(n){const e=new Ku({apiKey:n,dangerouslyAllowBrowser:!0});o(e)}else console.error("OpenAI API key is not provided."),l("OpenAI API key is not provided.")}),[n]);const c=async e=>{if(!s)return console.error("OpenAI instance is not initialized."),void l("OpenAI instance is not initialized.");let t;console.log("gpt is composing..."),t=null===i?e+"This is the baseline and you compose a melody to that:"+Qa+"Give me only the MIDI File Syntax nothing else.":e+"This is the baseline and you compose a melody to that:"+i+"Give me only the MIDI File Syntax nothing else.";try{var n,o;let e=null===(n=(await s.chat.completions.create({model:"gpt-4",messages:[{role:"user",content:t}],temperature:1})).choices[0])||void 0===n||null===(o=n.message)||void 0===o?void 0:o.content;if(!e)return void console.error("No output received from OpenAI.");console.log("This was the original message: "+e);let i=(e=>{let t=e.indexOf("{"),n=0,i=t;if(-1===t)return console.error("JSON data not found in the message"),null;for(;i<e.length;){if("{"===e[i])n++;else if("}"===e[i]&&(n--,0===n))break;i++}return 0!==n?(console.error("Incomplete JSON data"),null):e.substring(t,i+1)})(e);if(!i)return void console.error("Invalid or incomplete JSON data received.");console.log(i);try{const e=JSON.parse(i);r(e),$a(e)}catch(c){console.error("Error parsing JSON data: ",c)}}catch(a){console.error("Error with OpenAI completion:",a)}};return(0,wo.jsx)(na,{bg:"dark",text:"white",className:"mb-3",children:(0,wo.jsxs)(na.Body,{children:[(0,wo.jsx)(na.Title,{style:{textAlign:"left",fontWeight:"bold"},children:"Sparkles Composer"}),(0,wo.jsx)(Fa,{children:(0,wo.jsxs)(La,{className:"align-items-center",children:[(0,wo.jsx)(xa,{children:(0,wo.jsx)(Wa,{variant:"outline-light",onClick:()=>c('I need assistance in producing AI-generated text that I convert to music using MIDI files to create haptic melodies optimized for whole-body vibration experiences, composing little interesting "sparkles". We are focusing on frequencies between 25-60Hz as a guiding frequency for our "sparkle", that will be played on top. Structure the compositions as follows:\n\n1. **Note Specification**: Use pitch values corresponding to frequencies in the 25-60Hz range, and durations reflecting musical timing.\n2. **Integration of Silence**: Include silences, denoted by a tuple with pitch 0 and duration signifying the silence length.\n3. **Musical Elements**:\n1. **Preferred Frequencies**: 40-60 Hz are a pleasant range for tactile vibrations, while others argue for 25-40 Hz as most preferred. These frequencies are crucial in creating a haptic melody that is perceived as pleasant and engaging. The baseline that is provided should be within that range. Create in your MIDI harmonic elements for an audioscape corresponding to the baseline frequency for dissonance. \n2. **Consonance and Dissonance**: The papers extend the concept of consonance and dissonance from music theory to vibrotactile stimuli. Consonant intervals (e.g., octave, perfect fifth) were generally preferred over dissonant ones (e.g., minor second). This suggests that haptic melodies should incorporate intervals and combinations that are harmonically pleasing and stable.\n3. **Individual Variability**: While certain frequencies and intervals may be broadly preferred, there is no one-size-fits-all solution. A range of frequencies and combinations might be necessary to cater to different preferences. Use the frequency provided in the baseline, which we will use as a harmonic basis for the user\'s preference.\n4. **Rhythmic and Smooth Patterns**: Preferred are non intrusive, rhythmic and smooth patterns in vibrotactile stimuli. Those are typically characterized by slow attacks and releases. You can also play with the velocity and nuances like little rattle patterns. This mirrors musical aesthetics where rhythm plays a crucial role in the structure and appeal of a piece. For rhythmic and reoccuring pattern you also need noticable silence sometimes.\n5. **Resonance and Neural Entrainment**: The concept of resonance, particularly neural resonance, is explored in the context of vibroacoustic therapy and aesthetic experience. This suggests that the frequencies and rhythms chosen for haptic melodies might also align with neural oscillation frequencies to enhance their therapeutic and relaxing effects.\n- **Pitch Range**: Emphasize pitches that align with or build on frequencies found pleasant in vibrotactile studies.\n    - **Rhythm and Contour**: Develop rhythms and contours reflecting preferences for smooth, rhythmic patterns. Create slowly moving up and down pattern, comparable to fingerpicking a guitar slowly.\n    - **Consonance and Dissonance**: Apply principles of consonance and dissonance, favoring combinations like the octave (1:2) and perfect fifth (2:3). 4. **Output Format**: Present the melody in this format:\nSyntax:\n{\n// the transport and timing data\nheader: {\nname: String,                     // the name of the first empty track, \n                                  // which is usually the song name\ntempos: TempoEvent[],             // the tempo, e.g. 120\ntimeSignatures: TimeSignatureEvent[],  // the time signature, e.g. [4, 4],\n\nPPQ: Number                       // the Pulses Per Quarter of the midi file\n                                  // this is read only\n},\n\nduration: Number,                   // the time until the last note finishes\n\n// an array of midi tracks\ntracks: [\n{\n  name: String,                   // the track name if one was given\n\n  channel: Number,                // channel\n                                  // the ID for this channel; 9 and 10 are\n                                  // reserved for percussion\n  notes: [\n    {\n      midi: Number,               // midi number, e.g. 60\n      time: Number,               // time in seconds\n      ticks: Number,              // time in ticks\n      name: String,               // note name, e.g. "C4",\n      pitch: String,              // the pitch class, e.g. "C",\n      octave : Number,            // the octave, e.g. 4\n      velocity: Number,           // normalized 0-1 velocity\n      duration: Number,           // duration in seconds between noteOn and noteOff\n    }\n  ],\n\n  // midi control changes\n  controlChanges: {\n    // if there are control changes in the midi file\n    \'91\': [\n      {\n        number: Number,           // the cc number\n        ticks: Number,            // time in ticks\n        time: Number,             // time in seconds\n        value: Number,            // normalized 0-1\n      }\n    ],\n  },\n\n  instrument: {                   // and object representing the program change events\n    number : Number,              // the instrument number 0-127\n    family: String,               // the family of instruments, read only.\n    name : String,                // the name of the instrument\n    percussion: Boolean,          // if the instrument is a percussion instrument\n  },          \n}\n]\n} here is a filled out example: "{\n"header": {\n"keySignatures": [],\n"meta": [],\n"name": "",\n"ppq": 240,\n"tempos": [\n  {\n    "bpm": 120,\n    "ticks": 0\n  }\n],\n"timeSignatures": [\n  {\n    "ticks": 0,\n    "timeSignature": [\n      4,\n      4\n    ],\n    "measures": 0\n  }\n]\n},\n"tracks": [\n{\n  "channel": 0,\n  "controlChanges": {\n    "7": [\n      {\n        "number": 7,\n        "ticks": 0,\n        "time": 0,\n        "value": 1\n      }\n    ]\n  },\n  "pitchBends": [],\n  "instrument": {\n    "family": "bass",\n    "number": 33,\n    "name": "electric bass (finger)"\n  },\n  "name": "",\n  "notes": [\n    {\n      "duration": 0.26875,\n      "durationTicks": 129,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 0,\n      "time": 0,\n      "velocity": 0.6141732283464567\n    },\n    {\n      "duration": 0.2562500000000001,\n      "durationTicks": 123,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 360,\n      "time": 0.75,\n      "velocity": 0.6377952755905512\n    },\n    {\n      "duration": 0.26875000000000004,\n      "durationTicks": 129,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 480,\n      "time": 1,\n      "velocity": 0.6220472440944882\n    },\n    {\n      "duration": 0.1333333333333333,\n      "durationTicks": 64,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 600,\n      "time": 1.25,\n      "velocity": 0.5354330708661418\n    },\n    {\n      "duration": 0.7333333333333334,\n      "durationTicks": 352,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 840,\n      "time": 1.75,\n      "velocity": 0.6456692913385826\n    },\n    {\n      "duration": 0.4791666666666665,\n      "durationTicks": 230,\n      "midi": 43,\n      "name": "G2",\n      "ticks": 1200,\n      "time": 2.5,\n      "velocity": 0.4881889763779528\n    },\n    {\n      "duration": 0.28125,\n      "durationTicks": 135,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1440,\n      "time": 3,\n      "velocity": 0.6299212598425197\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1920,\n      "time": 4,\n      "velocity": 0.6929133858267716\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 2280,\n      "time": 4.75,\n      "velocity": 0.6062992125984252\n    },\n    {\n      "duration": 0.25416666666666643,\n      "durationTicks": 122,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 2400,\n      "time": 5,\n      "velocity": 0.7086614173228346\n    },\n    {\n      "duration": 0.2020833333333334,\n      "durationTicks": 97,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 2520,\n      "time": 5.25,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.760416666666667,\n      "durationTicks": 365,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 2760,\n      "time": 5.75,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.47916666666666696,\n      "durationTicks": 230,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 3120,\n      "time": 6.5,\n      "velocity": 0.6062992125984252\n    },\n    {\n        "duration": 0.1875,\n        "durationTicks": 90,\n        "midi": 45,\n        "name": "A2",\n        "ticks": 3360,\n        "time": 7,\n        "velocity": 0.6141732283464567\n      }\n  ],\n  "endOfTrackTicks": 3839\n}\n]\n};"\n\nHere is another example: {\n"header": {\n"keySignatures": [],\n"meta": [],\n"name": "",\n"ppq": 240,\n"tempos": [\n  {\n    "bpm": 120,\n    "ticks": 0\n  }\n],\n"timeSignatures": [\n  {\n    "ticks": 0,\n    "timeSignature": [\n      4,\n      4\n    ],\n    "measures": 0\n  }\n]\n},\n"tracks": [\n{\n  "channel": 0,\n  "controlChanges": {\n    "7": [\n      {\n        "number": 7,\n        "ticks": 0,\n        "time": 0,\n        "value": 1\n      }\n    ]\n  },\n  "pitchBends": [],\n  "instrument": {\n    "family": "bass",\n    "number": 33,\n    "name": "electric bass (finger)"\n  },\n  "name": "",\n  "notes": [\n    {\n      "duration": 0.26875,\n      "durationTicks": 129,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 0,\n      "time": 0,\n      "velocity": 0.6141732283464567\n    },\n    {\n      "duration": 0.2562500000000001,\n      "durationTicks": 123,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 360,\n      "time": 0.75,\n      "velocity": 0.6377952755905512\n    },\n    {\n      "duration": 0.26875000000000004,\n      "durationTicks": 129,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 480,\n      "time": 1,\n      "velocity": 0.6220472440944882\n    },\n    {\n      "duration": 0.1333333333333333,\n      "durationTicks": 64,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 600,\n      "time": 1.25,\n      "velocity": 0.5354330708661418\n    },\n    {\n      "duration": 0.7333333333333334,\n      "durationTicks": 352,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 840,\n      "time": 1.75,\n      "velocity": 0.6456692913385826\n    },\n    {\n      "duration": 0.4791666666666665,\n      "durationTicks": 230,\n      "midi": 43,\n      "name": "G2",\n      "ticks": 1200,\n      "time": 2.5,\n      "velocity": 0.4881889763779528\n    },\n    {\n      "duration": 0.28125,\n      "durationTicks": 135,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1440,\n      "time": 3,\n      "velocity": 0.6299212598425197\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1920,\n      "time": 4,\n      "velocity": 0.6929133858267716\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 2280,\n      "time": 4.75,\n      "velocity": 0.6062992125984252\n    },\n    {\n      "duration": 0.25416666666666643,\n      "durationTicks": 122,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 2400,\n      "time": 5,\n      "velocity": 0.7086614173228346\n    },\n    {\n      "duration": 0.2020833333333334,\n      "durationTicks": 97,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 2520,\n      "time": 5.25,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.760416666666667,\n      "durationTicks": 365,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 2760,\n      "time": 5.75,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.47916666666666696,\n      "durationTicks": 230,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 3120,\n      "time": 6.5,\n      "velocity": 0.6062992125984252\n    },\n    {\n      "duration": 0.1875,\n      "durationTicks": 90,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 3360,\n      "time": 7,\n      "velocity": 0.6141732283464567\n    }\n  ],\n  "endOfTrackTicks": 3839\n}\n]\n}\n5. **Individual Variability**: Recognize the variation in individual preferences for vibration frequencies. The chosen frequency is 100Hz, the length of the note played in total is 8 seconds and then the loop repeats it loops. In this case you create a 16 second sparkle loop played at the same time.\n\nThe goal is to create melodies that are not only musically coherent but also optimized for haptic feedback, based on empirical findings on vibrotactile feedback and human emotional response'),disabled:!n,children:"Generate Ladder"})}),(0,wo.jsx)(xa,{children:(0,wo.jsx)(Wa,{variant:"outline-light",onClick:()=>c('I need assistance in producing AI-generated text that I convert to music using MIDI files to create haptic melodies optimized for whole-body vibration experiences, composing little interesting "sparkles". We are focusing on frequencies between 25-60Hz as a guiding frequency for our "sparkle", that will be played on top. Structure the compositions as follows:\n\n1. **Note Specification**: Use pitch values corresponding to frequencies in the 25-60Hz range, and durations reflecting musical timing.\n2. **Integration of Silence**: Include silences, denoted by a tuple with pitch 0 and duration signifying the silence length.\n3. **Musical Elements**:\n1. **Preferred Frequencies**: 40-60 Hz are a pleasant range for tactile vibrations, while others argue for 25-40 Hz as most preferred. These frequencies are crucial in creating a haptic melody that is perceived as pleasant and engaging. The baseline that is provided should be within that range. Create in your MIDI harmonic elements for an audioscape corresponding to the baseline frequency for dissonance. \n2. **Consonance and Dissonance**: The papers extend the concept of consonance and dissonance from music theory to vibrotactile stimuli. Consonant intervals (e.g., octave, perfect fifth) were generally preferred over dissonant ones (e.g., minor second). This suggests that haptic melodies should incorporate intervals and combinations that are harmonically pleasing and stable.\n3. **Individual Variability**: While certain frequencies and intervals may be broadly preferred, there is no one-size-fits-all solution. A range of frequencies and combinations might be necessary to cater to different preferences. Use the frequency provided in the baseline, which we will use as a harmonic basis for the user\'s preference.\n4. **Rhythmic and Smooth Patterns**: Preferred are non intrusive, rhythmic and smooth patterns in vibrotactile stimuli. Those are typically characterized by slow attacks and releases. You can also play with the velocity and nuances like little rattle patterns. This mirrors musical aesthetics where rhythm plays a crucial role in the structure and appeal of a piece. For rhythmic and reoccuring pattern you also need noticable silence sometimes.\n5. **Resonance and Neural Entrainment**: The concept of resonance, particularly neural resonance, is explored in the context of vibroacoustic therapy and aesthetic experience. This suggests that the frequencies and rhythms chosen for haptic melodies might also align with neural oscillation frequencies to enhance their therapeutic and relaxing effects.\n- **Pitch Range**: Emphasize pitches that align with or build on frequencies found pleasant in vibrotactile studies.\n    - **Rhythm and Contour**: Develop rhythms and contours reflecting preferences for smooth, rhythmic patterns. Create slowly moving up and down pattern, comparable to fingerpicking a guitar slowly.\n    - **Consonance and Dissonance**: Apply principles of consonance and dissonance, favoring combinations like the octave (1:2) and perfect fifth (2:3). 4. **Output Format**: Present the melody in this format:\nSyntax:\n{\n// the transport and timing data\nheader: {\nname: String,                     // the name of the first empty track, \n                                  // which is usually the song name\ntempos: TempoEvent[],             // the tempo, e.g. 120\ntimeSignatures: TimeSignatureEvent[],  // the time signature, e.g. [4, 4],\n\nPPQ: Number                       // the Pulses Per Quarter of the midi file\n                                  // this is read only\n},\n\nduration: Number,                   // the time until the last note finishes\n\n// an array of midi tracks\ntracks: [\n{\n  name: String,                   // the track name if one was given\n\n  channel: Number,                // channel\n                                  // the ID for this channel; 9 and 10 are\n                                  // reserved for percussion\n  notes: [\n    {\n      midi: Number,               // midi number, e.g. 60\n      time: Number,               // time in seconds\n      ticks: Number,              // time in ticks\n      name: String,               // note name, e.g. "C4",\n      pitch: String,              // the pitch class, e.g. "C",\n      octave : Number,            // the octave, e.g. 4\n      velocity: Number,           // normalized 0-1 velocity\n      duration: Number,           // duration in seconds between noteOn and noteOff\n    }\n  ],\n\n  // midi control changes\n  controlChanges: {\n    // if there are control changes in the midi file\n    \'91\': [\n      {\n        number: Number,           // the cc number\n        ticks: Number,            // time in ticks\n        time: Number,             // time in seconds\n        value: Number,            // normalized 0-1\n      }\n    ],\n  },\n\n  instrument: {                   // and object representing the program change events\n    number : Number,              // the instrument number 0-127\n    family: String,               // the family of instruments, read only.\n    name : String,                // the name of the instrument\n    percussion: Boolean,          // if the instrument is a percussion instrument\n  },          \n}\n]\n} here is a filled out example: "{\n"header": {\n"keySignatures": [],\n"meta": [],\n"name": "",\n"ppq": 240,\n"tempos": [\n  {\n    "bpm": 120,\n    "ticks": 0\n  }\n],\n"timeSignatures": [\n  {\n    "ticks": 0,\n    "timeSignature": [\n      4,\n      4\n    ],\n    "measures": 0\n  }\n]\n},\n"tracks": [\n{\n  "channel": 0,\n  "controlChanges": {\n    "7": [\n      {\n        "number": 7,\n        "ticks": 0,\n        "time": 0,\n        "value": 1\n      }\n    ]\n  },\n  "pitchBends": [],\n  "instrument": {\n    "family": "bass",\n    "number": 33,\n    "name": "electric bass (finger)"\n  },\n  "name": "",\n  "notes": [\n    {\n      "duration": 0.26875,\n      "durationTicks": 129,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 0,\n      "time": 0,\n      "velocity": 0.6141732283464567\n    },\n    {\n      "duration": 0.2562500000000001,\n      "durationTicks": 123,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 360,\n      "time": 0.75,\n      "velocity": 0.6377952755905512\n    },\n    {\n      "duration": 0.26875000000000004,\n      "durationTicks": 129,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 480,\n      "time": 1,\n      "velocity": 0.6220472440944882\n    },\n    {\n      "duration": 0.1333333333333333,\n      "durationTicks": 64,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 600,\n      "time": 1.25,\n      "velocity": 0.5354330708661418\n    },\n    {\n      "duration": 0.7333333333333334,\n      "durationTicks": 352,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 840,\n      "time": 1.75,\n      "velocity": 0.6456692913385826\n    },\n    {\n      "duration": 0.4791666666666665,\n      "durationTicks": 230,\n      "midi": 43,\n      "name": "G2",\n      "ticks": 1200,\n      "time": 2.5,\n      "velocity": 0.4881889763779528\n    },\n    {\n      "duration": 0.28125,\n      "durationTicks": 135,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1440,\n      "time": 3,\n      "velocity": 0.6299212598425197\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1920,\n      "time": 4,\n      "velocity": 0.6929133858267716\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 2280,\n      "time": 4.75,\n      "velocity": 0.6062992125984252\n    },\n    {\n      "duration": 0.25416666666666643,\n      "durationTicks": 122,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 2400,\n      "time": 5,\n      "velocity": 0.7086614173228346\n    },\n    {\n      "duration": 0.2020833333333334,\n      "durationTicks": 97,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 2520,\n      "time": 5.25,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.760416666666667,\n      "durationTicks": 365,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 2760,\n      "time": 5.75,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.47916666666666696,\n      "durationTicks": 230,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 3120,\n      "time": 6.5,\n      "velocity": 0.6062992125984252\n    },\n    {\n        "duration": 0.1875,\n        "durationTicks": 90,\n        "midi": 45,\n        "name": "A2",\n        "ticks": 3360,\n        "time": 7,\n        "velocity": 0.6141732283464567\n      }\n  ],\n  "endOfTrackTicks": 3839\n}\n]\n};"\n\nHere is another example: {\n"header": {\n"keySignatures": [],\n"meta": [],\n"name": "",\n"ppq": 240,\n"tempos": [\n  {\n    "bpm": 120,\n    "ticks": 0\n  }\n],\n"timeSignatures": [\n  {\n    "ticks": 0,\n    "timeSignature": [\n      4,\n      4\n    ],\n    "measures": 0\n  }\n]\n},\n"tracks": [\n{\n  "channel": 0,\n  "controlChanges": {\n    "7": [\n      {\n        "number": 7,\n        "ticks": 0,\n        "time": 0,\n        "value": 1\n      }\n    ]\n  },\n  "pitchBends": [],\n  "instrument": {\n    "family": "bass",\n    "number": 33,\n    "name": "electric bass (finger)"\n  },\n  "name": "",\n  "notes": [\n    {\n      "duration": 0.26875,\n      "durationTicks": 129,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 0,\n      "time": 0,\n      "velocity": 0.6141732283464567\n    },\n    {\n      "duration": 0.2562500000000001,\n      "durationTicks": 123,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 360,\n      "time": 0.75,\n      "velocity": 0.6377952755905512\n    },\n    {\n      "duration": 0.26875000000000004,\n      "durationTicks": 129,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 480,\n      "time": 1,\n      "velocity": 0.6220472440944882\n    },\n    {\n      "duration": 0.1333333333333333,\n      "durationTicks": 64,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 600,\n      "time": 1.25,\n      "velocity": 0.5354330708661418\n    },\n    {\n      "duration": 0.7333333333333334,\n      "durationTicks": 352,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 840,\n      "time": 1.75,\n      "velocity": 0.6456692913385826\n    },\n    {\n      "duration": 0.4791666666666665,\n      "durationTicks": 230,\n      "midi": 43,\n      "name": "G2",\n      "ticks": 1200,\n      "time": 2.5,\n      "velocity": 0.4881889763779528\n    },\n    {\n      "duration": 0.28125,\n      "durationTicks": 135,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1440,\n      "time": 3,\n      "velocity": 0.6299212598425197\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1920,\n      "time": 4,\n      "velocity": 0.6929133858267716\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 2280,\n      "time": 4.75,\n      "velocity": 0.6062992125984252\n    },\n    {\n      "duration": 0.25416666666666643,\n      "durationTicks": 122,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 2400,\n      "time": 5,\n      "velocity": 0.7086614173228346\n    },\n    {\n      "duration": 0.2020833333333334,\n      "durationTicks": 97,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 2520,\n      "time": 5.25,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.760416666666667,\n      "durationTicks": 365,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 2760,\n      "time": 5.75,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.47916666666666696,\n      "durationTicks": 230,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 3120,\n      "time": 6.5,\n      "velocity": 0.6062992125984252\n    },\n    {\n      "duration": 0.1875,\n      "durationTicks": 90,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 3360,\n      "time": 7,\n      "velocity": 0.6141732283464567\n    }\n  ],\n  "endOfTrackTicks": 3839\n}\n]\n}\n5. **Individual Variability**: Recognize the variation in individual preferences for vibration frequencies. The chosen frequency is 100Hz, the length of the note played in total is 8 seconds and then the loop repeats it loops. In this case you create a 16 second sparkle loop played at the same time.\n\nThe goal is to create melodies that are not only musically coherent but also optimized for haptic feedback, based on empirical findings on vibrotactile feedback and human emotional response'),disabled:!n,children:"Generate Random"})}),(0,wo.jsx)(xa,{children:(0,wo.jsx)(Wa,{variant:"outline-light",onClick:()=>c('I need assistance in producing AI-generated text that I convert to music using MIDI files to create haptic melodies optimized for whole-body vibration experiences, composing little interesting "sparkles". We are focusing on frequencies between 25-60Hz as a guiding frequency for our "sparkle", that will be played on top. Structure the compositions as follows:\n\n1. **Note Specification**: Use pitch values corresponding to frequencies in the 25-60Hz range, and durations reflecting musical timing.\n2. **Integration of Silence**: Include silences, denoted by a tuple with pitch 0 and duration signifying the silence length.\n3. **Musical Elements**:\n1. **Preferred Frequencies**: 40-60 Hz are a pleasant range for tactile vibrations, while others argue for 25-40 Hz as most preferred. These frequencies are crucial in creating a haptic melody that is perceived as pleasant and engaging. The baseline that is provided should be within that range. Create in your MIDI harmonic elements for an audioscape corresponding to the baseline frequency for dissonance. \n2. **Consonance and Dissonance**: The papers extend the concept of consonance and dissonance from music theory to vibrotactile stimuli. Consonant intervals (e.g., octave, perfect fifth) were generally preferred over dissonant ones (e.g., minor second). This suggests that haptic melodies should incorporate intervals and combinations that are harmonically pleasing and stable.\n3. **Individual Variability**: While certain frequencies and intervals may be broadly preferred, there is no one-size-fits-all solution. A range of frequencies and combinations might be necessary to cater to different preferences. Use the frequency provided in the baseline, which we will use as a harmonic basis for the user\'s preference.\n4. **Rhythmic and Smooth Patterns**: Preferred are non intrusive, rhythmic and smooth patterns in vibrotactile stimuli. Those are typically characterized by slow attacks and releases. You can also play with the velocity and nuances like little rattle patterns. This mirrors musical aesthetics where rhythm plays a crucial role in the structure and appeal of a piece. For rhythmic and reoccuring pattern you also need noticable silence sometimes.\n5. **Resonance and Neural Entrainment**: The concept of resonance, particularly neural resonance, is explored in the context of vibroacoustic therapy and aesthetic experience. This suggests that the frequencies and rhythms chosen for haptic melodies might also align with neural oscillation frequencies to enhance their therapeutic and relaxing effects.\n- **Pitch Range**: Emphasize pitches that align with or build on frequencies found pleasant in vibrotactile studies.\n    - **Rhythm and Contour**: Develop rhythms and contours reflecting preferences for smooth, rhythmic patterns. Create slowly moving up and down pattern, comparable to fingerpicking a guitar slowly.\n    - **Consonance and Dissonance**: Apply principles of consonance and dissonance, favoring combinations like the octave (1:2) and perfect fifth (2:3). 4. **Output Format**: Present the melody in this format:\nSyntax:\n{\n// the transport and timing data\nheader: {\nname: String,                     // the name of the first empty track, \n                                  // which is usually the song name\ntempos: TempoEvent[],             // the tempo, e.g. 120\ntimeSignatures: TimeSignatureEvent[],  // the time signature, e.g. [4, 4],\n\nPPQ: Number                       // the Pulses Per Quarter of the midi file\n                                  // this is read only\n},\n\nduration: Number,                   // the time until the last note finishes\n\n// an array of midi tracks\ntracks: [\n{\n  name: String,                   // the track name if one was given\n\n  channel: Number,                // channel\n                                  // the ID for this channel; 9 and 10 are\n                                  // reserved for percussion\n  notes: [\n    {\n      midi: Number,               // midi number, e.g. 60\n      time: Number,               // time in seconds\n      ticks: Number,              // time in ticks\n      name: String,               // note name, e.g. "C4",\n      pitch: String,              // the pitch class, e.g. "C",\n      octave : Number,            // the octave, e.g. 4\n      velocity: Number,           // normalized 0-1 velocity\n      duration: Number,           // duration in seconds between noteOn and noteOff\n    }\n  ],\n\n  // midi control changes\n  controlChanges: {\n    // if there are control changes in the midi file\n    \'91\': [\n      {\n        number: Number,           // the cc number\n        ticks: Number,            // time in ticks\n        time: Number,             // time in seconds\n        value: Number,            // normalized 0-1\n      }\n    ],\n  },\n\n  instrument: {                   // and object representing the program change events\n    number : Number,              // the instrument number 0-127\n    family: String,               // the family of instruments, read only.\n    name : String,                // the name of the instrument\n    percussion: Boolean,          // if the instrument is a percussion instrument\n  },          \n}\n]\n} here is a filled out example: "{\n"header": {\n"keySignatures": [],\n"meta": [],\n"name": "",\n"ppq": 240,\n"tempos": [\n  {\n    "bpm": 120,\n    "ticks": 0\n  }\n],\n"timeSignatures": [\n  {\n    "ticks": 0,\n    "timeSignature": [\n      4,\n      4\n    ],\n    "measures": 0\n  }\n]\n},\n"tracks": [\n{\n  "channel": 0,\n  "controlChanges": {\n    "7": [\n      {\n        "number": 7,\n        "ticks": 0,\n        "time": 0,\n        "value": 1\n      }\n    ]\n  },\n  "pitchBends": [],\n  "instrument": {\n    "family": "bass",\n    "number": 33,\n    "name": "electric bass (finger)"\n  },\n  "name": "",\n  "notes": [\n    {\n      "duration": 0.26875,\n      "durationTicks": 129,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 0,\n      "time": 0,\n      "velocity": 0.6141732283464567\n    },\n    {\n      "duration": 0.2562500000000001,\n      "durationTicks": 123,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 360,\n      "time": 0.75,\n      "velocity": 0.6377952755905512\n    },\n    {\n      "duration": 0.26875000000000004,\n      "durationTicks": 129,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 480,\n      "time": 1,\n      "velocity": 0.6220472440944882\n    },\n    {\n      "duration": 0.1333333333333333,\n      "durationTicks": 64,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 600,\n      "time": 1.25,\n      "velocity": 0.5354330708661418\n    },\n    {\n      "duration": 0.7333333333333334,\n      "durationTicks": 352,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 840,\n      "time": 1.75,\n      "velocity": 0.6456692913385826\n    },\n    {\n      "duration": 0.4791666666666665,\n      "durationTicks": 230,\n      "midi": 43,\n      "name": "G2",\n      "ticks": 1200,\n      "time": 2.5,\n      "velocity": 0.4881889763779528\n    },\n    {\n      "duration": 0.28125,\n      "durationTicks": 135,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1440,\n      "time": 3,\n      "velocity": 0.6299212598425197\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1920,\n      "time": 4,\n      "velocity": 0.6929133858267716\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 2280,\n      "time": 4.75,\n      "velocity": 0.6062992125984252\n    },\n    {\n      "duration": 0.25416666666666643,\n      "durationTicks": 122,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 2400,\n      "time": 5,\n      "velocity": 0.7086614173228346\n    },\n    {\n      "duration": 0.2020833333333334,\n      "durationTicks": 97,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 2520,\n      "time": 5.25,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.760416666666667,\n      "durationTicks": 365,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 2760,\n      "time": 5.75,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.47916666666666696,\n      "durationTicks": 230,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 3120,\n      "time": 6.5,\n      "velocity": 0.6062992125984252\n    },\n    {\n        "duration": 0.1875,\n        "durationTicks": 90,\n        "midi": 45,\n        "name": "A2",\n        "ticks": 3360,\n        "time": 7,\n        "velocity": 0.6141732283464567\n      }\n  ],\n  "endOfTrackTicks": 3839\n}\n]\n};"\n\nHere is another example: {\n"header": {\n"keySignatures": [],\n"meta": [],\n"name": "",\n"ppq": 240,\n"tempos": [\n  {\n    "bpm": 120,\n    "ticks": 0\n  }\n],\n"timeSignatures": [\n  {\n    "ticks": 0,\n    "timeSignature": [\n      4,\n      4\n    ],\n    "measures": 0\n  }\n]\n},\n"tracks": [\n{\n  "channel": 0,\n  "controlChanges": {\n    "7": [\n      {\n        "number": 7,\n        "ticks": 0,\n        "time": 0,\n        "value": 1\n      }\n    ]\n  },\n  "pitchBends": [],\n  "instrument": {\n    "family": "bass",\n    "number": 33,\n    "name": "electric bass (finger)"\n  },\n  "name": "",\n  "notes": [\n    {\n      "duration": 0.26875,\n      "durationTicks": 129,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 0,\n      "time": 0,\n      "velocity": 0.6141732283464567\n    },\n    {\n      "duration": 0.2562500000000001,\n      "durationTicks": 123,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 360,\n      "time": 0.75,\n      "velocity": 0.6377952755905512\n    },\n    {\n      "duration": 0.26875000000000004,\n      "durationTicks": 129,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 480,\n      "time": 1,\n      "velocity": 0.6220472440944882\n    },\n    {\n      "duration": 0.1333333333333333,\n      "durationTicks": 64,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 600,\n      "time": 1.25,\n      "velocity": 0.5354330708661418\n    },\n    {\n      "duration": 0.7333333333333334,\n      "durationTicks": 352,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 840,\n      "time": 1.75,\n      "velocity": 0.6456692913385826\n    },\n    {\n      "duration": 0.4791666666666665,\n      "durationTicks": 230,\n      "midi": 43,\n      "name": "G2",\n      "ticks": 1200,\n      "time": 2.5,\n      "velocity": 0.4881889763779528\n    },\n    {\n      "duration": 0.28125,\n      "durationTicks": 135,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1440,\n      "time": 3,\n      "velocity": 0.6299212598425197\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 1920,\n      "time": 4,\n      "velocity": 0.6929133858267716\n    },\n    {\n      "duration": 0.16041666666666643,\n      "durationTicks": 77,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 2280,\n      "time": 4.75,\n      "velocity": 0.6062992125984252\n    },\n    {\n      "duration": 0.25416666666666643,\n      "durationTicks": 122,\n      "midi": 50,\n      "name": "D3",\n      "ticks": 2400,\n      "time": 5,\n      "velocity": 0.7086614173228346\n    },\n    {\n      "duration": 0.2020833333333334,\n      "durationTicks": 97,\n      "midi": 52,\n      "name": "E3",\n      "ticks": 2520,\n      "time": 5.25,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.760416666666667,\n      "durationTicks": 365,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 2760,\n      "time": 5.75,\n      "velocity": 0.5905511811023622\n    },\n    {\n      "duration": 0.47916666666666696,\n      "durationTicks": 230,\n      "midi": 48,\n      "name": "C3",\n      "ticks": 3120,\n      "time": 6.5,\n      "velocity": 0.6062992125984252\n    },\n    {\n      "duration": 0.1875,\n      "durationTicks": 90,\n      "midi": 45,\n      "name": "A2",\n      "ticks": 3360,\n      "time": 7,\n      "velocity": 0.6141732283464567\n    }\n  ],\n  "endOfTrackTicks": 3839\n}\n]\n}\n5. **Individual Variability**: Recognize the variation in individual preferences for vibration frequencies. The chosen frequency is 100Hz, the length of the note played in total is 8 seconds and then the loop repeats it loops. In this case you create a 16 second sparkle loop played at the same time.\n\nThe goal is to create melodies that are not only musically coherent but also optimized for haptic feedback, based on empirical findings on vibrotactile feedback and human emotional response'),disabled:!n,children:"Generate Chords"})})]})})]})})};function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},eh.apply(this,arguments)}function th(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n(176);function nh(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ih(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function rh(e,n){return Object.keys(n).reduce((function(i,r){var s,o=i,a=o[nh(r)],l=o[r],c=th(o,[nh(r),r].map(ih)),u=n[r],h=function(e,n,i){var r=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),o=s[0],a=s[1],l=void 0!==e,c=r.current;return r.current=l,!l&&c&&o!==n&&a(n),[l?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i&&i.apply(void 0,[e].concat(n)),a(e)}),[i])]}(l,a,e[u]),d=h[0],p=h[1];return eh({},c,((s={})[r]=d,s[u]=p,s))}),e)}function sh(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function oh(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ah(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}sh.__suppressDeprecationWarning=!0,oh.__suppressDeprecationWarning=!0,ah.__suppressDeprecationWarning=!0;const lh=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function ch(e){const n=lh(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const uh=Go("h4");uh.displayName="DivStyledAsH4";const hh=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r=uh,...s}=e;return i=Oo(i,"alert-heading"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));hh.displayName="AlertHeading";const dh=hh;const ph="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,fh="undefined"!==typeof document||ph?t.useLayoutEffect:t.useEffect;new WeakMap;const mh=["onKeyDown"];const gh=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,i=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,mh);const[r]=Ba(Object.assign({tagName:"a"},i)),s=ch((e=>{r.onKeyDown(e),null==n||n(e)}));return(o=i.href)&&"#"!==o.trim()&&"button"!==i.role?(0,wo.jsx)("a",Object.assign({ref:t},i,{onKeyDown:n})):(0,wo.jsx)("a",Object.assign({ref:t},i,r,{onKeyDown:s}));var o}));gh.displayName="Anchor";const vh=gh,yh=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r=vh,...s}=e;return i=Oo(i,"alert-link"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));yh.displayName="AlertLink";const _h=yh;function bh(e,t){return bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bh(e,t)}var wh=n(164);const xh=!1,kh=t.createContext(null);var Th="unmounted",Sh="exited",Ch="entering",Eh="entered",Ah="exiting",Oh=function(e){var n,i;function r(t,n){var i;i=e.call(this,t,n)||this;var r,s=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?s?(r=Sh,i.appearStatus=Ch):r=Eh:r=t.unmountOnExit||t.mountOnEnter?Th:Sh,i.state={status:r},i.nextCallback=null,i}i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,bh(n,i),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Th?{status:Sh}:null};var s=r.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ch&&n!==Eh&&(t=Ch):n!==Ch&&n!==Eh||(t=Ah)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ch){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:wh.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Sh&&this.setState({status:Th})},s.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[wh.findDOMNode(this),i],s=r[0],o=r[1],a=this.getTimeouts(),l=i?a.appear:a.enter;!e&&!n||xh?this.safeSetState({status:Eh},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:Ch},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:Eh},(function(){t.props.onEntered(s,o)}))}))})))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:wh.findDOMNode(this);t&&!xh?(this.props.onExit(i),this.safeSetState({status:Ah},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Sh},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Sh},(function(){e.props.onExited(i)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:wh.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=r[0],o=r[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===Th)return null;var n=this.props,i=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,th(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(kh.Provider,{value:null},"function"===typeof i?i(e,r):t.cloneElement(t.Children.only(i),r))},r}(t.Component);function Ih(){}Oh.contextType=kh,Oh.propTypes={},Oh.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ih,onEntering:Ih,onEntered:Ih,onExit:Ih,onExiting:Ih,onExited:Ih},Oh.UNMOUNTED=Th,Oh.EXITED=Sh,Oh.ENTERING=Ch,Oh.ENTERED=Eh,Oh.EXITING=Ah;const Nh=Oh;function Mh(e){return e&&e.ownerDocument||document}function Ph(e,t){return function(e){var t=Mh(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Rh=/([A-Z])/g;var Dh=/^ms-/;function jh(e){return function(e){return e.replace(Rh,"-$1").toLowerCase()}(e).replace(Dh,"-ms-")}var Fh=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Vh=function(e,t){var n="",i="";if("string"===typeof t)return e.style.getPropertyValue(jh(t))||Ph(e).getPropertyValue(jh(t));Object.keys(t).forEach((function(r){var s=t[r];s||0===s?!function(e){return!(!e||!Fh.test(e))}(r)?n+=jh(r)+": "+s+";":i+=r+"("+s+") ":e.style.removeProperty(jh(r))})),i&&(n+="transform: "+i+";"),e.style.cssText+=";"+n},Lh=!("undefined"===typeof window||!window.document||!window.document.createElement);var qh=!1,Bh=!1;try{var zh={get passive(){return qh=!0},get once(){return Bh=qh=!0}};Lh&&(window.addEventListener("test",zh,zh),window.removeEventListener("test",zh,!0))}catch(Cp){}const Uh=function(e,t,n,i){if(i&&"boolean"!==typeof i&&!Bh){var r=i.once,s=i.capture,o=n;!Bh&&r&&(o=n.__once||function e(i){this.removeEventListener(t,e,s),n.call(this,i)},n.__once=o),e.addEventListener(t,o,qh?i:s)}e.addEventListener(t,n,i)};const Wh=function(e,t,n,i){var r=i&&"boolean"!==typeof i?i.capture:i;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)};const Hh=function(e,t,n,i){return Uh(e,t,n,i),function(){Wh(e,t,n,i)}};function Gh(e,t,n){void 0===n&&(n=5);var i=!1,r=setTimeout((function(){i||function(e,t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,i),e.dispatchEvent(r)}}(e,"transitionend",!0)}),t+n),s=Hh(e,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(r),s()}}function Qh(e,t,n,i){null==n&&(n=function(e){var t=Vh(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var r=Gh(e,n,i),s=Hh(e,"transitionend",t);return function(){r(),s()}}function Xh(e,t){const n=Vh(e,t)||"",i=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*i}function $h(e,t){const n=Xh(e,"transitionDuration"),i=Xh(e,"transitionDelay"),r=Qh(e,(n=>{n.target===e&&(r(),t(n))}),n+i)}function Yh(e){e.offsetHeight}const Jh=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Kh=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=Jh(e),i=Jh(t);return e=>{n&&n(e),i&&i(e)}}(e,n)),[e,n])};const Zh=t.forwardRef(((e,n)=>{let{onEnter:i,onEntering:r,onEntered:s,onExit:o,onExiting:a,onExited:l,addEndListener:c,children:u,childRef:h,...d}=e;const p=(0,t.useRef)(null),f=Kh(p,h),m=e=>{var t;f((t=e)&&"setState"in t?wh.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&p.current&&e(p.current,t)},v=(0,t.useCallback)(g(i),[i]),y=(0,t.useCallback)(g(r),[r]),_=(0,t.useCallback)(g(s),[s]),b=(0,t.useCallback)(g(o),[o]),w=(0,t.useCallback)(g(a),[a]),x=(0,t.useCallback)(g(l),[l]),k=(0,t.useCallback)(g(c),[c]);return(0,wo.jsx)(Nh,{ref:n,...d,onEnter:v,onEntered:_,onEntering:y,onExit:b,onExited:x,onExiting:w,addEndListener:k,nodeRef:p,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:m}):t.cloneElement(u,{ref:m})})})),ed={[Ch]:"show",[Eh]:"show"},td=t.forwardRef(((e,n)=>{let{className:i,children:r,transitionClasses:s={},onEnter:o,...a}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},c=(0,t.useCallback)(((e,t)=>{Yh(e),null==o||o(e,t)}),[o]);return(0,wo.jsx)(Zh,{ref:n,addEndListener:$h,...l,onEnter:c,childRef:r.ref,children:(e,n)=>t.cloneElement(r,{...n,className:ko()("fade",i,r.props.className,ed[e],s[e])})})}));td.displayName="Fade";const nd=td,id={"aria-label":ra().string,onClick:ra().func,variant:ra().oneOf(["white"])},rd=t.forwardRef(((e,t)=>{let{className:n,variant:i,"aria-label":r="Close",...s}=e;return(0,wo.jsx)("button",{ref:t,type:"button",className:ko()("btn-close",i&&"btn-close-".concat(i),n),"aria-label":r,...s})}));rd.displayName="CloseButton",rd.propTypes=id;const sd=rd,od=t.forwardRef(((e,t)=>{const{bsPrefix:n,show:i=!0,closeLabel:r="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:c,dismissible:u,transition:h=nd,...d}=rh(e,{show:"onClose"}),p=Oo(n,"alert"),f=ch((e=>{c&&c(!1,e)})),m=!0===h?nd:h,g=(0,wo.jsxs)("div",{role:"alert",...m?void 0:d,ref:t,className:ko()(o,p,l&&"".concat(p,"-").concat(l),u&&"".concat(p,"-dismissible")),children:[u&&(0,wo.jsx)(sd,{onClick:f,"aria-label":r,variant:s}),a]});return m?(0,wo.jsx)(m,{unmountOnExit:!0,...d,ref:void 0,in:i,children:g}):i?g:null}));od.displayName="Alert";const ad=Object.assign(od,{Link:_h,Heading:dh}),ld=e=>{let{onSave:n}=e;const[i,r]=(0,t.useState)(""),[s,o]=(0,t.useState)(null);return(0,wo.jsx)(na,{bg:"dark",text:"white",className:"mb-3",children:(0,wo.jsxs)(na.Body,{children:[(0,wo.jsx)(na.Title,{style:{textAlign:"left",fontWeight:"bold"},children:"GPT Key"}),(0,wo.jsxs)(Fa,{children:[(0,wo.jsxs)(La,{className:"align-items-center",children:[(0,wo.jsx)(xa,{xs:10,children:(0,wo.jsx)(Fa.Control,{type:"text",placeholder:"Enter OpenAI API Key",value:i,onChange:e=>r(e.target.value)})}),(0,wo.jsx)(xa,{xs:2,children:(0,wo.jsx)(Wa,{variant:"outline-light",onClick:()=>{i?n(i):o("Please enter a valid API key.")},children:"Save Key"})})]}),s&&(0,wo.jsx)(La,{children:(0,wo.jsx)(xa,{children:(0,wo.jsx)(ad,{variant:"danger",children:s})})})]})]})})},cd=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:i=!1,as:r="div",className:s,...o}=e;const a=Oo(n,"container"),l="string"===typeof i?"-".concat(i):"-fluid";return(0,wo.jsx)(r,{ref:t,...o,className:ko()(s,i?"".concat(a).concat(l):a)})}));cd.displayName="Container";const ud=cd,hd=t.createContext(null),dd=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,as:r,...s}=e;n=Oo(n,"navbar-brand");const o=r||(s.href?"a":"span");return(0,wo.jsx)(o,{...s,ref:t,className:ko()(i,n)})}));dd.displayName="NavbarBrand";const pd=dd;const fd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),null)},md={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function gd(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],i=md[e];return n+parseInt(Vh(t,i[0]),10)+parseInt(Vh(t,i[1]),10)}const vd={[Sh]:"collapse",[Ah]:"collapsing",[Ch]:"collapsing",[Eh]:"collapse show"},yd=t.forwardRef(((e,n)=>{let{onEnter:i,onEntering:r,onEntered:s,onExit:o,onExiting:a,className:l,children:c,dimension:u="height",in:h=!1,timeout:d=300,mountOnEnter:p=!1,unmountOnExit:f=!1,appear:m=!1,getDimensionValue:g=gd,...v}=e;const y="function"===typeof u?u():u,_=(0,t.useMemo)((()=>fd((e=>{e.style[y]="0"}),i)),[y,i]),b=(0,t.useMemo)((()=>fd((e=>{const t="scroll".concat(y[0].toUpperCase()).concat(y.slice(1));e.style[y]="".concat(e[t],"px")}),r)),[y,r]),w=(0,t.useMemo)((()=>fd((e=>{e.style[y]=null}),s)),[y,s]),x=(0,t.useMemo)((()=>fd((e=>{e.style[y]="".concat(g(y,e),"px"),Yh(e)}),o)),[o,g,y]),k=(0,t.useMemo)((()=>fd((e=>{e.style[y]=null}),a)),[y,a]);return(0,wo.jsx)(Zh,{ref:n,addEndListener:$h,...v,"aria-expanded":v.role?h:null,onEnter:_,onEntering:b,onEntered:w,onExit:x,onExiting:k,childRef:c.ref,in:h,timeout:d,mountOnEnter:p,unmountOnExit:f,appear:m,children:(e,n)=>t.cloneElement(c,{...n,className:ko()(l,c.props.className,vd[e],"width"===y&&"collapse-horizontal")})})})),_d=t.createContext(null);_d.displayName="NavbarContext";const bd=_d,wd=t.forwardRef(((e,n)=>{let{children:i,bsPrefix:r,...s}=e;r=Oo(r,"navbar-collapse");const o=(0,t.useContext)(bd);return(0,wo.jsx)(yd,{in:!(!o||!o.expanded),...s,children:(0,wo.jsx)("div",{ref:n,className:r,children:i})})}));wd.displayName="NavbarCollapse";const xd=wd,kd=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,children:s,label:o="Toggle navigation",as:a="button",onClick:l,...c}=e;i=Oo(i,"navbar-toggler");const{onToggle:u,expanded:h}=(0,t.useContext)(bd)||{},d=ch((e=>{l&&l(e),u&&u()}));return"button"===a&&(c.type="button"),(0,wo.jsx)(a,{...c,ref:n,onClick:d,"aria-label":o,className:ko()(r,i,!h&&"collapsed"),children:s||(0,wo.jsx)("span",{className:"".concat(i,"-icon")})})}));kd.displayName="NavbarToggle";const Td=kd,Sd=new WeakMap,Cd=(e,t)=>{if(!e||!t)return;const n=Sd.get(t)||new Map;Sd.set(t,n);let i=n.get(e);return i||(i=t.matchMedia(e),i.refCount=0,n.set(i.media,i)),i};function Ed(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const i=Cd(e,n),[r,s]=(0,t.useState)((()=>!!i&&i.matches));return fh((()=>{let t=Cd(e,n);if(!t)return s(!1);let i=Sd.get(n);const r=()=>{s(t.matches)};return t.refCount++,t.addListener(r),r(),()=>{t.removeListener(r),t.refCount--,t.refCount<=0&&(null==i||i.delete(t.media)),t=void 0}}),[e]),r}const Ad=function(e){const n=Object.keys(e);function i(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function r(t){const i=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let r=e[i];return r="number"===typeof r?"".concat(r-.2,"px"):"calc(".concat(r," - 0.2px)"),"(max-width: ".concat(r,")")}return function(n,s,o){let a;return"object"===typeof n?(a=n,o=s,s=!0):a={[n]:s=s||!0},Ed((0,t.useMemo)((()=>Object.entries(a).reduce(((t,n)=>{let[s,o]=n;return"up"!==o&&!0!==o||(t=i(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==o&&!0!==o||(t=i(t,r(s))),t}),"")),[JSON.stringify(a)]),o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Od(e){void 0===e&&(e=Mh());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Cp){return e.body}}function Id(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Nd(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}const Md=(Pd="modal-open","".concat("data-rr-ui-").concat(Pd));var Pd;const Rd=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[n]:i.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(Vh(i,n)||"0",10)+e.scrollBarWidth,"px")),i.setAttribute(Md,""),Vh(i,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Md),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Dd=(0,t.createContext)(Lh?window:void 0);Dd.Provider;function jd(){return(0,t.useContext)(Dd)}const Fd=(e,t)=>Lh?null==e?(t||Mh()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Vd=function(e){let{children:n,in:i,onExited:r,mountOnEnter:s,unmountOnExit:o}=e;const a=(0,t.useRef)(null),l=(0,t.useRef)(i),c=ch(r);(0,t.useEffect)((()=>{i?l.current=!0:c(a.current)}),[i,c]);const u=Kh(a,n.ref),h=(0,t.cloneElement)(n,{ref:u});return i?h:o||!l.current&&s?null:h};function Ld(e){let{children:n,in:i,onExited:r,onEntered:s,transition:o}=e;const[a,l]=(0,t.useState)(!i);i&&a&&l(!1);const c=function(e){let{in:n,onTransition:i}=e;const r=(0,t.useRef)(null),s=(0,t.useRef)(!0),o=ch(i);return fh((()=>{if(!r.current)return;let e=!1;return o({in:n,element:r.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[n,o]),fh((()=>(s.current=!1,()=>{s.current=!0})),[]),r}({in:!!i,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==r||r(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=Kh(c,n.ref);return a&&!i?null:(0,t.cloneElement)(n,{ref:u})}function qd(e,t,n){return e?(0,wo.jsx)(e,Object.assign({},n)):t?(0,wo.jsx)(Ld,Object.assign({},n,{transition:t})):(0,wo.jsx)(Vd,Object.assign({},n))}const Bd=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let zd;function Ud(e){const n=jd(),i=e||function(e){return zd||(zd=new Rd({ownerDocument:null==e?void 0:e.document})),zd}(n),r=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>i.add(r.current),remove:()=>i.remove(r.current),isTopModal:()=>i.isTopModal(r.current),setDialogRef:(0,t.useCallback)((e=>{r.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{r.current.backdrop=e}),[])})}const Wd=(0,t.forwardRef)(((e,n)=>{let{show:i=!1,role:r="dialog",className:s,style:o,children:a,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:d,runTransition:p,backdropTransition:f,runBackdropTransition:m,autoFocus:g=!0,enforceFocus:v=!0,restoreFocus:y=!0,restoreFocusOptions:_,renderDialog:b,renderBackdrop:w=(e=>(0,wo.jsx)("div",Object.assign({},e))),manager:x,container:k,onShow:T,onHide:S=(()=>{}),onExit:C,onExited:E,onExiting:A,onEnter:O,onEntering:I,onEntered:N}=e,M=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Bd);const P=jd(),R=function(e,n){const i=jd(),[r,s]=(0,t.useState)((()=>Fd(e,null==i?void 0:i.document)));if(!r){const t=Fd(e);t&&s(t)}return(0,t.useEffect)((()=>{n&&r&&n(r)}),[n,r]),(0,t.useEffect)((()=>{const t=Fd(e);t!==r&&s(t)}),[e,r]),r}(k),D=Ud(x),j=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}(),F=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(i),[V,L]=(0,t.useState)(!i),q=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>D),[D]),Lh&&!F&&i&&(q.current=Od(null==P?void 0:P.document)),i&&V&&L(!1);const B=ch((()=>{if(D.add(),Q.current=Hh(document,"keydown",H),G.current=Hh(document,"focus",(()=>setTimeout(U)),!0),T&&T(),g){var e,t;const n=Od(null!=(e=null==(t=D.dialog)?void 0:t.ownerDocument)?e:null==P?void 0:P.document);D.dialog&&n&&!Id(D.dialog,n)&&(q.current=n,D.dialog.focus())}})),z=ch((()=>{var e;(D.remove(),null==Q.current||Q.current(),null==G.current||G.current(),y)&&(null==(e=q.current)||null==e.focus||e.focus(_),q.current=null)}));(0,t.useEffect)((()=>{i&&R&&B()}),[i,R,B]),(0,t.useEffect)((()=>{V&&z()}),[V,z]),Nd((()=>{z()}));const U=ch((()=>{if(!v||!j()||!D.isTopModal())return;const e=Od(null==P?void 0:P.document);D.dialog&&e&&!Id(D.dialog,e)&&D.dialog.focus()})),W=ch((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&S())})),H=ch((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&D.isTopModal()&&(null==h||h(e),e.defaultPrevented||S())})),G=(0,t.useRef)(),Q=(0,t.useRef)();if(!R)return null;const X=Object.assign({role:r,ref:D.setDialogRef,"aria-modal":"dialog"===r||void 0},M,{style:o,className:s,tabIndex:-1});let $=b?b(X):(0,wo.jsx)("div",Object.assign({},X,{children:t.cloneElement(a,{role:"document"})}));$=qd(d,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:C,onExiting:A,onExited:function(){L(!0),null==E||E(...arguments)},onEnter:O,onEntering:I,onEntered:N,children:$});let Y=null;return l&&(Y=w({ref:D.setBackdropRef,onClick:W}),Y=qd(f,m,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Y})),(0,wo.jsx)(wo.Fragment,{children:wh.createPortal((0,wo.jsxs)(wo.Fragment,{children:[Y,$]}),R)})}));Wd.displayName="Modal";const Hd=Object.assign(Wd,{Manager:Rd}),Gd=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r="div",...s}=e;return i=Oo(i,"offcanvas-body"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));Gd.displayName="OffcanvasBody";const Qd=Gd,Xd={[Ch]:"show",[Eh]:"show"},$d=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,children:s,in:o=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...u}=e;return i=Oo(i,"offcanvas"),(0,wo.jsx)(Zh,{ref:n,addEndListener:$h,in:o,mountOnEnter:a,unmountOnExit:l,appear:c,...u,childRef:s.ref,children:(e,n)=>t.cloneElement(s,{...n,className:ko()(r,s.props.className,(e===Ch||e===Ah)&&"".concat(i,"-toggling"),Xd[e])})})}));$d.displayName="OffcanvasToggling";const Yd=$d,Jd=t.createContext({onHide(){}}),Kd=t.forwardRef(((e,n)=>{let{closeLabel:i="Close",closeVariant:r,closeButton:s=!1,onHide:o,children:a,...l}=e;const c=(0,t.useContext)(Jd),u=ch((()=>{null==c||c.onHide(),null==o||o()}));return(0,wo.jsxs)("div",{ref:n,...l,children:[a,s&&(0,wo.jsx)(sd,{"aria-label":i,variant:r,onClick:u})]})})),Zd=Kd,ep=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,closeLabel:r="Close",closeButton:s=!1,...o}=e;return n=Oo(n,"offcanvas-header"),(0,wo.jsx)(Zd,{ref:t,...o,className:ko()(i,n),closeLabel:r,closeButton:s})}));ep.displayName="OffcanvasHeader";const tp=ep,np=Go("h5"),ip=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r=np,...s}=e;return i=Oo(i,"offcanvas-title"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));ip.displayName="OffcanvasTitle";const rp=ip;var sp=Function.prototype.bind.call(Function.prototype.call,[].slice);function op(e,t){return sp(e.querySelectorAll(t))}function ap(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const lp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",cp=".sticky-top",up=".navbar-toggler";class hp extends Rd{adjustAndStore(e,t,n){const i=t.style[e];t.dataset[e]=i,Vh(t,{[e]:"".concat(parseFloat(Vh(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Vh(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,i;if(i="modal-open",(n=t).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"===typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";op(t,lp).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth))),op(t,cp).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),op(t,up).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,i;i="modal-open",(n=t).classList?n.classList.remove(i):"string"===typeof n.className?n.className=ap(n.className,i):n.setAttribute("class",ap(n.className&&n.className.baseVal||"",i));const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";op(t,lp).forEach((e=>this.restore(r,e))),op(t,cp).forEach((e=>this.restore(s,e))),op(t,up).forEach((e=>this.restore(s,e)))}}let dp;const pp=hp;function fp(e){return(0,wo.jsx)(Yd,{...e})}function mp(e){return(0,wo.jsx)(nd,{...e})}const gp=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,children:s,"aria-labelledby":o,placement:a="start",responsive:l,show:c=!1,backdrop:u=!0,keyboard:h=!0,scroll:d=!1,onEscapeKeyDown:p,onShow:f,onHide:m,container:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:_=!0,restoreFocusOptions:b,onEntered:w,onExit:x,onExiting:k,onEnter:T,onEntering:S,onExited:C,backdropClassName:E,manager:A,renderStaticNode:O=!1,...I}=e;const N=(0,t.useRef)();i=Oo(i,"offcanvas");const{onToggle:M}=(0,t.useContext)(bd)||{},[P,R]=(0,t.useState)(!1),D=Ad(l||"xs","up");(0,t.useEffect)((()=>{R(l?c&&!D:c)}),[c,l,D]);const j=ch((()=>{null==M||M(),null==m||m()})),F=(0,t.useMemo)((()=>({onHide:j})),[j]);const V=(0,t.useCallback)((e=>(0,wo.jsx)("div",{...e,className:ko()("".concat(i,"-backdrop"),E)})),[E,i]),L=e=>(0,wo.jsx)("div",{...e,...I,className:ko()(r,l?"".concat(i,"-").concat(l):i,"".concat(i,"-").concat(a)),"aria-labelledby":o,children:s});return(0,wo.jsxs)(wo.Fragment,{children:[!P&&(l||O)&&L({}),(0,wo.jsx)(Jd.Provider,{value:F,children:(0,wo.jsx)(Hd,{show:P,ref:n,backdrop:u,container:g,keyboard:h,autoFocus:v,enforceFocus:y&&!d,restoreFocus:_,restoreFocusOptions:b,onEscapeKeyDown:p,onShow:f,onHide:j,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];null==T||T(e,...n)},onEntering:S,onEntered:w,onExit:x,onExiting:k,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];null==C||C(...n)},manager:A||(d?(N.current||(N.current=new pp({handleContainerOverflow:!1})),N.current):function(e){return dp||(dp=new hp(e)),dp}()),transition:fp,backdropTransition:mp,renderBackdrop:V,renderDialog:L})})]})}));gp.displayName="Offcanvas";const vp=Object.assign(gp,{Body:Qd,Header:tp,Title:rp}),yp=t.forwardRef(((e,n)=>{const i=(0,t.useContext)(bd);return(0,wo.jsx)(vp,{ref:n,show:!(null==i||!i.expanded),...e,renderStaticNode:!0})}));yp.displayName="NavbarOffcanvas";const _p=yp,bp=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:i,as:r="span",...s}=e;return i=Oo(i,"navbar-text"),(0,wo.jsx)(r,{ref:t,className:ko()(n,i),...s})}));bp.displayName="NavbarText";const wp=bp,xp=t.forwardRef(((e,n)=>{const{bsPrefix:i,expand:r=!0,variant:s="light",bg:o,fixed:a,sticky:l,className:c,as:u="nav",expanded:h,onToggle:d,onSelect:p,collapseOnSelect:f=!1,...m}=rh(e,{expanded:"onToggle"}),g=Oo(i,"navbar"),v=(0,t.useCallback)((function(){null==p||p(...arguments),f&&h&&(null==d||d(!1))}),[p,f,h,d]);void 0===m.role&&"nav"!==u&&(m.role="navigation");let y="".concat(g,"-expand");"string"===typeof r&&(y="".concat(y,"-").concat(r));const _=(0,t.useMemo)((()=>({onToggle:()=>null==d?void 0:d(!h),bsPrefix:g,expanded:!!h,expand:r})),[g,h,r,d]);return(0,wo.jsx)(bd.Provider,{value:_,children:(0,wo.jsx)(hd.Provider,{value:v,children:(0,wo.jsx)(u,{ref:n,...m,className:ko()(c,g,r&&y,s&&"".concat(g,"-").concat(s),o&&"bg-".concat(o),l&&"sticky-".concat(l),a&&"fixed-".concat(a))})})})}));xp.displayName="Navbar";const kp=Object.assign(xp,{Brand:pd,Collapse:xd,Offcanvas:_p,Text:wp,Toggle:Td});const Tp=function(){const[e,n]=(0,t.useState)(null),[i,s]=(0,t.useState)(null),[o,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)(null),[d,p]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[y,_]=(0,t.useState)(null),b=e=>{try{n(e),console.log("Baseline Data:",e)}catch(Cp){s("Error in baseline composition completion: "+Cp.message),console.error("Error in baseline composition completion:",Cp)}},w=e=>{try{a(e),console.log("Sparkles Data:",e)}catch(Cp){s("Error in sparkles composition completion: "+Cp.message),console.error("Error in sparkles composition completion:",Cp)}};return(0,wo.jsx)("div",{className:"App",children:(0,wo.jsxs)(ud,{children:[(0,wo.jsx)(kp,{variant:"dark",className:"mb-3",children:(0,wo.jsx)(ud,{children:(0,wo.jsxs)(kp.Brand,{href:"#home",children:[(0,wo.jsx)("img",{alt:"",src:r,width:"30",height:"30",className:"d-inline-block align-top"})," ","React MIDI Player"]})})}),i&&(0,wo.jsx)(ad,{variant:"danger",children:i}),(0,wo.jsx)(La,{children:(0,wo.jsx)(xa,{children:(0,wo.jsx)(ld,{onSave:e=>c(e)})})}),(0,wo.jsx)(La,{children:(0,wo.jsx)(xa,{children:(0,wo.jsx)(Xa,{onBaselineCompositionComplete:b,onSparklesCompositionComplete:w,setBaselineData:n,setSparklesData:a})})}),(0,wo.jsx)(La,{children:(0,wo.jsx)(xa,{children:(0,wo.jsx)(Ya,{onBaselineGenerated:b,onStartFrequencyChange:h,onEndFrequencyChange:p,onStartBPMChange:m,onEndBPMChange:v,onDurationInSecondsChange:_})})}),(0,wo.jsx)(La,{children:(0,wo.jsx)(xa,{children:(0,wo.jsx)(Zu,{apiKey:l,baselineJsonData:e,sparklesJsonData:w})})}),(0,wo.jsx)(La,{children:(0,wo.jsx)(xa,{children:(0,wo.jsx)(Ha,{baselineJsonData:e,sparklesJsonData:o,durationInSeconds:y})})})]})})},Sp=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:s,getTTFB:o}=t;n(e),i(e),r(e),s(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,wo.jsx)(t.StrictMode,{children:(0,wo.jsx)(Tp,{})})),Sp()})()})();
//# sourceMappingURL=main.2db85823.js.map